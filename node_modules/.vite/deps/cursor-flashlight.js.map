{
  "version": 3,
  "sources": ["../../cursor-flashlight/src/eventHandlers.ts", "../../cursor-flashlight/src/sheet.ts", "../../cursor-flashlight/src/index.ts"],
  "sourcesContent": ["const handleUpdate = (x: number, y: number) => {\r\n  document.documentElement.style.setProperty('--cursorX', x + 'px');\r\n  document.documentElement.style.setProperty('--cursorY', y + 'px');\r\n};\r\n\r\nconst handleMouseMove = (e: MouseEvent) => {\r\n  handleUpdate(e.clientX, e.clientY);\r\n};\r\n\r\nconst handleTouchMove = (e: TouchEvent) => {\r\n  handleUpdate(e.touches[0].clientX, e.touches[0].clientY);\r\n};\r\n\r\nexport const registerEventHandlers = () => {\r\n  document.addEventListener('mousemove', handleMouseMove);\r\n  document.addEventListener('touchmove', handleTouchMove);\r\n}\r\n\r\nexport const unregisterEventHandlers = () => {\r\n  document.removeEventListener('mousemove', handleMouseMove);\r\n  document.removeEventListener('touchmove', handleTouchMove);\r\n}", "import css from 'minify-css.macro';\r\n\r\nconst sheet = document.head.appendChild(document.createElement('style'))\r\n  .sheet as CSSStyleSheet;\r\n\r\nlet ruleIndices: number[] = [];\r\n\r\nexport const insertNeededRules = ({ size }: { size: string }) => {\r\n  ruleIndices.push(\r\n    sheet.insertRule(css`\r\n    @media (hover: hover) {\r\n      :root {\r\n        --flashlightCursorX: 50vw;\r\n        --flashlightCursorY: 50vh;\r\n        --flashlightBg: radial-gradient(\r\n          circle ${size} at var(--cursorX) var(--cursorY),\r\n          rgba(0,0,0,0) 0%,\r\n          rgba(0,0,0,.5) 80%,\r\n          rgba(0,0,0,.75) 100%\r\n        );\r\n      }\r\n    }`),\r\n  );\r\n\r\n  ruleIndices.push(\r\n    sheet.insertRule(css`\r\n    @media (hover: hover) {\r\n      :root:before {\r\n        content: '';\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: fixed;\r\n        pointer-events: none;\r\n        background: var(--flashlightBg);\r\n      }\r\n    }`),\r\n  );\r\n};\r\n\r\nexport const cleanUpRules = () => {\r\n  ruleIndices.forEach((index) => {\r\n    sheet.deleteRule(index);\r\n  });\r\n\r\n  ruleIndices = [];\r\n};\r\n", "import { registerEventHandlers, unregisterEventHandlers } from './eventHandlers';\r\nimport { cleanUpRules, insertNeededRules } from './sheet';\r\n\r\nlet _isEnabled = false;\r\n\r\nexport const enable = ({ size } = { size: '10vmax' }) => {\r\n  if (_isEnabled) return;\r\n\r\n  insertNeededRules({ size })\r\n  registerEventHandlers()\r\n\r\n  _isEnabled = true;\r\n};\r\n\r\nexport const disable = () => {\r\n  if (!_isEnabled) return;\r\n\r\n  unregisterEventHandlers()\r\n  cleanUpRules()\r\n\r\n  _isEnabled = false;\r\n};\r\n\r\nexport const isEnabled = () => _isEnabled;\r\n"],
  "mappings": ";;;AAAA,IAAMA,IAAe,CAACC,IAAWC,OAAAA;AAC/BC,WAASC,gBAAgBC,MAAMC,YAAY,aAAaL,KAAI,IAAA,GAC5DE,SAASC,gBAAgBC,MAAMC,YAAY,aAAaJ,KAAI,IAAA;AAAA;AAF9D,IAKMK,IAAmBC,CAAAA,OAAAA;AACvBR,IAAaQ,GAAEC,SAASD,GAAEE,OAAAA;AAAAA;AAN5B,IASMC,IAAmBH,CAAAA,OAAAA;AACvBR,IAAaQ,GAAEI,QAAQ,CAAA,EAAGH,SAASD,GAAEI,QAAQ,CAAA,EAAGF,OAAAA;AAAAA;AAVlD,ICEMG,IAAQV,SAASW,KAAKC,YAAYZ,SAASa,cAAc,OAAA,CAAA,EAC5DH;AAEH,IAAII,IAAwB,CAAA;AAA5B,ICFIC,IAAAA;AAESC,IAAAA,IAAS,CAAA,EAAGC,MAAAA,GAAAA,IAAS,EAAEA,MAAM,SAAA,MAAA;AACpCF,SDC2B,CAAA,EAAGE,MAAAA,GAAAA,MAAAA;AAClCH,MAAYI,KACVR,EAAMS,WAAAA,sHAAAA,EAAAA,gGAAAA,CAAAA,GAeRL,EAAYI,KACVR,EAAMS,WAAAA,wJAAAA,CAAAA;EAAAA,GCjBU,EAAEF,MAAAA,GAAAA,CAAAA,GFMpBjB,SAASoB,iBAAiB,aAAahB,CAAAA,GACvCJ,SAASoB,iBAAiB,aAAaZ,CAAAA,GEJvCO,IAAAA;AAAa;AANFC,IASAK,IAAU,MAAA;AAChBN,QFILf,SAASsB,oBAAoB,aAAalB,CAAAA,GAC1CJ,SAASsB,oBAAoB,aAAad,CAAAA,GCqB1CM,EAAYS,QAASC,CAAAA,OAAAA;AACnBd,MAAMe,WAAWD,EAAAA;EAAAA,CAAAA,GAGnBV,IAAc,CAAA,GCzBdC,IAAAA;AAAa;AAfFC,IAkBAU,IAAY,MAAMX;",
  "names": ["handleUpdate", "x", "y", "document", "documentElement", "style", "setProperty", "handleMouseMove", "e", "clientX", "clientY", "handleTouchMove", "touches", "sheet", "head", "appendChild", "createElement", "ruleIndices", "_isEnabled", "enable", "size", "push", "insertRule", "addEventListener", "disable", "removeEventListener", "forEach", "index", "deleteRule", "isEnabled"]
}
