function tw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},th={},HT={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),nw=Symbol.for("react.portal"),rw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),aw=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),lw=Symbol.for("react.suspense"),cw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Wg=Symbol.iterator;function dw(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zT=Object.assign,$T={};function mo(t,e,n){this.props=t,this.context=e,this.refs=$T,this.updater=n||jT}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WT(){}WT.prototype=mo.prototype;function Wp(t,e,n){this.props=t,this.context=e,this.refs=$T,this.updater=n||jT}var qp=Wp.prototype=new WT;qp.constructor=Wp;zT(qp,mo.prototype);qp.isPureReactComponent=!0;var qg=Array.isArray,qT=Object.prototype.hasOwnProperty,Yp={current:null},YT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qT.call(e,r)&&!YT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tu,type:t,key:s,ref:o,props:i,_owner:Yp.current}}function fw(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function pw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yg=/\/+/g;function hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pw(""+t.key):e.toString(36)}function Ll(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tu:case nw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hd(o,0):r,qg(i)?(n="",t!=null&&(n=t.replace(Yg,"$&/")+"/"),Ll(i,e,n,"",function(c){return c})):i!=null&&(Gp(i)&&(i=fw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+hd(s,a);o+=Ll(s,e,n,u,i)}else if(u=dw(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+hd(s,a++),o+=Ll(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sl(t,e,n){if(t==null)return t;var r=[],i=0;return Ll(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Ol={transition:null},gw={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:Yp};function KT(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:sl,forEach:function(t,e,n){sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sl(t,function(){e++}),e},toArray:function(t){return sl(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=mo;Te.Fragment=rw;Te.Profiler=sw;Te.PureComponent=Wp;Te.StrictMode=iw;Te.Suspense=lw;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw;Te.act=KT;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)qT.call(e,u)&&!YT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tu,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:aw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ow,_context:t},t.Consumer=t};Te.createElement=GT;Te.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:uw,render:t}};Te.isValidElement=Gp;Te.lazy=function(t){return{$$typeof:hw,_payload:{_status:-1,_result:t},_init:mw}};Te.memo=function(t,e){return{$$typeof:cw,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ol.transition;Ol.transition={};try{t()}finally{Ol.transition=e}};Te.unstable_act=KT;Te.useCallback=function(t,e){return jt.current.useCallback(t,e)};Te.useContext=function(t){return jt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return jt.current.useEffect(t,e)};Te.useId=function(){return jt.current.useId()};Te.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return jt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};Te.useRef=function(t){return jt.current.useRef(t)};Te.useState=function(t){return jt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return jt.current.useTransition()};Te.version="18.3.1";HT.exports=Te;var te=HT.exports;const Qr=BT(te),Ew=tw({__proto__:null,default:Qr},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=te,Tw=Symbol.for("react.element"),yw=Symbol.for("react.fragment"),Iw=Object.prototype.hasOwnProperty,vw=_w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Aw={key:!0,ref:!0,__self:!0,__source:!0};function QT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Iw.call(e,r)&&!Aw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Tw,type:t,key:s,ref:o,props:i,_owner:vw.current}}th.Fragment=yw;th.jsx=QT;th.jsxs=QT;VT.exports=th;var v=VT.exports,XT={exports:{}},ln={},JT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ie){var L=Z.length;Z.push(ie);e:for(;0<L;){var Ae=L-1>>>1,Ee=Z[Ae];if(0<i(Ee,ie))Z[Ae]=ie,Z[L]=Ee,L=Ae;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ie=Z[0],L=Z.pop();if(L!==ie){Z[0]=L;e:for(var Ae=0,Ee=Z.length,M=Ee>>>1;Ae<M;){var Xe=2*(Ae+1)-1,pt=Z[Xe],Pe=Xe+1,Mt=Z[Pe];if(0>i(pt,L))Pe<Ee&&0>i(Mt,pt)?(Z[Ae]=Mt,Z[Pe]=L,Ae=Pe):(Z[Ae]=pt,Z[Xe]=L,Ae=Xe);else if(Pe<Ee&&0>i(Mt,L))Z[Ae]=Mt,Z[Pe]=L,Ae=Pe;else break e}}return ie}function i(Z,ie){var L=Z.sortIndex-ie.sortIndex;return L!==0?L:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,g=!1,_=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=Z)r(c),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=n(c)}}function B(Z){if(k=!1,w(Z),!_)if(n(u)!==null)_=!0,Ge(W);else{var ie=n(c);ie!==null&&xe(B,ie.startTime-Z)}}function W(Z,ie){_=!1,k&&(k=!1,y(C),C=-1),g=!0;var L=m;try{for(w(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||Z&&!O());){var Ae=f.callback;if(typeof Ae=="function"){f.callback=null,m=f.priorityLevel;var Ee=Ae(f.expirationTime<=ie);ie=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(u)&&r(u),w(ie)}else r(u);f=n(u)}if(f!==null)var M=!0;else{var Xe=n(c);Xe!==null&&xe(B,Xe.startTime-ie),M=!1}return M}finally{f=null,m=L,g=!1}}var U=!1,R=null,C=-1,N=5,T=-1;function O(){return!(t.unstable_now()-T<N)}function F(){if(R!==null){var Z=t.unstable_now();T=Z;var ie=!0;try{ie=R(!0,Z)}finally{ie?x():(U=!1,R=null)}}else U=!1}var x;if(typeof I=="function")x=function(){I(F)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,pe=ye.port2;ye.port1.onmessage=F,x=function(){pe.postMessage(null)}}else x=function(){P(F,0)};function Ge(Z){R=Z,U||(U=!0,x())}function xe(Z,ie){C=P(function(){Z(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ge(W))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var L=m;m=ie;try{return Z()}finally{m=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var L=m;m=Z;try{return ie()}finally{m=L}},t.unstable_scheduleCallback=function(Z,ie,L){var Ae=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Ae+L:Ae):L=Ae,Z){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=L+Ee,Z={id:d++,callback:ie,priorityLevel:Z,startTime:L,expirationTime:Ee,sortIndex:-1},L>Ae?(Z.sortIndex=L,e(c,Z),n(u)===null&&Z===n(c)&&(k?(y(C),C=-1):k=!0,xe(B,L-Ae))):(Z.sortIndex=Ee,e(u,Z),_||g||(_=!0,Ge(W))),Z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Z){var ie=m;return function(){var L=m;m=ie;try{return Z.apply(this,arguments)}finally{m=L}}}})(ZT);JT.exports=ZT;var bw=JT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=te,un=bw;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,Ha={};function ns(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(Ha[t]=e,t=0;t<e.length;t++)ey.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=Object.prototype.hasOwnProperty,ww=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function Sw(t){return gf.call(Kg,t)?!0:gf.call(Gg,t)?!1:ww.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function kw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rw(t,e,n,r){if(e===null||typeof e>"u"||kw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kp=/[\-:]([a-z])/g;function Qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kp,Qp);It[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kp,Qp);It[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kp,Qp);It[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rw(e,n,i,r)&&(n=null),r||i===null?Sw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ol=Symbol.for("react.element"),bs=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),em=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),ry=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,dd;function la(t){if(dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dd=e&&e[1]||""}return`
`+dd+t}var fd=!1;function pd(t,e){if(!t||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function Nw(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=pd(t.type,!1),t;case 11:return t=pd(t.type.render,!1),t;case 1:return t=pd(t.type,!0),t;default:return""}}function yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case bs:return"Portal";case Ef:return"Profiler";case Jp:return"StrictMode";case _f:return"Suspense";case Tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ny:return(t.displayName||"Context")+".Consumer";case ty:return(t._context.displayName||"Context")+".Provider";case Zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case em:return e=t.displayName||null,e!==null?e:yf(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return yf(t(e))}catch{}}return null}function xw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(e);case 8:return e===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pw(t){var e=iy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function al(t){t._valueTracker||(t._valueTracker=Pw(t))}function sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function If(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oy(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function vf(t,e){oy(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(ca(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function ay(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ul,ly=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lw=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(t){Lw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ta[e]=Ta[t]})});function cy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ta.hasOwnProperty(t)&&Ta[t]?(""+e).trim():e+"px"}function hy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ow=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wf(t,e){if(e){if(Ow[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rf=null,Us=null,Bs=null;function t1(t){if(t=vu(t)){if(typeof Rf!="function")throw Error(X(280));var e=t.stateNode;e&&(e=oh(e),Rf(t.stateNode,t.type,e))}}function dy(t){Us?Bs?Bs.push(t):Bs=[t]:Us=t}function fy(){if(Us){var t=Us,e=Bs;if(Bs=Us=null,t1(t),e)for(t=0;t<e.length;t++)t1(e[t])}}function py(t,e){return t(e)}function my(){}var md=!1;function gy(t,e,n){if(md)return t(e,n);md=!0;try{return py(t,e,n)}finally{md=!1,(Us!==null||Bs!==null)&&(my(),fy())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Nf=!1;if(Er)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Nf=!1}function Dw(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ya=!1,sc=null,oc=!1,xf=null,Mw={onError:function(t){ya=!0,sc=t}};function Fw(t,e,n,r,i,s,o,a,u){ya=!1,sc=null,Dw.apply(Mw,arguments)}function Uw(t,e,n,r,i,s,o,a,u){if(Fw.apply(this,arguments),ya){if(ya){var c=sc;ya=!1,sc=null}else throw Error(X(198));oc||(oc=!0,xf=c)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ey(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n1(t){if(rs(t)!==t)throw Error(X(188))}function Bw(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n1(i),t;if(s===r)return n1(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function _y(t){return t=Bw(t),t!==null?Ty(t):null}function Ty(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ty(t);if(e!==null)return e;t=t.sibling}return null}var yy=un.unstable_scheduleCallback,r1=un.unstable_cancelCallback,Vw=un.unstable_shouldYield,Hw=un.unstable_requestPaint,Ze=un.unstable_now,jw=un.unstable_getCurrentPriorityLevel,nm=un.unstable_ImmediatePriority,Iy=un.unstable_UserBlockingPriority,ac=un.unstable_NormalPriority,zw=un.unstable_LowPriority,vy=un.unstable_IdlePriority,nh=null,qn=null;function $w(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(nh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Yw,Ww=Math.log,qw=Math.LN2;function Yw(t){return t>>>=0,t===0?32:31-(Ww(t)/qw|0)|0}var ll=64,cl=4194304;function ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ha(a):(s&=o,s!==0&&(r=ha(s)))}else o=n&~i,o!==0?r=ha(o):s!==0&&(r=ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function Gw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Gw(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function Qw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function by(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cy,im,wy,Sy,ky,Lf=!1,hl=[],Xr=null,Jr=null,Zr=null,$a=new Map,Wa=new Map,Hr=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":$a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(e.pointerId)}}function Xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&im(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jw(t,e,n,r,i){switch(e){case"focusin":return Xr=Xo(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=Xo(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=Xo(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $a.set(s,Xo($a.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wa.set(s,Xo(Wa.get(s)||null,t,e,n,r,i)),!0}return!1}function Ry(t){var e=Oi(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Ey(n),e!==null){t.blockedOn=e,ky(t.priority,function(){wy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return e=vu(n),e!==null&&im(e),t.blockedOn=n,!1;e.shift()}return!0}function s1(t,e,n){Dl(t)&&n.delete(e)}function Zw(){Lf=!1,Xr!==null&&Dl(Xr)&&(Xr=null),Jr!==null&&Dl(Jr)&&(Jr=null),Zr!==null&&Dl(Zr)&&(Zr=null),$a.forEach(s1),Wa.forEach(s1)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Lf||(Lf=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,Zw)))}function qa(t){function e(i){return Jo(i,t)}if(0<hl.length){Jo(hl[0],t);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&Jo(Xr,t),Jr!==null&&Jo(Jr,t),Zr!==null&&Jo(Zr,t),$a.forEach(e),Wa.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&Hr.shift()}var Vs=Cr.ReactCurrentBatchConfig,lc=!0;function eS(t,e,n,r){var i=Ne,s=Vs.transition;Vs.transition=null;try{Ne=1,sm(t,e,n,r)}finally{Ne=i,Vs.transition=s}}function tS(t,e,n,r){var i=Ne,s=Vs.transition;Vs.transition=null;try{Ne=4,sm(t,e,n,r)}finally{Ne=i,Vs.transition=s}}function sm(t,e,n,r){if(lc){var i=Of(t,e,n,r);if(i===null)wd(t,e,r,cc,n),i1(t,r);else if(Jw(i,t,e,n,r))r.stopPropagation();else if(i1(t,r),e&4&&-1<Xw.indexOf(t)){for(;i!==null;){var s=vu(i);if(s!==null&&Cy(s),s=Of(t,e,n,r),s===null&&wd(t,e,r,cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wd(t,e,r,null,n)}}var cc=null;function Of(t,e,n,r){if(cc=null,t=tm(r),t=Oi(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ey(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cc=t,null}function Ny(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jw()){case nm:return 1;case Iy:return 4;case ac:case zw:return 16;case vy:return 536870912;default:return 16}default:return 16}}var qr=null,om=null,Ml=null;function xy(){if(Ml)return Ml;var t,e=om,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ml=i.slice(t,1<r?1-r:void 0)}function Fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function o1(){return!1}function cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dl:o1,this.isPropagationStopped=o1,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=cn(go),Iu=qe({},go,{view:0,detail:0}),nS=cn(Iu),Ed,_d,Zo,rh=qe({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(Ed=t.screenX-Zo.screenX,_d=t.screenY-Zo.screenY):_d=Ed=0,Zo=t),Ed)},movementY:function(t){return"movementY"in t?t.movementY:_d}}),a1=cn(rh),rS=qe({},rh,{dataTransfer:0}),iS=cn(rS),sS=qe({},Iu,{relatedTarget:0}),Td=cn(sS),oS=qe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=cn(oS),uS=qe({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=cn(uS),cS=qe({},go,{data:0}),u1=cn(cS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fS[t])?!!e[t]:!1}function um(){return pS}var mS=qe({},Iu,{key:function(t){if(t.key){var e=hS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gS=cn(mS),ES=qe({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l1=cn(ES),_S=qe({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),TS=cn(_S),yS=qe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),IS=cn(yS),vS=qe({},rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=cn(vS),bS=[9,13,27,32],lm=Er&&"CompositionEvent"in window,Ia=null;Er&&"documentMode"in document&&(Ia=document.documentMode);var CS=Er&&"TextEvent"in window&&!Ia,Py=Er&&(!lm||Ia&&8<Ia&&11>=Ia),c1=" ",h1=!1;function Ly(t,e){switch(t){case"keyup":return bS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function wS(t,e){switch(t){case"compositionend":return Oy(e);case"keypress":return e.which!==32?null:(h1=!0,c1);case"textInput":return t=e.data,t===c1&&h1?null:t;default:return null}}function SS(t,e){if(ws)return t==="compositionend"||!lm&&Ly(t,e)?(t=xy(),Ml=om=qr=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Py&&e.locale!=="ko"?null:e.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kS[t.type]:e==="textarea"}function Dy(t,e,n,r){dy(r),e=hc(e,"onChange"),0<e.length&&(n=new am("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var va=null,Ya=null;function RS(t){qy(t,0)}function ih(t){var e=Rs(t);if(sy(e))return t}function NS(t,e){if(t==="change")return e}var My=!1;if(Er){var yd;if(Er){var Id="oninput"in document;if(!Id){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),Id=typeof f1.oninput=="function"}yd=Id}else yd=!1;My=yd&&(!document.documentMode||9<document.documentMode)}function p1(){va&&(va.detachEvent("onpropertychange",Fy),Ya=va=null)}function Fy(t){if(t.propertyName==="value"&&ih(Ya)){var e=[];Dy(e,Ya,t,tm(t)),gy(RS,e)}}function xS(t,e,n){t==="focusin"?(p1(),va=e,Ya=n,va.attachEvent("onpropertychange",Fy)):t==="focusout"&&p1()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Ya)}function LS(t,e){if(t==="click")return ih(e)}function OS(t,e){if(t==="input"||t==="change")return ih(e)}function DS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:DS;function Ga(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gf.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function m1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g1(t,e){var n=m1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m1(n)}}function Uy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MS(t){var e=By(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uy(n.ownerDocument.documentElement,n)){if(r!==null&&cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g1(n,s);var o=g1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FS=Er&&"documentMode"in document&&11>=document.documentMode,Ss=null,Df=null,Aa=null,Mf=!1;function E1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mf||Ss==null||Ss!==ic(r)||(r=Ss,"selectionStart"in r&&cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ga(Aa,r)||(Aa=r,r=hc(Df,"onSelect"),0<r.length&&(e=new am("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},vd={},Vy={};Er&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function sh(t){if(vd[t])return vd[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vy)return vd[t]=e[n];return t}var Hy=sh("animationend"),jy=sh("animationiteration"),zy=sh("animationstart"),$y=sh("transitionend"),Wy=new Map,_1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){Wy.set(t,e),ns(e,[t])}for(var Ad=0;Ad<_1.length;Ad++){var bd=_1[Ad],US=bd.toLowerCase(),BS=bd[0].toUpperCase()+bd.slice(1);_i(US,"on"+BS)}_i(Hy,"onAnimationEnd");_i(jy,"onAnimationIteration");_i(zy,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i($y,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function T1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uw(r,e,void 0,t),t.currentTarget=null}function qy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;T1(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;T1(i,a,c),s=u}}}if(oc)throw t=xf,oc=!1,xf=null,t}function Be(t,e){var n=e[Hf];n===void 0&&(n=e[Hf]=new Set);var r=t+"__bubble";n.has(r)||(Yy(e,t,2,!1),n.add(r))}function Cd(t,e,n){var r=0;e&&(r|=4),Yy(n,t,r,e)}var pl="_reactListening"+Math.random().toString(36).slice(2);function Ka(t){if(!t[pl]){t[pl]=!0,ey.forEach(function(n){n!=="selectionchange"&&(VS.has(n)||Cd(n,!1,t),Cd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pl]||(e[pl]=!0,Cd("selectionchange",!1,e))}}function Yy(t,e,n,r){switch(Ny(e)){case 1:var i=eS;break;case 4:i=tS;break;default:i=sm}n=i.bind(null,e,n,t),i=void 0,!Nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gy(function(){var c=s,d=tm(n),f=[];e:{var m=Wy.get(t);if(m!==void 0){var g=am,_=t;switch(t){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":g=gS;break;case"focusin":_="focus",g=Td;break;case"focusout":_="blur",g=Td;break;case"beforeblur":case"afterblur":g=Td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TS;break;case Hy:case jy:case zy:g=aS;break;case $y:g=IS;break;case"scroll":g=nS;break;case"wheel":g=AS;break;case"copy":case"cut":case"paste":g=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=l1}var k=(e&4)!==0,P=!k&&t==="scroll",y=k?m!==null?m+"Capture":null:m;k=[];for(var I=c,w;I!==null;){w=I;var B=w.stateNode;if(w.tag===5&&B!==null&&(w=B,y!==null&&(B=za(I,y),B!=null&&k.push(Qa(I,B,w)))),P)break;I=I.return}0<k.length&&(m=new g(m,_,null,n,d),f.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==kf&&(_=n.relatedTarget||n.fromElement)&&(Oi(_)||_[_r]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Oi(_):null,_!==null&&(P=rs(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(k=a1,B="onMouseLeave",y="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(k=l1,B="onPointerLeave",y="onPointerEnter",I="pointer"),P=g==null?m:Rs(g),w=_==null?m:Rs(_),m=new k(B,I+"leave",g,n,d),m.target=P,m.relatedTarget=w,B=null,Oi(d)===c&&(k=new k(y,I+"enter",_,n,d),k.target=w,k.relatedTarget=P,B=k),P=B,g&&_)t:{for(k=g,y=_,I=0,w=k;w;w=Es(w))I++;for(w=0,B=y;B;B=Es(B))w++;for(;0<I-w;)k=Es(k),I--;for(;0<w-I;)y=Es(y),w--;for(;I--;){if(k===y||y!==null&&k===y.alternate)break t;k=Es(k),y=Es(y)}k=null}else k=null;g!==null&&y1(f,m,g,k,!1),_!==null&&P!==null&&y1(f,P,_,k,!0)}}e:{if(m=c?Rs(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var W=NS;else if(d1(m))if(My)W=OS;else{W=PS;var U=xS}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(W=LS);if(W&&(W=W(t,c))){Dy(f,W,n,d);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Af(m,"number",m.value)}switch(U=c?Rs(c):window,t){case"focusin":(d1(U)||U.contentEditable==="true")&&(Ss=U,Df=c,Aa=null);break;case"focusout":Aa=Df=Ss=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,E1(f,n,d);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":E1(f,n,d)}var R;if(lm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ws?Ly(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Py&&n.locale!=="ko"&&(ws||C!=="onCompositionStart"?C==="onCompositionEnd"&&ws&&(R=xy()):(qr=d,om="value"in qr?qr.value:qr.textContent,ws=!0)),U=hc(c,C),0<U.length&&(C=new u1(C,t,null,n,d),f.push({event:C,listeners:U}),R?C.data=R:(R=Oy(n),R!==null&&(C.data=R)))),(R=CS?wS(t,n):SS(t,n))&&(c=hc(c,"onBeforeInput"),0<c.length&&(d=new u1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=R))}qy(f,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=za(t,n),s!=null&&r.unshift(Qa(t,s,i)),s=za(t,e),s!=null&&r.push(Qa(t,s,i))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function y1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=za(n,s),u!=null&&o.unshift(Qa(n,u,a))):i||(u=za(n,s),u!=null&&o.push(Qa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HS=/\r\n?/g,jS=/\u0000|\uFFFD/g;function I1(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(jS,"")}function ml(t,e,n){if(e=I1(e),I1(t)!==e&&n)throw Error(X(425))}function dc(){}var Ff=null,Uf=null;function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(t){return v1.resolve(null).then(t).catch(WS)}:Vf;function WS(t){setTimeout(function(){throw t})}function Sd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qa(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),zn="__reactFiber$"+Eo,Xa="__reactProps$"+Eo,_r="__reactContainer$"+Eo,Hf="__reactEvents$"+Eo,qS="__reactListeners$"+Eo,YS="__reactHandles$"+Eo;function Oi(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A1(t);t!==null;){if(n=t[zn])return n;t=A1(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[zn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function oh(t){return t[Xa]||null}var jf=[],Ns=-1;function Ti(t){return{current:t}}function Ve(t){0>Ns||(t.current=jf[Ns],jf[Ns]=null,Ns--)}function Fe(t,e){Ns++,jf[Ns]=t.current,t.current=e}var ci={},Pt=Ti(ci),Gt=Ti(!1),qi=ci;function Ks(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function fc(){Ve(Gt),Ve(Pt)}function b1(t,e,n){if(Pt.current!==ci)throw Error(X(168));Fe(Pt,e),Fe(Gt,n)}function Gy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,xw(t)||"Unknown",i));return qe({},n,r)}function pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,qi=Pt.current,Fe(Pt,t),Fe(Gt,Gt.current),!0}function C1(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Gy(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Ve(Gt),Ve(Pt),Fe(Pt,t)):Ve(Gt),Fe(Gt,n)}var lr=null,ah=!1,kd=!1;function Ky(t){lr===null?lr=[t]:lr.push(t)}function GS(t){ah=!0,Ky(t)}function yi(){if(!kd&&lr!==null){kd=!0;var t=0,e=Ne;try{var n=lr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,ah=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),yy(nm,yi),i}finally{Ne=e,kd=!1}}return null}var xs=[],Ps=0,mc=null,gc=0,dn=[],fn=0,Yi=null,hr=1,dr="";function Ri(t,e){xs[Ps++]=gc,xs[Ps++]=mc,mc=t,gc=e}function Qy(t,e,n){dn[fn++]=hr,dn[fn++]=dr,dn[fn++]=Yi,Yi=t;var r=hr;t=dr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Pn(e)+i|n<<i|r,dr=s+t}else hr=1<<s|n<<i|r,dr=t}function hm(t){t.return!==null&&(Ri(t,1),Qy(t,1,0))}function dm(t){for(;t===mc;)mc=xs[--Ps],xs[Ps]=null,gc=xs[--Ps],xs[Ps]=null;for(;t===Yi;)Yi=dn[--fn],dn[fn]=null,dr=dn[--fn],dn[fn]=null,hr=dn[--fn],dn[fn]=null}var on=null,sn=null,je=!1,Rn=null;function Xy(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,sn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,sn=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $f(t){if(je){var e=sn;if(e){var n=e;if(!w1(t,e)){if(zf(t))throw Error(X(418));e=ei(n.nextSibling);var r=on;e&&w1(t,e)?Xy(r,n):(t.flags=t.flags&-4097|2,je=!1,on=t)}}else{if(zf(t))throw Error(X(418));t.flags=t.flags&-4097|2,je=!1,on=t}}}function S1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function gl(t){if(t!==on)return!1;if(!je)return S1(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bf(t.type,t.memoizedProps)),e&&(e=sn)){if(zf(t))throw Jy(),Error(X(418));for(;e;)Xy(t,e),e=ei(e.nextSibling)}if(S1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=on?ei(t.stateNode.nextSibling):null;return!0}function Jy(){for(var t=sn;t;)t=ei(t.nextSibling)}function Qs(){sn=on=null,je=!1}function fm(t){Rn===null?Rn=[t]:Rn.push(t)}var KS=Cr.ReactCurrentBatchConfig;function ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function El(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k1(t){var e=t._init;return e(t._payload)}function Zy(t){function e(y,I){if(t){var w=y.deletions;w===null?(y.deletions=[I],y.flags|=16):w.push(I)}}function n(y,I){if(!t)return null;for(;I!==null;)e(y,I),I=I.sibling;return null}function r(y,I){for(y=new Map;I!==null;)I.key!==null?y.set(I.key,I):y.set(I.index,I),I=I.sibling;return y}function i(y,I){return y=ii(y,I),y.index=0,y.sibling=null,y}function s(y,I,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<I?(y.flags|=2,I):w):(y.flags|=2,I)):(y.flags|=1048576,I)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,I,w,B){return I===null||I.tag!==6?(I=Dd(w,y.mode,B),I.return=y,I):(I=i(I,w),I.return=y,I)}function u(y,I,w,B){var W=w.type;return W===Cs?d(y,I,w.props.children,B,w.key):I!==null&&(I.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Br&&k1(W)===I.type)?(B=i(I,w.props),B.ref=ea(y,I,w),B.return=y,B):(B=$l(w.type,w.key,w.props,null,y.mode,B),B.ref=ea(y,I,w),B.return=y,B)}function c(y,I,w,B){return I===null||I.tag!==4||I.stateNode.containerInfo!==w.containerInfo||I.stateNode.implementation!==w.implementation?(I=Md(w,y.mode,B),I.return=y,I):(I=i(I,w.children||[]),I.return=y,I)}function d(y,I,w,B,W){return I===null||I.tag!==7?(I=Hi(w,y.mode,B,W),I.return=y,I):(I=i(I,w),I.return=y,I)}function f(y,I,w){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Dd(""+I,y.mode,w),I.return=y,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ol:return w=$l(I.type,I.key,I.props,null,y.mode,w),w.ref=ea(y,null,I),w.return=y,w;case bs:return I=Md(I,y.mode,w),I.return=y,I;case Br:var B=I._init;return f(y,B(I._payload),w)}if(ca(I)||Ko(I))return I=Hi(I,y.mode,w,null),I.return=y,I;El(y,I)}return null}function m(y,I,w,B){var W=I!==null?I.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return W!==null?null:a(y,I,""+w,B);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ol:return w.key===W?u(y,I,w,B):null;case bs:return w.key===W?c(y,I,w,B):null;case Br:return W=w._init,m(y,I,W(w._payload),B)}if(ca(w)||Ko(w))return W!==null?null:d(y,I,w,B,null);El(y,w)}return null}function g(y,I,w,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return y=y.get(w)||null,a(I,y,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ol:return y=y.get(B.key===null?w:B.key)||null,u(I,y,B,W);case bs:return y=y.get(B.key===null?w:B.key)||null,c(I,y,B,W);case Br:var U=B._init;return g(y,I,w,U(B._payload),W)}if(ca(B)||Ko(B))return y=y.get(w)||null,d(I,y,B,W,null);El(I,B)}return null}function _(y,I,w,B){for(var W=null,U=null,R=I,C=I=0,N=null;R!==null&&C<w.length;C++){R.index>C?(N=R,R=null):N=R.sibling;var T=m(y,R,w[C],B);if(T===null){R===null&&(R=N);break}t&&R&&T.alternate===null&&e(y,R),I=s(T,I,C),U===null?W=T:U.sibling=T,U=T,R=N}if(C===w.length)return n(y,R),je&&Ri(y,C),W;if(R===null){for(;C<w.length;C++)R=f(y,w[C],B),R!==null&&(I=s(R,I,C),U===null?W=R:U.sibling=R,U=R);return je&&Ri(y,C),W}for(R=r(y,R);C<w.length;C++)N=g(R,y,C,w[C],B),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?C:N.key),I=s(N,I,C),U===null?W=N:U.sibling=N,U=N);return t&&R.forEach(function(O){return e(y,O)}),je&&Ri(y,C),W}function k(y,I,w,B){var W=Ko(w);if(typeof W!="function")throw Error(X(150));if(w=W.call(w),w==null)throw Error(X(151));for(var U=W=null,R=I,C=I=0,N=null,T=w.next();R!==null&&!T.done;C++,T=w.next()){R.index>C?(N=R,R=null):N=R.sibling;var O=m(y,R,T.value,B);if(O===null){R===null&&(R=N);break}t&&R&&O.alternate===null&&e(y,R),I=s(O,I,C),U===null?W=O:U.sibling=O,U=O,R=N}if(T.done)return n(y,R),je&&Ri(y,C),W;if(R===null){for(;!T.done;C++,T=w.next())T=f(y,T.value,B),T!==null&&(I=s(T,I,C),U===null?W=T:U.sibling=T,U=T);return je&&Ri(y,C),W}for(R=r(y,R);!T.done;C++,T=w.next())T=g(R,y,C,T.value,B),T!==null&&(t&&T.alternate!==null&&R.delete(T.key===null?C:T.key),I=s(T,I,C),U===null?W=T:U.sibling=T,U=T);return t&&R.forEach(function(F){return e(y,F)}),je&&Ri(y,C),W}function P(y,I,w,B){if(typeof w=="object"&&w!==null&&w.type===Cs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ol:e:{for(var W=w.key,U=I;U!==null;){if(U.key===W){if(W=w.type,W===Cs){if(U.tag===7){n(y,U.sibling),I=i(U,w.props.children),I.return=y,y=I;break e}}else if(U.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Br&&k1(W)===U.type){n(y,U.sibling),I=i(U,w.props),I.ref=ea(y,U,w),I.return=y,y=I;break e}n(y,U);break}else e(y,U);U=U.sibling}w.type===Cs?(I=Hi(w.props.children,y.mode,B,w.key),I.return=y,y=I):(B=$l(w.type,w.key,w.props,null,y.mode,B),B.ref=ea(y,I,w),B.return=y,y=B)}return o(y);case bs:e:{for(U=w.key;I!==null;){if(I.key===U)if(I.tag===4&&I.stateNode.containerInfo===w.containerInfo&&I.stateNode.implementation===w.implementation){n(y,I.sibling),I=i(I,w.children||[]),I.return=y,y=I;break e}else{n(y,I);break}else e(y,I);I=I.sibling}I=Md(w,y.mode,B),I.return=y,y=I}return o(y);case Br:return U=w._init,P(y,I,U(w._payload),B)}if(ca(w))return _(y,I,w,B);if(Ko(w))return k(y,I,w,B);El(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,I!==null&&I.tag===6?(n(y,I.sibling),I=i(I,w),I.return=y,y=I):(n(y,I),I=Dd(w,y.mode,B),I.return=y,y=I),o(y)):n(y,I)}return P}var Xs=Zy(!0),eI=Zy(!1),Ec=Ti(null),_c=null,Ls=null,pm=null;function mm(){pm=Ls=_c=null}function gm(t){var e=Ec.current;Ve(Ec),t._currentValue=e}function Wf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){_c=t,pm=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(pm!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(_c===null)throw Error(X(308));Ls=t,_c.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Di=null;function Em(t){Di===null?Di=[t]:Di.push(t)}function tI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Em(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function _m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Em(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function Ul(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}function R1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tc(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,k=a;switch(m=e,g=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){f=_.call(g,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,m=typeof _=="function"?_.call(g,f,m):_,m==null)break e;f=qe({},f,m);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ki|=o,t.lanes=o,t.memoizedState=f}}function N1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var Au={},Yn=Ti(Au),Ja=Ti(Au),Za=Ti(Au);function Mi(t){if(t===Au)throw Error(X(174));return t}function Tm(t,e){switch(Fe(Za,e),Fe(Ja,t),Fe(Yn,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cf(e,t)}Ve(Yn),Fe(Yn,e)}function Js(){Ve(Yn),Ve(Ja),Ve(Za)}function rI(t){Mi(Za.current);var e=Mi(Yn.current),n=Cf(e,t.type);e!==n&&(Fe(Ja,t),Fe(Yn,n))}function ym(t){Ja.current===t&&(Ve(Yn),Ve(Ja))}var $e=Ti(0);function yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rd=[];function Im(){for(var t=0;t<Rd.length;t++)Rd[t]._workInProgressVersionPrimary=null;Rd.length=0}var Bl=Cr.ReactCurrentDispatcher,Nd=Cr.ReactCurrentBatchConfig,Gi=0,We=null,st=null,ht=null,Ic=!1,ba=!1,eu=0,QS=0;function Ct(){throw Error(X(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Am(t,e,n,r,i,s){if(Gi=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bl.current=t===null||t.memoizedState===null?ek:tk,t=n(r,i),ba){s=0;do{if(ba=!1,eu=0,25<=s)throw Error(X(301));s+=1,ht=st=null,e.updateQueue=null,Bl.current=nk,t=n(r,i)}while(ba)}if(Bl.current=vc,e=st!==null&&st.next!==null,Gi=0,ht=st=We=null,Ic=!1,e)throw Error(X(300));return t}function bm(){var t=eu!==0;return eu=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?We.memoizedState=ht=t:ht=ht.next=t,ht}function In(){if(st===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?We.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(X(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?We.memoizedState=ht=t:ht=ht.next=t}return ht}function tu(t,e){return typeof e=="function"?e(t):e}function xd(t){var e=In(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Gi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,We.lanes|=d,Ki|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Fn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,Ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pd(t){var e=In(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iI(){}function sI(t,e){var n=We,r=In(),i=e(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,Cm(uI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,nu(9,aI.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(X(349));Gi&30||oI(n,e,i)}return i}function oI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aI(t,e,n,r){e.value=n,e.getSnapshot=r,lI(e)&&cI(t)}function uI(t,e,n){return n(function(){lI(e)&&cI(t)})}function lI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function cI(t){var e=Tr(t,1);e!==null&&Ln(e,t,1,-1)}function x1(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=ZS.bind(null,We,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hI(){return In().memoizedState}function Vl(t,e,n,r){var i=Hn();We.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function uh(t,e,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&vm(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}We.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function P1(t,e){return Vl(8390656,8,t,e)}function Cm(t,e){return uh(2048,8,t,e)}function dI(t,e){return uh(4,2,t,e)}function fI(t,e){return uh(4,4,t,e)}function pI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mI(t,e,n){return n=n!=null?n.concat([t]):null,uh(4,4,pI.bind(null,e,t),n)}function wm(){}function gI(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EI(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _I(t,e,n){return Gi&21?(Fn(n,e)||(n=Ay(),We.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function XS(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Nd.transition;Nd.transition={};try{t(!1),e()}finally{Ne=n,Nd.transition=r}}function TI(){return In().memoizedState}function JS(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yI(t))II(e,n);else if(n=tI(t,e,n,r),n!==null){var i=Ht();Ln(n,t,r,i),vI(n,e,r)}}function ZS(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yI(t))II(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,o)){var u=e.interleaved;u===null?(i.next=i,Em(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=tI(t,e,i,r),n!==null&&(i=Ht(),Ln(n,t,r,i),vI(n,e,r))}}function yI(t){var e=t.alternate;return t===We||e!==null&&e===We}function II(t,e){ba=Ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}var vc={readContext:yn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},ek={readContext:yn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:P1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vl(4194308,4,pI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vl(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JS.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:x1,useDebugValue:wm,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=x1(!1),e=t[0];return t=XS.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Hn();if(je){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),ft===null)throw Error(X(349));Gi&30||oI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,P1(uI.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,aI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hn(),e=ft.identifierPrefix;if(je){var n=dr,r=hr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tk={readContext:yn,useCallback:gI,useContext:yn,useEffect:Cm,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:fI,useMemo:EI,useReducer:xd,useRef:hI,useState:function(){return xd(tu)},useDebugValue:wm,useDeferredValue:function(t){var e=In();return _I(e,st.memoizedState,t)},useTransition:function(){var t=xd(tu)[0],e=In().memoizedState;return[t,e]},useMutableSource:iI,useSyncExternalStore:sI,useId:TI,unstable_isNewReconciler:!1},nk={readContext:yn,useCallback:gI,useContext:yn,useEffect:Cm,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:fI,useMemo:EI,useReducer:Pd,useRef:hI,useState:function(){return Pd(tu)},useDebugValue:wm,useDeferredValue:function(t){var e=In();return st===null?e.memoizedState=t:_I(e,st.memoizedState,t)},useTransition:function(){var t=Pd(tu)[0],e=In().memoizedState;return[t,e]},useMutableSource:iI,useSyncExternalStore:sI,useId:TI,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lh={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=ri(t),s=gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Ln(e,t,i,r),Ul(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=ri(t),s=gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Ln(e,t,i,r),Ul(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=ri(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Ln(e,t,r,n),Ul(e,t,r))}};function L1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function AI(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Kt(e)?qi:Pt.current,r=e.contextTypes,s=(r=r!=null)?Ks(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lh.enqueueReplaceState(e,e.state,null)}function Yf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_m(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Kt(e)?qi:Pt.current,i.context=Ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lh.enqueueReplaceState(i,i.state,null),Tc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e){try{var n="",r=e;do n+=Nw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function bI(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bc||(bc=!0,ip=r),Gf(t,e)},n}function CI(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gf(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ek.bind(null,t,e,n),e.then(t,t))}function M1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var ik=Cr.ReactCurrentOwner,Yt=!1;function Bt(t,e,n,r){e.child=t===null?eI(e,null,n,r):Xs(e,t.child,n,r)}function U1(t,e,n,r,i){n=n.render;var s=e.ref;return Hs(e,i),r=Am(t,e,n,r,s,i),n=bm(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(je&&n&&hm(e),e.flags|=1,Bt(t,e,r,i),e.child)}function B1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wI(t,e,s,r,i)):(t=$l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function wI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,yr(t,e,i)}return Kf(t,e,n,r,i)}function SI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ds,nn),nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Ds,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(Ds,nn),nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(Ds,nn),nn|=r;return Bt(t,e,i,n),e.child}function kI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kf(t,e,n,r,i){var s=Kt(n)?qi:Pt.current;return s=Ks(e,s),Hs(e,i),n=Am(t,e,n,r,s,i),r=bm(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(je&&r&&hm(e),e.flags|=1,Bt(t,e,n,i),e.child)}function V1(t,e,n,r,i){if(Kt(n)){var s=!0;pc(e)}else s=!1;if(Hs(e,i),e.stateNode===null)Hl(t,e),AI(e,n,r),Yf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Kt(n)?qi:Pt.current,c=Ks(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&O1(e,o,r,c),Vr=!1;var m=e.memoizedState;o.state=m,Tc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Gt.current||Vr?(typeof d=="function"&&(qf(e,n,d,r),u=e.memoizedState),(a=Vr||L1(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=yn(u):(u=Kt(n)?qi:Pt.current,u=Ks(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&O1(e,o,r,u),Vr=!1,m=e.memoizedState,o.state=m,Tc(e,r,o,i);var _=e.memoizedState;a!==f||m!==_||Gt.current||Vr?(typeof g=="function"&&(qf(e,n,g,r),_=e.memoizedState),(c=Vr||L1(e,n,c,r,m,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Qf(t,e,n,r,s,i)}function Qf(t,e,n,r,i,s){kI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&C1(e,n,!1),yr(t,e,s);r=e.stateNode,ik.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,a,s)):Bt(t,e,a,s),e.memoizedState=r.state,i&&C1(e,n,!0),e.child}function RI(t){var e=t.stateNode;e.pendingContext?b1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b1(t,e.context,!1),Tm(t,e.containerInfo)}function H1(t,e,n,r,i){return Qs(),fm(i),e.flags|=256,Bt(t,e,n,r),e.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Jf(t){return{baseLanes:t,cachePool:null,transitions:null}}function NI(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe($e,i&1),t===null)return $f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=Hi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jf(n),e.memoizedState=Xf,t):Sm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ii(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Hi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xf,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sm(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _l(t,e,n,r){return r!==null&&fm(r),Xs(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ld(Error(X(422))),_l(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=Hi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=Jf(o),e.memoizedState=Xf,s);if(!(e.mode&1))return _l(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Ld(s,r,void 0),_l(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),Ln(r,t,i,-1))}return Lm(),r=Ld(Error(X(421))),_l(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_k.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sn=ei(i.nextSibling),on=e,je=!0,Rn=null,t!==null&&(dn[fn++]=hr,dn[fn++]=dr,dn[fn++]=Yi,hr=t.id,dr=t.overflow,Yi=e),e=Sm(e,r.children),e.flags|=4096,e)}function j1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wf(t.return,e,n)}function Od(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j1(t,n,e);else if(t.tag===19)j1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Od(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Od(e,!0,n,null,s);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ok(t,e,n){switch(e.tag){case 3:RI(e),Qs();break;case 5:rI(e);break;case 1:Kt(e.type)&&pc(e);break;case 4:Tm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Ec,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?NI(t,e,n):(Fe($e,$e.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Fe($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,SI(t,e,n)}return yr(t,e,n)}var PI,Zf,LI,OI;PI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zf=function(){};LI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(Yn.current);var s=null;switch(n){case"input":i=If(t,i),r=If(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=bf(t,i),r=bf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dc)}wf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ta(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ak(t,e,n){var r=e.pendingProps;switch(dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Kt(e.type)&&fc(),wt(e),null;case 3:return r=e.stateNode,Js(),Ve(Gt),Ve(Pt),Im(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(ap(Rn),Rn=null))),Zf(t,e),wt(e),null;case 5:ym(e);var i=Mi(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)LI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return wt(e),null}if(t=Mi(Yn.current),gl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zn]=e,r[Xa]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<da.length;i++)Be(da[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Xg(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Zg(r,s),Be("invalid",r)}wf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ml(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ml(r.textContent,a,t),i=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":al(r),Jg(r,s,!0);break;case"textarea":al(r),e1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zn]=e,t[Xa]=r,PI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sf(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<da.length;i++)Be(da[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":Xg(t,r),i=If(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Zg(t,r),i=bf(t,r),Be("invalid",t);break;default:i=r}wf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?hy(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ly(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ja(t,u):typeof u=="number"&&ja(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Be("scroll",t):u!=null&&Xp(t,s,u,o))}switch(n){case"input":al(t),Jg(t,r,!1);break;case"textarea":al(t),e1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)OI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Mi(Za.current),Mi(Yn.current),gl(e)){if(r=e.stateNode,n=e.memoizedProps,r[zn]=e,(s=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:ml(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r}return wt(e),null;case 13:if(Ve($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&sn!==null&&e.mode&1&&!(e.flags&128))Jy(),Qs(),e.flags|=98560,s=!1;else if(s=gl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[zn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Rn!==null&&(ap(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?at===0&&(at=3):Lm())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Js(),Zf(t,e),t===null&&Ka(e.stateNode.containerInfo),wt(e),null;case 10:return gm(e.type._context),wt(e),null;case 17:return Kt(e.type)&&fc(),wt(e),null;case 19:if(Ve($e),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ta(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yc(t),o!==null){for(e.flags|=128,ta(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>eo&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=yc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return wt(e),null}else 2*Ze()-s.renderingStartTime>eo&&n!==1073741824&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=$e.current,Fe($e,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function uk(t,e){switch(dm(e),e.tag){case 1:return Kt(e.type)&&fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Js(),Ve(Gt),Ve(Pt),Im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ym(e),null;case 13:if(Ve($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve($e),null;case 4:return Js(),null;case 10:return gm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Tl=!1,Rt=!1,lk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function ep(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var z1=!1;function ck(t,e){if(Ff=lc,t=By(),cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:t,selectionRange:n},lc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,P=_.memoizedState,y=e.stateNode,I=y.getSnapshotBeforeUpdate(e.elementType===e.type?k:Sn(e.type,k),P);y.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(B){Qe(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return _=z1,z1=!1,_}function Ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ep(e,n,s)}i=i.next}while(i!==r)}}function ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DI(t){var e=t.alternate;e!==null&&(t.alternate=null,DI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Xa],delete e[Hf],delete e[qS],delete e[YS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MI(t){return t.tag===5||t.tag===3||t.tag===4}function $1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dc));else if(r!==4&&(t=t.child,t!==null))for(np(t,e,n),t=t.sibling;t!==null;)np(t,e,n),t=t.sibling}function rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rp(t,e,n),t=t.sibling;t!==null;)rp(t,e,n),t=t.sibling}var gt=null,kn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)FI(t,e,n),n=n.sibling}function FI(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(nh,n)}catch{}switch(n.tag){case 5:Rt||Os(n,e);case 6:var r=gt,i=kn;gt=null,Lr(t,e,n),gt=r,kn=i,gt!==null&&(kn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(kn?(t=gt,n=n.stateNode,t.nodeType===8?Sd(t.parentNode,n):t.nodeType===1&&Sd(t,n),qa(t)):Sd(gt,n.stateNode));break;case 4:r=gt,i=kn,gt=n.stateNode.containerInfo,kn=!0,Lr(t,e,n),gt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ep(n,e,o),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!Rt&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Lr(t,e,n),Rt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function W1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lk),e.forEach(function(r){var i=Tk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,kn=!1;break e;case 3:gt=a.stateNode.containerInfo,kn=!0;break e;case 4:gt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(gt===null)throw Error(X(160));FI(s,o,i),gt=null,kn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UI(e,t),e=e.sibling}function UI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Vn(t),r&4){try{Ca(3,t,t.return),ch(3,t)}catch(k){Qe(t,t.return,k)}try{Ca(5,t,t.return)}catch(k){Qe(t,t.return,k)}}break;case 1:wn(e,t),Vn(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(wn(e,t),Vn(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{ja(i,"")}catch(k){Qe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oy(i,s),Sf(a,o);var c=Sf(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?hy(i,f):d==="dangerouslySetInnerHTML"?ly(i,f):d==="children"?ja(i,f):Xp(i,d,f,c)}switch(a){case"input":vf(i,s);break;case"textarea":ay(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Fs(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Fs(i,!!s.multiple,s.defaultValue,!0):Fs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xa]=s}catch(k){Qe(t,t.return,k)}}break;case 6:if(wn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Qe(t,t.return,k)}}break;case 3:if(wn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(k){Qe(t,t.return,k)}break;case 4:wn(e,t),Vn(t);break;case 13:wn(e,t),Vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nm=Ze())),r&4&&W1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||d,wn(e,t),Rt=c):wn(e,t),Vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(f=ne=d;ne!==null;){switch(m=ne,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ca(4,m,m.return);break;case 1:Os(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){Qe(r,n,k)}}break;case 5:Os(m,m.return);break;case 22:if(m.memoizedState!==null){Y1(f);continue}}g!==null?(g.return=m,ne=g):Y1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=cy("display",o))}catch(k){Qe(t,t.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){Qe(t,t.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(e,t),Vn(t),r&4&&W1(t);break;case 21:break;default:wn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MI(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ja(i,""),r.flags&=-33);var s=$1(t);rp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$1(t);np(t,a,o);break;default:throw Error(X(161))}}catch(u){Qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hk(t,e,n){ne=t,BI(t)}function BI(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Rt;a=Tl;var c=Rt;if(Tl=o,(Rt=u)&&!c)for(ne=i;ne!==null;)o=ne,u=o.child,o.tag===22&&o.memoizedState!==null?G1(i):u!==null?(u.return=o,ne=u):G1(i);for(;s!==null;)ne=s,BI(s),s=s.sibling;ne=i,Tl=a,Rt=c}q1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):q1(t)}}function q1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&N1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}N1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Rt||e.flags&512&&tp(e)}catch(m){Qe(e,e.return,m)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Y1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function G1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ch(4,e)}catch(u){Qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Qe(e,i,u)}}var s=e.return;try{tp(e)}catch(u){Qe(e,s,u)}break;case 5:var o=e.return;try{tp(e)}catch(u){Qe(e,o,u)}}}catch(u){Qe(e,e.return,u)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var dk=Math.ceil,Ac=Cr.ReactCurrentDispatcher,km=Cr.ReactCurrentOwner,En=Cr.ReactCurrentBatchConfig,we=0,ft=null,rt=null,Tt=0,nn=0,Ds=Ti(0),at=0,ru=null,Ki=0,hh=0,Rm=0,wa=null,qt=null,Nm=0,eo=1/0,ur=null,bc=!1,ip=null,ni=null,yl=!1,Yr=null,Cc=0,Sa=0,sp=null,jl=-1,zl=0;function Ht(){return we&6?Ze():jl!==-1?jl:jl=Ze()}function ri(t){return t.mode&1?we&2&&Tt!==0?Tt&-Tt:KS.transition!==null?(zl===0&&(zl=Ay()),zl):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Ny(t.type)),t):1}function Ln(t,e,n,r){if(50<Sa)throw Sa=0,sp=null,Error(X(185));yu(t,n,r),(!(we&2)||t!==ft)&&(t===ft&&(!(we&2)&&(hh|=n),at===4&&jr(t,Tt)),Qt(t,r),n===1&&we===0&&!(e.mode&1)&&(eo=Ze()+500,ah&&yi()))}function Qt(t,e){var n=t.callbackNode;Kw(t,e);var r=uc(t,t===ft?Tt:0);if(r===0)n!==null&&r1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r1(n),e===1)t.tag===0?GS(K1.bind(null,t)):Ky(K1.bind(null,t)),$S(function(){!(we&6)&&yi()}),n=null;else{switch(by(r)){case 1:n=nm;break;case 4:n=Iy;break;case 16:n=ac;break;case 536870912:n=vy;break;default:n=ac}n=YI(n,VI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VI(t,e){if(jl=-1,zl=0,we&6)throw Error(X(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var r=uc(t,t===ft?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wc(t,r);else{e=r;var i=we;we|=2;var s=jI();(ft!==t||Tt!==e)&&(ur=null,eo=Ze()+500,Vi(t,e));do try{mk();break}catch(a){HI(t,a)}while(!0);mm(),Ac.current=s,we=i,rt!==null?e=0:(ft=null,Tt=0,e=at)}if(e!==0){if(e===2&&(i=Pf(t),i!==0&&(r=i,e=op(t,i))),e===1)throw n=ru,Vi(t,0),jr(t,r),Qt(t,Ze()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!fk(i)&&(e=wc(t,r),e===2&&(s=Pf(t),s!==0&&(r=s,e=op(t,s))),e===1))throw n=ru,Vi(t,0),jr(t,r),Qt(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ni(t,qt,ur);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Nm+500-Ze(),10<e)){if(uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vf(Ni.bind(null,t,qt,ur),e);break}Ni(t,qt,ur);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dk(r/1960))-r,10<r){t.timeoutHandle=Vf(Ni.bind(null,t,qt,ur),r);break}Ni(t,qt,ur);break;case 5:Ni(t,qt,ur);break;default:throw Error(X(329))}}}return Qt(t,Ze()),t.callbackNode===n?VI.bind(null,t):null}function op(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=wc(t,e),t!==2&&(e=qt,qt=n,e!==null&&ap(e)),t}function ap(t){qt===null?qt=t:qt.push.apply(qt,t)}function fk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Rm,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function K1(t){if(we&6)throw Error(X(327));js();var e=uc(t,0);if(!(e&1))return Qt(t,Ze()),null;var n=wc(t,e);if(t.tag!==0&&n===2){var r=Pf(t);r!==0&&(e=r,n=op(t,r))}if(n===1)throw n=ru,Vi(t,0),jr(t,e),Qt(t,Ze()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,qt,ur),Qt(t,Ze()),null}function xm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(eo=Ze()+500,ah&&yi())}}function Qi(t){Yr!==null&&Yr.tag===0&&!(we&6)&&js();var e=we;we|=1;var n=En.transition,r=Ne;try{if(En.transition=null,Ne=1,t)return t()}finally{Ne=r,En.transition=n,we=e,!(we&6)&&yi()}}function Pm(){nn=Ds.current,Ve(Ds)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zS(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fc();break;case 3:Js(),Ve(Gt),Ve(Pt),Im();break;case 5:ym(r);break;case 4:Js();break;case 13:Ve($e);break;case 19:Ve($e);break;case 10:gm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(ft=t,rt=t=ii(t.current,null),Tt=nn=e,at=0,ru=null,Rm=hh=Ki=0,qt=wa=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Di=null}return t}function HI(t,e){do{var n=rt;try{if(mm(),Bl.current=vc,Ic){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ic=!1}if(Gi=0,ht=st=We=null,ba=!1,eu=0,km.current=null,n===null||n.return===null){at=1,ru=e,rt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Tt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=M1(o);if(g!==null){g.flags&=-257,F1(g,o,a,s,e),g.mode&1&&D1(s,c,e),e=g,u=c;var _=e.updateQueue;if(_===null){var k=new Set;k.add(u),e.updateQueue=k}else _.add(u);break e}else{if(!(e&1)){D1(s,c,e),Lm();break e}u=Error(X(426))}}else if(je&&a.mode&1){var P=M1(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),F1(P,o,a,s,e),fm(Zs(u,a));break e}}s=u=Zs(u,a),at!==4&&(at=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=bI(s,u,e);R1(s,y);break e;case 1:a=u;var I=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ni===null||!ni.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=CI(s,a,e);R1(s,B);break e}}s=s.return}while(s!==null)}$I(n)}catch(W){e=W,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function jI(){var t=Ac.current;return Ac.current=vc,t===null?vc:t}function Lm(){(at===0||at===3||at===2)&&(at=4),ft===null||!(Ki&268435455)&&!(hh&268435455)||jr(ft,Tt)}function wc(t,e){var n=we;we|=2;var r=jI();(ft!==t||Tt!==e)&&(ur=null,Vi(t,e));do try{pk();break}catch(i){HI(t,i)}while(!0);if(mm(),we=n,Ac.current=r,rt!==null)throw Error(X(261));return ft=null,Tt=0,at}function pk(){for(;rt!==null;)zI(rt)}function mk(){for(;rt!==null&&!Vw();)zI(rt)}function zI(t){var e=qI(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?$I(t):rt=e,km.current=null}function $I(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uk(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,rt=null;return}}else if(n=ak(n,e,nn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);at===0&&(at=5)}function Ni(t,e,n){var r=Ne,i=En.transition;try{En.transition=null,Ne=1,gk(t,e,n,r)}finally{En.transition=i,Ne=r}return null}function gk(t,e,n,r){do js();while(Yr!==null);if(we&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qw(t,s),t===ft&&(rt=ft=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,YI(ac,function(){return js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=Ne;Ne=1;var a=we;we|=4,km.current=null,ck(t,n),UI(n,t),MS(Uf),lc=!!Ff,Uf=Ff=null,t.current=n,hk(n),Hw(),we=a,Ne=o,En.transition=s}else t.current=n;if(yl&&(yl=!1,Yr=t,Cc=i),s=t.pendingLanes,s===0&&(ni=null),$w(n.stateNode),Qt(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=ip,ip=null,t;return Cc&1&&t.tag!==0&&js(),s=t.pendingLanes,s&1?t===sp?Sa++:(Sa=0,sp=t):Sa=0,yi(),null}function js(){if(Yr!==null){var t=by(Cc),e=En.transition,n=Ne;try{if(En.transition=null,Ne=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,Cc=0,we&6)throw Error(X(331));var i=we;for(we|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Ca(8,d,s)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var m=d.sibling,g=d.return;if(DI(d),d===c){ne=null;break}if(m!==null){m.return=g,ne=m;break}ne=g}}}var _=s.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ca(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ne=y;break e}ne=s.return}}var I=t.current;for(ne=I;ne!==null;){o=ne;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ne=w;else e:for(o=I;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ch(9,a)}}catch(W){Qe(a,a.return,W)}if(a===o){ne=null;break e}var B=a.sibling;if(B!==null){B.return=a.return,ne=B;break e}ne=a.return}}if(we=i,yi(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(nh,t)}catch{}r=!0}return r}finally{Ne=n,En.transition=e}}return!1}function Q1(t,e,n){e=Zs(n,e),e=bI(t,e,1),t=ti(t,e,1),e=Ht(),t!==null&&(yu(t,1,e),Qt(t,e))}function Qe(t,e,n){if(t.tag===3)Q1(t,t,n);else for(;e!==null;){if(e.tag===3){Q1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Zs(n,t),t=CI(e,t,1),e=ti(e,t,1),t=Ht(),e!==null&&(yu(e,1,t),Qt(e,t));break}}e=e.return}}function Ek(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(Tt&n)===n&&(at===4||at===3&&(Tt&130023424)===Tt&&500>Ze()-Nm?Vi(t,0):Rm|=n),Qt(t,e)}function WI(t,e){e===0&&(t.mode&1?(e=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):e=1);var n=Ht();t=Tr(t,e),t!==null&&(yu(t,e,n),Qt(t,n))}function _k(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WI(t,n)}function Tk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),WI(t,n)}var qI;qI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,ok(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,je&&e.flags&1048576&&Qy(e,gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hl(t,e),t=e.pendingProps;var i=Ks(e,Pt.current);Hs(e,n),i=Am(null,e,r,t,i,n);var s=bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,pc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_m(e),i.updater=lh,e.stateNode=i,i._reactInternals=e,Yf(e,r,t,n),e=Qf(null,e,r,!0,s,n)):(e.tag=0,je&&s&&hm(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ik(r),t=Sn(r,t),i){case 0:e=Kf(null,e,r,t,n);break e;case 1:e=V1(null,e,r,t,n);break e;case 11:e=U1(null,e,r,t,n);break e;case 14:e=B1(null,e,r,Sn(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Kf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),V1(t,e,r,i,n);case 3:e:{if(RI(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nI(t,e),Tc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zs(Error(X(423)),e),e=H1(t,e,r,n,i);break e}else if(r!==i){i=Zs(Error(X(424)),e),e=H1(t,e,r,n,i);break e}else for(sn=ei(e.stateNode.containerInfo.firstChild),on=e,je=!0,Rn=null,n=eI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===i){e=yr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return rI(e),t===null&&$f(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bf(r,i)?o=null:s!==null&&Bf(r,s)&&(e.flags|=32),kI(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&$f(e),null;case 13:return NI(t,e,n);case 4:return Tm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),U1(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Ec,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Gt.current){e=yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Wf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hs(e,n),i=yn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),B1(t,e,r,i,n);case 15:return wI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Hl(t,e),e.tag=1,Kt(r)?(t=!0,pc(e)):t=!1,Hs(e,n),AI(e,r,i),Yf(e,r,i,n),Qf(null,e,r,!0,t,n);case 19:return xI(t,e,n);case 22:return SI(t,e,n)}throw Error(X(156,e.tag))};function YI(t,e){return yy(t,e)}function yk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new yk(t,e,n,r)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ik(t){if(typeof t=="function")return Om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zp)return 11;if(t===em)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $l(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return Hi(n.children,i,s,e);case Jp:o=8,i|=8;break;case Ef:return t=gn(12,n,e,i|2),t.elementType=Ef,t.lanes=s,t;case _f:return t=gn(13,n,e,i),t.elementType=_f,t.lanes=s,t;case Tf:return t=gn(19,n,e,i),t.elementType=Tf,t.lanes=s,t;case ry:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ty:o=10;break e;case ny:o=9;break e;case Zp:o=11;break e;case em:o=14;break e;case Br:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=gn(22,t,r,e),t.elementType=ry,t.lanes=n,t.stateNode={isHidden:!1},t}function Dd(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Md(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,i,s,o,a,u){return t=new vk(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(s),t}function Ak(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GI(t){if(!t)return ci;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Kt(n))return Gy(t,n,e)}return e}function KI(t,e,n,r,i,s,o,a,u){return t=Dm(n,r,!0,t,i,s,o,a,u),t.context=GI(null),n=t.current,r=Ht(),i=ri(n),s=gr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,yu(t,i,r),Qt(t,r),t}function fh(t,e,n,r){var i=e.current,s=Ht(),o=ri(i);return n=GI(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(Ln(t,i,o,s),Ul(t,i,o)),o}function Sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mm(t,e){X1(t,e),(t=t.alternate)&&X1(t,e)}function bk(){return null}var QI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fm(t){this._internalRoot=t}ph.prototype.render=Fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));fh(t,e,null,null)};ph.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){fh(null,t,null,null)}),e[_r]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&Ry(t)}};function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function Ck(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sc(o);s.call(c)}}var o=KI(e,r,t,0,null,!1,!1,"",J1);return t._reactRootContainer=o,t[_r]=o.current,Ka(t.nodeType===8?t.parentNode:t),Qi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sc(u);a.call(c)}}var u=Dm(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=u,t[_r]=u.current,Ka(t.nodeType===8?t.parentNode:t),Qi(function(){fh(e,u,n,r)}),u}function gh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Sc(o);a.call(u)}}fh(e,o,t,i)}else o=Ck(n,e,t,i,r);return Sc(o)}Cy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ha(e.pendingLanes);n!==0&&(rm(e,n|1),Qt(e,Ze()),!(we&6)&&(eo=Ze()+500,yi()))}break;case 13:Qi(function(){var r=Tr(t,1);if(r!==null){var i=Ht();Ln(r,t,1,i)}}),Mm(t,1)}};im=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Ht();Ln(e,t,134217728,n)}Mm(t,134217728)}};wy=function(t){if(t.tag===13){var e=ri(t),n=Tr(t,e);if(n!==null){var r=Ht();Ln(n,t,e,r)}Mm(t,e)}};Sy=function(){return Ne};ky=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Rf=function(t,e,n){switch(e){case"input":if(vf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oh(r);if(!i)throw Error(X(90));sy(r),vf(r,i)}}}break;case"textarea":ay(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};py=xm;my=Qi;var wk={usingClientEntryPoint:!1,Events:[vu,Rs,oh,dy,fy,xm]},na={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sk={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_y(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{nh=Il.inject(Sk),qn=Il}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Um(e))throw Error(X(200));return Ak(t,e,null,n)};ln.createRoot=function(t,e){if(!Um(t))throw Error(X(299));var n=!1,r="",i=QI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,Ka(t.nodeType===8?t.parentNode:t),new Fm(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=_y(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Qi(t)};ln.hydrate=function(t,e,n){if(!mh(e))throw Error(X(200));return gh(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Um(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,Ka(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ph(e)};ln.render=function(t,e,n){if(!mh(e))throw Error(X(200));return gh(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!mh(t))throw Error(X(40));return t._reactRootContainer?(Qi(function(){gh(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};ln.unstable_batchedUpdates=xm;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mh(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return gh(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function XI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XI)}catch(t){console.error(t)}}XI(),XT.exports=ln;var kk=XT.exports,JI,Z1=kk;JI=Z1.createRoot,Z1.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const eE="popstate";function Rk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return up("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kc(i)}return xk(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nk(){return Math.random().toString(36).substr(2,8)}function tE(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,n,r){return n===void 0&&(n=null),iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_o(e):e,{state:n,key:e&&e.key||r||Nk()})}function kc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(iu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Gr.Pop;let P=d(),y=P==null?null:P-c;c=P,u&&u({action:a,location:k.location,delta:y})}function m(P,y){a=Gr.Push;let I=up(k.location,P,y);c=d()+1;let w=tE(I,c),B=k.createHref(I);try{o.pushState(w,"",B)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(B)}s&&u&&u({action:a,location:k.location,delta:1})}function g(P,y){a=Gr.Replace;let I=up(k.location,P,y);c=d();let w=tE(I,c),B=k.createHref(I);o.replaceState(w,"",B),s&&u&&u({action:a,location:k.location,delta:0})}function _(P){let y=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof P=="string"?P:kc(P);return I=I.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,y)}let k={get action(){return a},get location(){return t(i,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(eE,f),u=P,()=>{i.removeEventListener(eE,f),u=null}},createHref(P){return e(i,P)},createURL:_,encodeLocation(P){let y=_(P);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(P){return o.go(P)}};return k}var nE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nE||(nE={}));function Pk(t,e,n){return n===void 0&&(n="/"),Lk(t,e,n,!1)}function Lk(t,e,n,r){let i=typeof e=="string"?_o(e):e,s=Bm(i.pathname||"/",n);if(s==null)return null;let o=ev(t);Ok(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Wk(s);a=zk(o[u],c,r)}return a}function ev(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(it(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=si([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ev(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Hk(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of tv(s.path))i(s,o,u)}),e}function tv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tv(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ok(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dk=/^:[\w-]+$/,Mk=3,Fk=2,Uk=1,Bk=10,Vk=-2,rE=t=>t==="*";function Hk(t,e){let n=t.split("/"),r=n.length;return n.some(rE)&&(r+=Vk),e&&(r+=Fk),n.filter(i=>!rE(i)).reduce((i,s)=>i+(Dk.test(s)?Mk:s===""?Uk:Bk),r)}function jk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=iE({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=iE({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:si([s,f.pathname]),pathnameBase:Kk(si([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=si([s,f.pathnameBase]))}return o}function iE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$k(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let k=a[f]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[m]=void 0:c[m]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function $k(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_o(t):t;return{pathname:n?n.startsWith("/")?n:Yk(n,e):e,search:Qk(r),hash:Xk(i)}}function Yk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nv(t,e){let n=Gk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_o(t):(i=iu({},t),it(!i.pathname||!i.pathname.includes("?"),Fd("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Fd("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Fd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=qk(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const si=t=>t.join("/").replace(/\/\/+/g,"/"),Kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iv=["post","put","patch","delete"];new Set(iv);const Zk=["get",...iv];new Set(Zk);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}const Vm=te.createContext(null),eR=te.createContext(null),is=te.createContext(null),Eh=te.createContext(null),ss=te.createContext({outlet:null,matches:[],isDataRoute:!1}),sv=te.createContext(null);function tR(t,e){let{relative:n}=e===void 0?{}:e;bu()||it(!1);let{basename:r,navigator:i}=te.useContext(is),{hash:s,pathname:o,search:a}=av(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:si([r,o])),i.createHref({pathname:u,search:a,hash:s})}function bu(){return te.useContext(Eh)!=null}function _h(){return bu()||it(!1),te.useContext(Eh).location}function ov(t){te.useContext(is).static||te.useLayoutEffect(t)}function nR(){let{isDataRoute:t}=te.useContext(ss);return t?mR():rR()}function rR(){bu()||it(!1);let t=te.useContext(Vm),{basename:e,future:n,navigator:r}=te.useContext(is),{matches:i}=te.useContext(ss),{pathname:s}=_h(),o=JSON.stringify(nv(i,n.v7_relativeSplatPath)),a=te.useRef(!1);return ov(()=>{a.current=!0}),te.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=rv(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:si([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function av(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=te.useContext(is),{matches:i}=te.useContext(ss),{pathname:s}=_h(),o=JSON.stringify(nv(i,r.v7_relativeSplatPath));return te.useMemo(()=>rv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function iR(t,e){return sR(t,e)}function sR(t,e,n,r){bu()||it(!1);let{navigator:i}=te.useContext(is),{matches:s}=te.useContext(ss),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=_h(),d;if(e){var f;let P=typeof e=="string"?_o(e):e;u==="/"||(f=P.pathname)!=null&&f.startsWith(u)||it(!1),d=P}else d=c;let m=d.pathname||"/",g=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=Pk(t,{pathname:g}),k=cR(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:si([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:si([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&k?te.createElement(Eh.Provider,{value:{location:su({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gr.Pop}},k):k}function oR(){let t=pR(),e=Jk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,null)}const aR=te.createElement(oR,null);class uR extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(ss.Provider,{value:this.props.routeContext},te.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lR(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(Vm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(ss.Provider,{value:e},r)}function cR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,_=!1,k=null,P=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,k=f.route.errorElement||aR,u&&(c<0&&m===0?(_=!0,P=null):c===m&&(_=!0,P=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),I=()=>{let w;return g?w=k:_?w=P:f.route.Component?w=te.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,te.createElement(lR,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?te.createElement(uR,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:I(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):I()},null)}var uv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uv||{}),Rc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rc||{});function hR(t){let e=te.useContext(Vm);return e||it(!1),e}function dR(t){let e=te.useContext(eR);return e||it(!1),e}function fR(t){let e=te.useContext(ss);return e||it(!1),e}function lv(t){let e=fR(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function pR(){var t;let e=te.useContext(sv),n=dR(Rc.UseRouteError),r=lv(Rc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mR(){let{router:t}=hR(uv.UseNavigateStable),e=lv(Rc.UseNavigateStable),n=te.useRef(!1);return ov(()=>{n.current=!0}),te.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,su({fromRouteId:e},s)))},[t,e])}function Mr(t){it(!1)}function gR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1,future:a}=t;bu()&&it(!1);let u=e.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:u,navigator:s,static:o,future:su({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=_o(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:_="default"}=r,k=te.useMemo(()=>{let P=Bm(d,u);return P==null?null:{location:{pathname:P,search:f,hash:m,state:g,key:_},navigationType:i}},[u,d,f,m,g,_,i]);return k==null?null:te.createElement(is.Provider,{value:c},te.createElement(Eh.Provider,{children:n,value:k}))}function ER(t){let{children:e,location:n}=t;return iR(lp(e),n)}new Promise(()=>{});function lp(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;let s=[...e,i];if(r.type===te.Fragment){n.push.apply(n,lp(r.props.children,s));return}r.type!==Mr&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function _R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yR(t,e){return t.button===0&&(!e||e==="_self")&&!TR(t)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],vR="6";try{window.__reactRouterVersion=vR}catch{}const AR="startTransition",sE=Ew[AR];function bR(t){let{basename:e,children:n,future:r,window:i}=t,s=te.useRef();s.current==null&&(s.current=Rk({window:i,v5Compat:!0}));let o=s.current,[a,u]=te.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=te.useCallback(f=>{c&&sE?sE(()=>u(f)):u(f)},[u,c]);return te.useLayoutEffect(()=>o.listen(d),[o,d]),te.createElement(gR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=te.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=_R(e,IR),{basename:g}=te.useContext(is),_,k=!1;if(typeof c=="string"&&wR.test(c)&&(_=c,CR))try{let w=new URL(window.location.href),B=c.startsWith("//")?new URL(w.protocol+c):new URL(c),W=Bm(B.pathname,g);B.origin===w.origin&&W!=null?c=W+B.search+B.hash:k=!0}catch{}let P=tR(c,{relative:i}),y=SR(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function I(w){r&&r(w),w.defaultPrevented||y(w)}return te.createElement("a",cp({},m,{href:_||P,onClick:k||s?r:I,ref:n,target:u}))});var oE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oE||(oE={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function SR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=nR(),c=_h(),d=av(t,{relative:o});return te.useCallback(f=>{if(yR(f,n)){f.preventDefault();let m=r!==void 0?r:kc(c)===kc(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}const kR="/assets/eu-C4iVicHj.jpeg";function cv(t){const[e,n]=te.useState(t.SectionNumber);function r(i){switch(i){case"001":{n("1");break}case"1":{n("001");break}case"010":{n("2");break}case"2":{n("010");break}case"011":{n("3");break}case"3":{n("011");break}}}return v.jsx(v.Fragment,{children:v.jsxs("h2",{children:[v.jsx("span",{className:"title_numbering",onClick:()=>r(e),children:e})," - ",t.SectionName]})})}var hv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uE=Qr.createContext&&Qr.createContext(hv),RR=["attr","size","title"];function NR(t,e){if(t==null)return{};var n=xR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xR(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function lE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(n),!0).forEach(function(r){PR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PR(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=OR(t,"string");return typeof e=="symbol"?e:e+""}function OR(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dv(t){return t&&t.map((e,n)=>Qr.createElement(e.tag,xc({key:n},e.attr),dv(e.child)))}function Th(t){return e=>Qr.createElement(DR,Nc({attr:xc({},t.attr)},e),dv(t.child))}function DR(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=NR(t,RR),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Qr.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:xc(xc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Qr.createElement("title",null,s),t.children)};return uE!==void 0?Qr.createElement(uE.Consumer,null,n=>e(n)):e(hv)}function MR(t){return Th({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function FR(t){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function UR(t){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function BR(t){return Th({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function VR(){return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"aboutMeSection",children:[v.jsxs("div",{className:"aboutMeSectionText",children:[v.jsx(cv,{SectionName:"About Me",SectionNumber:"001"}),v.jsx("p",{children:" Hi, my name is Pedro and this is my little place on the internet."}),v.jsx("p",{children:" I'm a brazilian electronics engineering major at UFPE with a strong programmer background."}),v.jsx("p",{children:" As of now, my focus is redirected to being a member of the Mangue Baja team. "}),v.jsx("h2",{children:"What am I working on?"}),v.jsxs("p",{children:["I'm always working on some projects, varying from AI to bare-metal embedded programming. More about that on my ",v.jsx("a",{href:"https://github.com/pchagas72",className:"prettyLink",children:"GitHub"})," or in the projects section."]}),v.jsx("h3",{children:" Reach me at: "}),v.jsxs("ul",{className:"socials",children:[v.jsxs("li",{children:[v.jsx(MR,{className:"icon"})," ",v.jsx("a",{className:"prettyLink",children:"Pchagas"})]}),v.jsxs("li",{children:[v.jsx(FR,{className:"icon"}),v.jsx("a",{className:"prettyLink",children:"@pchagas.s"})]}),v.jsxs("li",{children:[v.jsx(UR,{className:"icon"})," ",v.jsx("a",{href:"https://www.linkedin.com/in/pedro-chagas-44a4112aa",className:"prettyLink",children:"Pedro Chagas"})]}),v.jsxs("li",{children:[v.jsx(BR,{className:"icon"})," ",v.jsx("a",{className:"prettyLink",children:"pedro.pcsilva@ufpe.br"})]})]})]}),v.jsx("div",{className:"aboutMePicture",children:v.jsx("img",{src:kR})})]})})}function ra(t){return v.jsxs("section",{className:"Project",children:[v.jsxs("p",{className:"project_numbering",children:[" Project ",t.projectNumber," "]}),v.jsxs("h2",{children:[" ",t.projectTitle," "]}),v.jsxs("p",{children:[" ",t.projectDesc," "]}),v.jsxs("div",{children:[v.jsx("p",{children:t.tech}),v.jsx("a",{className:"prettyLink",href:t.projectLink,children:"View it on github!"})]})]})}function HR(){return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"ProjectsDiv",children:[v.jsxs("div",{className:"ProjectsDivText",children:[v.jsx(cv,{SectionName:"Some of my projects",SectionNumber:"010"}),v.jsxs("p",{children:["Here are some of my lastest big projects, se all of them on ",v.jsx("a",{href:"https://github.com/pchagas72",className:"prettyLink",children:"GitHub"})]})]}),v.jsx(ra,{projectNumber:"1",projectTitle:"Fullstack Radio and Mqtt Telemetry",projectLink:"https://github.com/pchagas72/mangue-telemetry",projectDesc:"The telemetry interface I created for the Mangue Baja team.",tech:"Typescript, Python, FastAPI"}),v.jsx(ra,{projectNumber:"2",projectTitle:"Mangue Baja ECUs",projectLink:"https://github.com/pchagas72/Mangue-Baja-ECUs",projectDesc:"The firmware I made/edited for the ECUs to a baja-SAE car.",tech:"C, C++, ESP-IDF, PlatformIO"}),v.jsx(ra,{projectNumber:"3",projectTitle:"Radio Telescope Firmware/Software",projectLink:"https://github.com/pchagas72/telescope-server-firmware",projectDesc:"Firmware and software for my radio telescope array.",tech:"C, ESP-IDF"}),v.jsx(ra,{projectNumber:"4",projectTitle:"Cryptography and Ransomware research",projectLink:"https://github.com/pchagas72/ES502",projectDesc:"This is a research program that I started to learn more about viruses and malwares, my end goal is to develop an AI-driven antivirus or high-grade malware.",tech:"C, Assembly, Python"}),v.jsx(ra,{projectNumber:"5",projectTitle:"Constela Colaborativo",projectLink:"https://github.com/pchagas72/Projeto-constela",projectDesc:"This is a report receiving whatsapp bot that also checks for fake news, fully AI and NLP driven project.",tech:"Python, Natural Language Processing, Convolutional Neural networks, audio and image processing"})]})})}function jR(){return te.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs("div",{className:"page_body",children:[v.jsx(VR,{}),v.jsx(HR,{}),v.jsxs("div",{className:"insideLinks",children:[v.jsx("h1",{children:"Further Documentation"}),v.jsx(fa,{className:"link_button",to:"/resume",children:"Resume / CV"}),v.jsx(fa,{className:"link_button",to:"/notebook",children:"Engineering Notebook"}),v.jsx(fa,{className:"link_button",to:"/blog",children:"Technical Blog"}),v.jsx(fa,{className:"link_button",to:"/bookshelf",children:"Reading List"})]})]})}function cE(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&e.push(o),i=r+1,r=n.indexOf(",",i)}return e}function fv(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const zR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$R=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WR={};function hE(t,e){return(WR.jsx?$R:zR).test(t)}const qR=/[ \t\n\f\r]/g;function YR(t){return typeof t=="object"?t.type==="text"?dE(t.value):!1:dE(t)}function dE(t){return t.replace(qR,"")===""}class Cu{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Cu.prototype.property={};Cu.prototype.normal={};Cu.prototype.space=null;function pv(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Cu(n,r,e)}function ou(t){return t.toLowerCase()}class An{constructor(e,n){this.property=e,this.attribute=n}}An.prototype.space=null;An.prototype.boolean=!1;An.prototype.booleanish=!1;An.prototype.overloadedBoolean=!1;An.prototype.number=!1;An.prototype.commaSeparated=!1;An.prototype.spaceSeparated=!1;An.prototype.commaOrSpaceSeparated=!1;An.prototype.mustUseProperty=!1;An.prototype.defined=!1;let GR=0;const fe=os(),nt=os(),mv=os(),J=os(),Me=os(),zs=os(),tn=os();function os(){return 2**++GR}const hp=Object.freeze(Object.defineProperty({__proto__:null,boolean:fe,booleanish:nt,commaOrSpaceSeparated:tn,commaSeparated:zs,number:J,overloadedBoolean:mv,spaceSeparated:Me},Symbol.toStringTag,{value:"Module"})),Ud=Object.keys(hp);class Hm extends An{constructor(e,n,r,i){let s=-1;if(super(e,n),fE(this,"space",i),typeof r=="number")for(;++s<Ud.length;){const o=Ud[s];fE(this,Ud[s],(r&hp[o])===hp[o])}}}Hm.prototype.defined=!0;function fE(t,e,n){n&&(t[e]=n)}const KR={}.hasOwnProperty;function To(t){const e={},n={};let r;for(r in t.properties)if(KR.call(t.properties,r)){const i=t.properties[r],s=new Hm(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[ou(r)]=r,n[ou(s.attribute)]=r}return new Cu(e,n,t.space)}const gv=To({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ev=To({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function _v(t,e){return e in t?t[e]:e}function Tv(t,e){return _v(t,e.toLowerCase())}const yv=To({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Tv,properties:{xmlns:null,xmlnsXLink:null}}),Iv=To({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:nt,ariaAutoComplete:null,ariaBusy:nt,ariaChecked:nt,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:Me,ariaCurrent:null,ariaDescribedBy:Me,ariaDetails:null,ariaDisabled:nt,ariaDropEffect:Me,ariaErrorMessage:null,ariaExpanded:nt,ariaFlowTo:Me,ariaGrabbed:nt,ariaHasPopup:null,ariaHidden:nt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Me,ariaLevel:J,ariaLive:null,ariaModal:nt,ariaMultiLine:nt,ariaMultiSelectable:nt,ariaOrientation:null,ariaOwns:Me,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:nt,ariaReadOnly:nt,ariaRelevant:null,ariaRequired:nt,ariaRoleDescription:Me,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:nt,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null}}),QR=To({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Tv,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zs,acceptCharset:Me,accessKey:Me,action:null,allow:null,allowFullScreen:fe,allowPaymentRequest:fe,allowUserMedia:fe,alt:null,as:null,async:fe,autoCapitalize:null,autoComplete:Me,autoFocus:fe,autoPlay:fe,blocking:Me,capture:null,charSet:null,checked:fe,cite:null,className:Me,cols:J,colSpan:null,content:null,contentEditable:nt,controls:fe,controlsList:Me,coords:J|zs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fe,defer:fe,dir:null,dirName:null,disabled:fe,download:mv,draggable:nt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fe,formTarget:null,headers:Me,height:J,hidden:fe,high:J,href:null,hrefLang:null,htmlFor:Me,httpEquiv:Me,id:null,imageSizes:null,imageSrcSet:null,inert:fe,inputMode:null,integrity:null,is:null,isMap:fe,itemId:null,itemProp:Me,itemRef:Me,itemScope:fe,itemType:Me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fe,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:fe,muted:fe,name:null,nonce:null,noModule:fe,noValidate:fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fe,optimum:J,pattern:null,ping:Me,placeholder:null,playsInline:fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fe,referrerPolicy:null,rel:Me,required:fe,reversed:fe,rows:J,rowSpan:J,sandbox:Me,scope:null,scoped:fe,seamless:fe,selected:fe,shadowRootClonable:fe,shadowRootDelegatesFocus:fe,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:nt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:fe,useMap:null,value:nt,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Me,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fe,declare:fe,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:fe,noHref:fe,noShade:fe,noWrap:fe,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:nt,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fe,disableRemotePlayback:fe,prefix:null,property:null,results:J,security:null,unselectable:null}}),XR=To({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:_v,properties:{about:tn,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:Me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zs,g2:zs,glyphName:zs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tn,rev:tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tn,requiredFeatures:tn,requiredFonts:tn,requiredFormats:tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tn,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),JR=/^data[-\w.:]+$/i,pE=/-[a-z]/g,ZR=/[A-Z]/g;function yh(t,e){const n=ou(e);let r=e,i=An;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JR.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(pE,tN);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!pE.test(s)){let o=s.replace(ZR,eN);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Hm}return new i(r,e)}function eN(t){return"-"+t.toLowerCase()}function tN(t){return t.charAt(1).toUpperCase()}const nN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wu=pv([Ev,gv,yv,Iv,QR],"html"),Ii=pv([Ev,gv,yv,Iv,XR],"svg");function mE(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function vv(t){return t.join(" ").trim()}var Av={},gE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,rN=/\n/g,iN=/^\s*/,sN=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,oN=/^:\s*/,aN=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uN=/^[;\s]*/,lN=/^\s+|\s+$/g,cN=`
`,EE="/",_E="*",Pi="",hN="comment",dN="declaration",fN=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(_){var k=_.match(rN);k&&(n+=k.length);var P=_.lastIndexOf(cN);r=~P?_.length-P:r+_.length}function s(){var _={line:n,column:r};return function(k){return k.position=new o(_),c(),k}}function o(_){this.start=_,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(_){var k=new Error(e.source+":"+n+":"+r+": "+_);if(k.reason=_,k.filename=e.source,k.line=n,k.column=r,k.source=t,!e.silent)throw k}function u(_){var k=_.exec(t);if(k){var P=k[0];return i(P),t=t.slice(P.length),k}}function c(){u(iN)}function d(_){var k;for(_=_||[];k=f();)k!==!1&&_.push(k);return _}function f(){var _=s();if(!(EE!=t.charAt(0)||_E!=t.charAt(1))){for(var k=2;Pi!=t.charAt(k)&&(_E!=t.charAt(k)||EE!=t.charAt(k+1));)++k;if(k+=2,Pi===t.charAt(k-1))return a("End of comment missing");var P=t.slice(2,k-2);return r+=2,i(P),t=t.slice(k),r+=2,_({type:hN,comment:P})}}function m(){var _=s(),k=u(sN);if(k){if(f(),!u(oN))return a("property missing ':'");var P=u(aN),y=_({type:dN,property:TE(k[0].replace(gE,Pi)),value:P?TE(P[0].replace(gE,Pi)):Pi});return u(uN),y}}function g(){var _=[];d(_);for(var k;k=m();)k!==!1&&(_.push(k),d(_));return _}return c(),g()};function TE(t){return t?t.replace(lN,Pi):Pi}var pN=$g&&$g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Av,"__esModule",{value:!0});var mN=pN(fN);function gN(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,mN.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var yE=Av.default=gN;const EN=yE.default||yE,Ih=bv("end"),tr=bv("start");function bv(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _N(t){const e=tr(t),n=Ih(t);if(e&&n)return{start:e,end:n}}function ka(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?IE(t.position):"start"in t||"end"in t?IE(t):"line"in t||"column"in t?dp(t):""}function dp(t){return vE(t&&t.line)+":"+vE(t&&t.column)}function IE(t){return dp(t&&t.start)+"-"+dp(t&&t.end)}function vE(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=ka(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const jm={}.hasOwnProperty,TN=new Map,yN=/[A-Z]/g,IN=/-([a-z])/g,vN=new Set(["table","tbody","thead","tfoot","tr"]),AN=new Set(["td","th"]),Cv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function bN(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=PN(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=xN(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ii:wu,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=wv(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function wv(t,e,n){if(e.type==="element")return CN(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return wN(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return kN(t,e,n);if(e.type==="mdxjsEsm")return SN(t,e);if(e.type==="root")return RN(t,e,n);if(e.type==="text")return NN(t,e)}function CN(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ii,t.schema=i),t.ancestors.push(e);const s=kv(t,e.tagName,!1),o=LN(t,e);let a=$m(t,e);return vN.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!YR(u):!0})),Sv(t,o,s,e),zm(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function wN(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}au(t,e.position)}function SN(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);au(t,e.position)}function kN(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Ii,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:kv(t,e.name,!0),o=ON(t,e),a=$m(t,e);return Sv(t,o,s,e),zm(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function RN(t,e,n){const r={};return zm(r,$m(t,e)),t.create(e,t.Fragment,r,n)}function NN(t,e){return e.value}function Sv(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function zm(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function xN(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function PN(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),u=tr(r);return e(i,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function LN(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&jm.call(e.properties,i)){const s=DN(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&AN.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ON(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else au(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else au(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function $m(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:TN;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const a=wv(t,s,o);a!==void 0&&n.push(a)}return n}function DN(t,e,n){const r=yh(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?fv(n):vv(n)),r.property==="style"){let i=typeof n=="object"?n:MN(t,String(n));return t.stylePropertyNameCase==="css"&&(i=FN(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?nN[r.property]||r.property:r.attribute,n]}}function MN(t,e){const n={};try{EN(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Ot("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=Cv+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(IN,BN)),n[o]=s}}function kv(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=hE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=hE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return jm.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);au(t)}function au(t,e){const n=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Cv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function FN(t){const e={};let n;for(n in t)jm.call(t,n)&&(e[UN(n)]=t[n]);return e}function UN(t){let e=t.replace(yN,VN);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function BN(t,e){return e.toUpperCase()}function VN(t){return"-"+t.toLowerCase()}const Bd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},HN={};function Wm(t,e){const n=HN,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Rv(t,r,i)}function Rv(t,e,n){if(jN(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return AE(t.children,e,n)}return Array.isArray(t)?AE(t,e,n):""}function AE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Rv(t[i],e,n);return r.join("")}function jN(t){return!!(t&&typeof t=="object")}const bE=document.createElement("i");function qm(t){const e="&"+t+";";bE.innerHTML=e;const n=bE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _n(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function pn(t,e){return t.length>0?(_n(t,t.length,0,e),t):e}const CE={}.hasOwnProperty;function Nv(t){const e={};let n=-1;for(;++n<t.length;)zN(e,t[n]);return e}function zN(t,e){let n;for(n in e){const i=(CE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){CE.call(i,o)||(i[o]=[]);const a=s[o];$N(i[o],Array.isArray(a)?a:a?[a]:[])}}}function $N(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_n(t,0,0,r)}function xv(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function On(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vt=vi(/[A-Za-z]/),xt=vi(/[\dA-Za-z]/),WN=vi(/[#-'*+\--9=?A-Z^-~]/);function Pc(t){return t!==null&&(t<32||t===127)}const fp=vi(/\d/),qN=vi(/[\dA-Fa-f]/),YN=vi(/[!-/:-@[-`{-~]/);function oe(t){return t!==null&&t<-2}function Oe(t){return t!==null&&(t<0||t===32)}function _e(t){return t===-2||t===-1||t===32}const vh=vi(new RegExp("\\p{P}|\\p{S}","u")),Xi=vi(/\s/);function vi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function yo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&xt(t.charCodeAt(n+1))&&xt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ce(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return _e(u)?(t.enter(n),a(u)):e(u)}function a(u){return _e(u)&&s++<i?(t.consume(u),a):(t.exit(n),e(u))}}const GN={tokenize:KN};function KN(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ce(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return oe(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const QN={tokenize:XN},wE={tokenize:JN};function XN(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,u,c)(w)}return c(w)}function u(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&I();const B=e.events.length;let W=B,U;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){U=e.events[W][1].end;break}y(r);let R=B;for(;R<e.events.length;)e.events[R][1].end=Object.assign({},U),R++;return _n(e.events,W+1,0,e.events.slice(B)),e.events.length=R,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return m(w);if(i.currentConstruct&&i.currentConstruct.concrete)return _(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(wE,d,f)(w)}function d(w){return i&&I(),y(r),m(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(w)}function m(w){return e.containerState={},t.attempt(wE,g,_)(w)}function g(w){return r++,n.push([e.currentConstruct,e.containerState]),m(w)}function _(w){if(w===null){i&&I(),y(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),k(w)}function k(w){if(w===null){P(t.exit("chunkFlow"),!0),y(0),t.consume(w);return}return oe(w)?(t.consume(w),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),k)}function P(w,B){const W=e.sliceStream(w);if(B&&W.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(W),e.parser.lazy[w.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<o&&(!i.events[U][1].end||i.events[U][1].end.offset>o))return;const R=e.events.length;let C=R,N,T;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(N){T=e.events[C][1].end;break}N=!0}for(y(r),U=R;U<e.events.length;)e.events[U][1].end=Object.assign({},T),U++;_n(e.events,C+1,0,e.events.slice(R)),e.events.length=U}}function y(w){let B=n.length;for(;B-- >w;){const W=n[B];e.containerState=W[1],W[0].exit.call(e,t)}n.length=w}function I(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function JN(t,e,n){return Ce(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Lc(t){if(t===null||Oe(t)||Xi(t))return 1;if(vh(t))return 2}function Ah(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const pp={name:"attention",tokenize:ex,resolveAll:ZN};function ZN(t,e){let n=-1,r,i,s,o,a,u,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);SE(f,-u),SE(m,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=pn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=pn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=pn(c,Ah(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=pn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=pn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,_n(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ex(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Lc(r);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),a(u)}function a(u){if(u===s)return t.consume(u),a;const c=t.exit("attentionSequence"),d=Lc(u),f=!d||d===2&&i||n.includes(u),m=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!m)),c._close=!!(s===42?m:m&&(d||!f)),e(u)}}function SE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const tx={name:"autolink",tokenize:nx};function nx(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return Vt(g)?(t.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||xt(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(t.consume(g),r=0,u):(g===43||g===45||g===46||xt(g))&&r++<32?(t.consume(g),a):(r=0,c(g))}function u(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||Pc(g)?n(g):(t.consume(g),u)}function c(g){return g===64?(t.consume(g),d):WN(g)?(t.consume(g),c):n(g)}function d(g){return xt(g)?f(g):n(g)}function f(g){return g===46?(t.consume(g),r=0,d):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):m(g)}function m(g){if((g===45||xt(g))&&r++<63){const _=g===45?m:f;return t.consume(g),_}return n(g)}}const Su={tokenize:rx,partial:!0};function rx(t,e,n){return r;function r(s){return _e(s)?Ce(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||oe(s)?e(s):n(s)}}const Pv={name:"blockQuote",tokenize:ix,continuation:{tokenize:sx},exit:ox};function ix(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return _e(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function sx(t,e,n){const r=this;return i;function i(o){return _e(o)?Ce(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(Pv,e,n)(o)}}function ox(t){t.exit("blockQuote")}const Lv={name:"characterEscape",tokenize:ax};function ax(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return YN(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Ov={name:"characterReference",tokenize:ux};function ux(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),u}function u(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=xt,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=qN,d):(t.enter("characterReferenceValue"),s=7,o=fp,d(f))}function d(f){if(f===59&&i){const m=t.exit("characterReferenceValue");return o===xt&&!qm(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),d):n(f)}}const kE={tokenize:cx,partial:!0},RE={name:"codeFenced",tokenize:lx,concrete:!0};function lx(t,e,n){const r=this,i={tokenize:W,partial:!0};let s=0,o=0,a;return u;function u(U){return c(U)}function c(U){const R=r.events[r.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(U)}function d(U){return U===a?(o++,t.consume(U),d):o<3?n(U):(t.exit("codeFencedFenceSequence"),_e(U)?Ce(t,f,"whitespace")(U):f(U))}function f(U){return U===null||oe(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(kE,k,B)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(U))}function m(U){return U===null||oe(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(U)):_e(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ce(t,g,"whitespace")(U)):U===96&&U===a?n(U):(t.consume(U),m)}function g(U){return U===null||oe(U)?f(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(U))}function _(U){return U===null||oe(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(U)):U===96&&U===a?n(U):(t.consume(U),_)}function k(U){return t.attempt(i,B,P)(U)}function P(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),y}function y(U){return s>0&&_e(U)?Ce(t,I,"linePrefix",s+1)(U):I(U)}function I(U){return U===null||oe(U)?t.check(kE,k,B)(U):(t.enter("codeFlowValue"),w(U))}function w(U){return U===null||oe(U)?(t.exit("codeFlowValue"),I(U)):(t.consume(U),w)}function B(U){return t.exit("codeFenced"),e(U)}function W(U,R,C){let N=0;return T;function T(pe){return U.enter("lineEnding"),U.consume(pe),U.exit("lineEnding"),O}function O(pe){return U.enter("codeFencedFence"),_e(pe)?Ce(U,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):F(pe)}function F(pe){return pe===a?(U.enter("codeFencedFenceSequence"),x(pe)):C(pe)}function x(pe){return pe===a?(N++,U.consume(pe),x):N>=o?(U.exit("codeFencedFenceSequence"),_e(pe)?Ce(U,ye,"whitespace")(pe):ye(pe)):C(pe)}function ye(pe){return pe===null||oe(pe)?(U.exit("codeFencedFence"),R(pe)):C(pe)}}}function cx(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Vd={name:"codeIndented",tokenize:dx},hx={tokenize:fx,partial:!0};function dx(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ce(t,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):oe(c)?t.attempt(hx,o,u)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||oe(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function u(c){return t.exit("codeIndented"),e(c)}}function fx(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):oe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ce(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):oe(o)?i(o):n(o)}}const px={name:"codeText",tokenize:Ex,resolve:mx,previous:gx};function mx(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gx(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ex(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):f===96?(s=t.enter("codeTextSequence"),i=0,d(f)):oe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||oe(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class _x{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ia(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ia(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ia(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ia(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ia(this.left,n.reverse())}}}function ia(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Dv(t){const e={};let n=-1,r,i,s,o,a,u,c;const d=new _x(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Tx(d,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},d.get(i)[1].start),a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return _n(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Tx(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],c={};let d,f,m=-1,g=n,_=0,k=0;const P=[k];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(d=r.sliceStream(g),g.next||d.push(null),f&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++m<a.length;)a[m][0]==="exit"&&a[m-1][0]==="enter"&&a[m][1].type===a[m-1][1].type&&a[m][1].start.line!==a[m][1].end.line&&(k=m+1,P.push(k),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):P.pop(),m=P.length;m--;){const y=a.slice(P[m],P[m+1]),I=s.pop();u.push([I,I+y.length-1]),t.splice(I,2,y)}for(u.reverse(),m=-1;++m<u.length;)c[_+u[m][0]]=_+u[m][1],_+=u[m][1]-u[m][0]-1;return c}const yx={tokenize:Ax,resolve:vx},Ix={tokenize:bx,partial:!0};function vx(t){return Dv(t),t}function Ax(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):oe(a)?t.check(Ix,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function bx(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ce(t,s,"linePrefix")}function s(o){if(o===null||oe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function Mv(t,e,n,r,i,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),m):y===null||y===32||y===41||Pc(y)?n(y):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),k(y))}function m(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===62?(t.exit("chunkString"),t.exit(a),m(y)):y===null||y===60||oe(y)?n(y):(t.consume(y),y===92?_:g)}function _(y){return y===60||y===62||y===92?(t.consume(y),g):g(y)}function k(y){return!d&&(y===null||y===41||Oe(y))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(y)):d<c&&y===40?(t.consume(y),d++,k):y===41?(t.consume(y),d--,k):y===null||y===32||y===40||Pc(y)?n(y):(t.consume(y),y===92?P:k)}function P(y){return y===40||y===41||y===92?(t.consume(y),k):k(y)}}function Fv(t,e,n,r,i,s){const o=this;let a=0,u;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),d}function d(g){return a>999||g===null||g===91||g===93&&!u||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):oe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||oe(g)||a++>999?(t.exit("chunkString"),d(g)):(t.consume(g),u||(u=!_e(g)),g===92?m:f)}function m(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function Uv(t,e,n,r,i,s){let o;return a;function a(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,u):n(m)}function u(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(s),c(m))}function c(m){return m===o?(t.exit(s),u(o)):m===null?n(m):oe(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Ce(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||oe(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?f:d)}function f(m){return m===o||m===92?(t.consume(m),d):d(m)}}function Ra(t,e){let n;return r;function r(i){return oe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):_e(i)?Ce(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Cx={name:"definition",tokenize:Sx},wx={tokenize:kx,partial:!0};function Sx(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return Fv.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=On(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),u):n(g)}function u(g){return Oe(g)?Ra(t,c)(g):c(g)}function c(g){return Mv(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return t.attempt(wx,f,f)(g)}function f(g){return _e(g)?Ce(t,m,"whitespace")(g):m(g)}function m(g){return g===null||oe(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function kx(t,e,n){return r;function r(a){return Oe(a)?Ra(t,i)(a):n(a)}function i(a){return Uv(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return _e(a)?Ce(t,o,"whitespace")(a):o(a)}function o(a){return a===null||oe(a)?e(a):n(a)}}const Rx={name:"hardBreakEscape",tokenize:Nx};function Nx(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return oe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const xx={name:"headingAtx",tokenize:Lx,resolve:Px};function Px(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_n(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Lx(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||Oe(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),u(d)):d===null||oe(d)?(t.exit("atxHeading"),e(d)):_e(d)?Ce(t,a,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function u(d){return d===35?(t.consume(d),u):(t.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Oe(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),c)}}const Ox=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],NE=["pre","script","style","textarea"],Dx={name:"htmlFlow",tokenize:Bx,resolveTo:Ux,concrete:!0},Mx={tokenize:Hx,partial:!0},Fx={tokenize:Vx,partial:!0};function Ux(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Bx(t,e,n){const r=this;let i,s,o,a,u;return c;function c(M){return d(M)}function d(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),f}function f(M){return M===33?(t.consume(M),m):M===47?(t.consume(M),s=!0,k):M===63?(t.consume(M),i=3,r.interrupt?e:L):Vt(M)?(t.consume(M),o=String.fromCharCode(M),P):n(M)}function m(M){return M===45?(t.consume(M),i=2,g):M===91?(t.consume(M),i=5,a=0,_):Vt(M)?(t.consume(M),i=4,r.interrupt?e:L):n(M)}function g(M){return M===45?(t.consume(M),r.interrupt?e:L):n(M)}function _(M){const Xe="CDATA[";return M===Xe.charCodeAt(a++)?(t.consume(M),a===Xe.length?r.interrupt?e:F:_):n(M)}function k(M){return Vt(M)?(t.consume(M),o=String.fromCharCode(M),P):n(M)}function P(M){if(M===null||M===47||M===62||Oe(M)){const Xe=M===47,pt=o.toLowerCase();return!Xe&&!s&&NE.includes(pt)?(i=1,r.interrupt?e(M):F(M)):Ox.includes(o.toLowerCase())?(i=6,Xe?(t.consume(M),y):r.interrupt?e(M):F(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):s?I(M):w(M))}return M===45||xt(M)?(t.consume(M),o+=String.fromCharCode(M),P):n(M)}function y(M){return M===62?(t.consume(M),r.interrupt?e:F):n(M)}function I(M){return _e(M)?(t.consume(M),I):T(M)}function w(M){return M===47?(t.consume(M),T):M===58||M===95||Vt(M)?(t.consume(M),B):_e(M)?(t.consume(M),w):T(M)}function B(M){return M===45||M===46||M===58||M===95||xt(M)?(t.consume(M),B):W(M)}function W(M){return M===61?(t.consume(M),U):_e(M)?(t.consume(M),W):w(M)}function U(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),u=M,R):_e(M)?(t.consume(M),U):C(M)}function R(M){return M===u?(t.consume(M),u=null,N):M===null||oe(M)?n(M):(t.consume(M),R)}function C(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Oe(M)?W(M):(t.consume(M),C)}function N(M){return M===47||M===62||_e(M)?w(M):n(M)}function T(M){return M===62?(t.consume(M),O):n(M)}function O(M){return M===null||oe(M)?F(M):_e(M)?(t.consume(M),O):n(M)}function F(M){return M===45&&i===2?(t.consume(M),Ge):M===60&&i===1?(t.consume(M),xe):M===62&&i===4?(t.consume(M),Ae):M===63&&i===3?(t.consume(M),L):M===93&&i===5?(t.consume(M),ie):oe(M)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Mx,Ee,x)(M)):M===null||oe(M)?(t.exit("htmlFlowData"),x(M)):(t.consume(M),F)}function x(M){return t.check(Fx,ye,Ee)(M)}function ye(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),pe}function pe(M){return M===null||oe(M)?x(M):(t.enter("htmlFlowData"),F(M))}function Ge(M){return M===45?(t.consume(M),L):F(M)}function xe(M){return M===47?(t.consume(M),o="",Z):F(M)}function Z(M){if(M===62){const Xe=o.toLowerCase();return NE.includes(Xe)?(t.consume(M),Ae):F(M)}return Vt(M)&&o.length<8?(t.consume(M),o+=String.fromCharCode(M),Z):F(M)}function ie(M){return M===93?(t.consume(M),L):F(M)}function L(M){return M===62?(t.consume(M),Ae):M===45&&i===2?(t.consume(M),L):F(M)}function Ae(M){return M===null||oe(M)?(t.exit("htmlFlowData"),Ee(M)):(t.consume(M),Ae)}function Ee(M){return t.exit("htmlFlow"),e(M)}}function Vx(t,e,n){const r=this;return i;function i(o){return oe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Hx(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Su,e,n)}}const jx={name:"htmlText",tokenize:zx};function zx(t,e,n){const r=this;let i,s,o;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),u}function u(L){return L===33?(t.consume(L),c):L===47?(t.consume(L),W):L===63?(t.consume(L),w):Vt(L)?(t.consume(L),C):n(L)}function c(L){return L===45?(t.consume(L),d):L===91?(t.consume(L),s=0,_):Vt(L)?(t.consume(L),I):n(L)}function d(L){return L===45?(t.consume(L),g):n(L)}function f(L){return L===null?n(L):L===45?(t.consume(L),m):oe(L)?(o=f,xe(L)):(t.consume(L),f)}function m(L){return L===45?(t.consume(L),g):f(L)}function g(L){return L===62?Ge(L):L===45?m(L):f(L)}function _(L){const Ae="CDATA[";return L===Ae.charCodeAt(s++)?(t.consume(L),s===Ae.length?k:_):n(L)}function k(L){return L===null?n(L):L===93?(t.consume(L),P):oe(L)?(o=k,xe(L)):(t.consume(L),k)}function P(L){return L===93?(t.consume(L),y):k(L)}function y(L){return L===62?Ge(L):L===93?(t.consume(L),y):k(L)}function I(L){return L===null||L===62?Ge(L):oe(L)?(o=I,xe(L)):(t.consume(L),I)}function w(L){return L===null?n(L):L===63?(t.consume(L),B):oe(L)?(o=w,xe(L)):(t.consume(L),w)}function B(L){return L===62?Ge(L):w(L)}function W(L){return Vt(L)?(t.consume(L),U):n(L)}function U(L){return L===45||xt(L)?(t.consume(L),U):R(L)}function R(L){return oe(L)?(o=R,xe(L)):_e(L)?(t.consume(L),R):Ge(L)}function C(L){return L===45||xt(L)?(t.consume(L),C):L===47||L===62||Oe(L)?N(L):n(L)}function N(L){return L===47?(t.consume(L),Ge):L===58||L===95||Vt(L)?(t.consume(L),T):oe(L)?(o=N,xe(L)):_e(L)?(t.consume(L),N):Ge(L)}function T(L){return L===45||L===46||L===58||L===95||xt(L)?(t.consume(L),T):O(L)}function O(L){return L===61?(t.consume(L),F):oe(L)?(o=O,xe(L)):_e(L)?(t.consume(L),O):N(L)}function F(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,x):oe(L)?(o=F,xe(L)):_e(L)?(t.consume(L),F):(t.consume(L),ye)}function x(L){return L===i?(t.consume(L),i=void 0,pe):L===null?n(L):oe(L)?(o=x,xe(L)):(t.consume(L),x)}function ye(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Oe(L)?N(L):(t.consume(L),ye)}function pe(L){return L===47||L===62||Oe(L)?N(L):n(L)}function Ge(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function xe(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),Z}function Z(L){return _e(L)?Ce(t,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ie(L)}function ie(L){return t.enter("htmlTextData"),o(L)}}const Ym={name:"labelEnd",tokenize:Kx,resolveTo:Gx,resolveAll:Yx},$x={tokenize:Qx},Wx={tokenize:Xx},qx={tokenize:Jx};function Yx(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Gx(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},d={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",u,e],["enter",c,e]],a=pn(a,t.slice(s+1,s+r+3)),a=pn(a,[["enter",d,e]]),a=pn(a,Ah(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=pn(a,[["exit",d,e],t[o-2],t[o-1],["exit",c,e]]),a=pn(a,t.slice(o+1)),a=pn(a,[["exit",u,e]]),_n(t,s,t.length,a),t}function Kx(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(m){return s?s._inactive?f(m):(o=r.parser.defined.includes(On(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),u):n(m)}function u(m){return m===40?t.attempt($x,d,o?d:f)(m):m===91?t.attempt(Wx,d,o?c:f)(m):o?d(m):f(m)}function c(m){return t.attempt(qx,d,f)(m)}function d(m){return e(m)}function f(m){return s._balanced=!0,n(m)}}function Qx(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Oe(f)?Ra(t,s)(f):s(f)}function s(f){return f===41?d(f):Mv(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Oe(f)?Ra(t,u)(f):d(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?Uv(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Oe(f)?Ra(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function Xx(t,e,n){const r=this;return i;function i(a){return Fv.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(On(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function Jx(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Zx={name:"labelStartImage",tokenize:e3,resolveAll:Ym.resolveAll};function e3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const t3={name:"labelStartLink",tokenize:n3,resolveAll:Ym.resolveAll};function n3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Hd={name:"lineEnding",tokenize:r3};function r3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ce(t,e,"linePrefix")}}const Wl={name:"thematicBreak",tokenize:i3};function i3(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||oe(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===i?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),_e(c)?Ce(t,a,"whitespace")(c):a(c))}}const Wt={name:"list",tokenize:a3,continuation:{tokenize:u3},exit:c3},s3={tokenize:h3,partial:!0},o3={tokenize:l3,partial:!0};function a3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const _=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:fp(g)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Wl,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(g)}return n(g)}function u(g){return fp(g)&&++o<10?(t.consume(g),u):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(Su,r.interrupt?n:d,t.attempt(s3,m,f))}function d(g){return r.containerState.initialBlankLine=!0,s++,m(g)}function f(g){return _e(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function u3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Su,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!_e(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(o3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(t,t.attempt(Wt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function l3(t,e,n){const r=this;return Ce(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function c3(t){t.exit(this.containerState.type)}function h3(t,e,n){const r=this;return Ce(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!_e(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const xE={name:"setextUnderline",tokenize:f3,resolveTo:d3};function d3(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function f3(t,e,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),_e(c)?Ce(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||oe(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const p3={tokenize:m3};function m3(t){const e=this,n=t.attempt(Su,r,t.attempt(this.parser.constructs.flowInitial,i,Ce(t,t.attempt(this.parser.constructs.flow,i,t.attempt(yx,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const g3={resolveAll:Vv()},E3=Bv("string"),_3=Bv("text");function Bv(t){return{tokenize:e,resolveAll:Vv(t==="text"?T3:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let m=-1;if(f)for(;++m<f.length;){const g=f[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Vv(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function T3(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function y3(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:I,enter:w,exit:B,attempt:R(W),check:R(U),interrupt:R(U,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:g,sliceSerialize:m,now:_,defineSkip:k,write:f};let d=e.tokenize.call(c,u);return e.resolveAll&&s.push(e),c;function f(O){return o=pn(o,O),P(),o[o.length-1]!==null?[]:(C(e,0),c.events=Ah(s,c.events,c),c.events)}function m(O,F){return v3(g(O),F)}function g(O){return I3(o,O)}function _(){const{line:O,column:F,offset:x,_index:ye,_bufferIndex:pe}=r;return{line:O,column:F,offset:x,_index:ye,_bufferIndex:pe}}function k(O){i[O.line]=O.column,T()}function P(){let O;for(;r._index<o.length;){const F=o[r._index];if(typeof F=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<F.length;)y(F.charCodeAt(r._bufferIndex));else y(F)}}function y(O){d=d(O)}function I(O){oe(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,T()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=O}function w(O,F){const x=F||{};return x.type=O,x.start=_(),c.events.push(["enter",x,c]),a.push(x),x}function B(O){const F=a.pop();return F.end=_(),c.events.push(["exit",F,c]),F}function W(O,F){C(O,F.from)}function U(O,F){F.restore()}function R(O,F){return x;function x(ye,pe,Ge){let xe,Z,ie,L;return Array.isArray(ye)?Ee(ye):"tokenize"in ye?Ee([ye]):Ae(ye);function Ae(Pe){return Mt;function Mt(Bn){const Sr=Bn!==null&&Pe[Bn],bn=Bn!==null&&Pe.null,ir=[...Array.isArray(Sr)?Sr:Sr?[Sr]:[],...Array.isArray(bn)?bn:bn?[bn]:[]];return Ee(ir)(Bn)}}function Ee(Pe){return xe=Pe,Z=0,Pe.length===0?Ge:M(Pe[Z])}function M(Pe){return Mt;function Mt(Bn){return L=N(),ie=Pe,Pe.partial||(c.currentConstruct=Pe),Pe.name&&c.parser.constructs.disable.null.includes(Pe.name)?pt():Pe.tokenize.call(F?Object.assign(Object.create(c),F):c,u,Xe,pt)(Bn)}}function Xe(Pe){return O(ie,L),pe}function pt(Pe){return L.restore(),++Z<xe.length?M(xe[Z]):Ge}}}function C(O,F){O.resolveAll&&!s.includes(O)&&s.push(O),O.resolve&&_n(c.events,F,c.events.length-F,O.resolve(c.events.slice(F),c)),O.resolveTo&&(c.events=O.resolveTo(c.events,c))}function N(){const O=_(),F=c.previous,x=c.currentConstruct,ye=c.events.length,pe=Array.from(a);return{restore:Ge,from:ye};function Ge(){r=O,c.previous=F,c.currentConstruct=x,c.events.length=ye,a=pe,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function I3(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function v3(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const A3={42:Wt,43:Wt,45:Wt,48:Wt,49:Wt,50:Wt,51:Wt,52:Wt,53:Wt,54:Wt,55:Wt,56:Wt,57:Wt,62:Pv},b3={91:Cx},C3={[-2]:Vd,[-1]:Vd,32:Vd},w3={35:xx,42:Wl,45:[xE,Wl],60:Dx,61:xE,95:Wl,96:RE,126:RE},S3={38:Ov,92:Lv},k3={[-5]:Hd,[-4]:Hd,[-3]:Hd,33:Zx,38:Ov,42:pp,60:[tx,jx],91:t3,92:[Rx,Lv],93:Ym,95:pp,96:px},R3={null:[pp,g3]},N3={null:[42,95]},x3={null:[]},P3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:N3,contentInitial:b3,disable:x3,document:A3,flow:w3,flowInitial:C3,insideSpan:R3,string:S3,text:k3},Symbol.toStringTag,{value:"Module"}));function L3(t){const n=Nv([P3,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(GN),document:i(QN),flow:i(p3),string:i(E3),text:i(_3)};return r;function i(s){return o;function o(a){return y3(r,s,a)}}}function O3(t){for(;!Dv(t););return t}const PE=/[\0\t\n\r]/g;function D3(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const u=[];let c,d,f,m,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(PE.lastIndex=f,c=PE.exec(s),m=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(m),!c){e=s.slice(f);break}if(g===10&&f===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<m&&(u.push(s.slice(f,m)),t+=m-f),g){case 0:{u.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,u.push(-2);t++<d;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return a&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const M3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function F3(t){return t.replace(M3,U3)}function U3(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return xv(n.slice(s?2:1),s?16:10)}return qm(n)||t}const Hv={}.hasOwnProperty;function B3(t,e,n){return typeof e!="string"&&(n=e,e=void 0),V3(n)(O3(L3(n).document().write(D3()(t,e,!0))))}function V3(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Lo),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(hs),blockQuote:s(bn),characterEscape:N,characterReference:N,codeFenced:s(ir),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ir,o),codeText:s(Ro,o),codeTextData:N,data:N,codeFlowValue:N,definition:s(No),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(xo),hardBreakEscape:s(Po),hardBreakTrailing:s(Po),htmlFlow:s(ju,o),htmlFlowData:N,htmlText:s(ju,o),htmlTextData:N,image:s(Kh),label:o,link:s(Lo),listItem:s(zu),listItemValue:m,listOrdered:s(ds,f),listUnordered:s(ds),paragraph:s(Qh),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(hs),strong:s(Oo),thematicBreak:s($u)},exit:{atxHeading:u(),atxHeadingSequence:W,autolink:u(),autolinkEmail:Sr,autolinkProtocol:Bn,blockQuote:u(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:pt,characterReferenceMarkerNumeric:pt,characterReferenceValue:Pe,characterReference:Mt,codeFenced:u(P),codeFencedFence:k,codeFencedFenceInfo:g,codeFencedFenceMeta:_,codeFlowValue:T,codeIndented:u(y),codeText:u(pe),codeTextData:T,data:T,definition:u(),definitionDestinationString:B,definitionLabelString:I,definitionTitleString:w,emphasis:u(),hardBreakEscape:u(F),hardBreakTrailing:u(F),htmlFlow:u(x),htmlFlowData:T,htmlText:u(ye),htmlTextData:T,image:u(xe),label:ie,labelText:Z,lineEnding:O,link:u(Ge),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Xe,resourceDestinationString:L,resourceTitleString:Ae,resource:Ee,setextHeading:u(C),setextHeadingLineSequence:R,setextHeadingText:U,strong:u(),thematicBreak:u()}};jv(e,(t||{}).mdastExtensions||[]);const n={};return r;function r($){let Q={type:"root",children:[]};const ue={stack:[Q],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:d,data:n},ge=[];let Re=-1;for(;++Re<$.length;)if($[Re][1].type==="listOrdered"||$[Re][1].type==="listUnordered")if($[Re][0]==="enter")ge.push(Re);else{const Xt=ge.pop();Re=i($,Xt,Re)}for(Re=-1;++Re<$.length;){const Xt=e[$[Re][0]];Hv.call(Xt,$[Re][1].type)&&Xt[$[Re][1].type].call(Object.assign({sliceSerialize:$[Re][2].sliceSerialize},ue),$[Re][1])}if(ue.tokenStack.length>0){const Xt=ue.tokenStack[ue.tokenStack.length-1];(Xt[1]||LE).call(ue,void 0,Xt[0])}for(Q.position={start:Or($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:Or($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<e.transforms.length;)Q=e.transforms[Re](Q)||Q;return Q}function i($,Q,ue){let ge=Q-1,Re=-1,Xt=!1,Jt,hn,kr,sr;for(;++ge<=ue;){const Ft=$[ge];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?Re++:Re--,sr=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(Jt&&!sr&&!Re&&!kr&&(kr=ge),sr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:sr=void 0}if(!Re&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||Re===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(Jt){let Rr=ge;for(hn=void 0;Rr--;){const Zt=$[Rr];if(Zt[1].type==="lineEnding"||Zt[1].type==="lineEndingBlank"){if(Zt[0]==="exit")continue;hn&&($[hn][1].type="lineEndingBlank",Xt=!0),Zt[1].type="lineEnding",hn=Rr}else if(!(Zt[1].type==="linePrefix"||Zt[1].type==="blockQuotePrefix"||Zt[1].type==="blockQuotePrefixWhitespace"||Zt[1].type==="blockQuoteMarker"||Zt[1].type==="listItemIndent"))break}kr&&(!hn||kr<hn)&&(Jt._spread=!0),Jt.end=Object.assign({},hn?$[hn][1].start:Ft[1].end),$.splice(hn||ge,0,["exit",Jt,Ft[2]]),ge++,ue++}if(Ft[1].type==="listItemPrefix"){const Rr={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};Jt=Rr,$.splice(ge,0,["enter",Rr,Ft[2]]),ge++,ue++,kr=void 0,sr=!0}}}return $[Q][1]._spread=Xt,ue}function s($,Q){return ue;function ue(ge){a.call(this,$(ge),ge),Q&&Q.call(this,ge)}}function o(){this.stack.push({type:"fragment",children:[]})}function a($,Q,ue){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([Q,ue]),$.position={start:Or(Q.start),end:void 0}}function u($){return Q;function Q(ue){$&&$.call(this,ue),c.call(this,ue)}}function c($,Q){const ue=this.stack.pop(),ge=this.tokenStack.pop();if(ge)ge[0].type!==$.type&&(Q?Q.call(this,$,ge[0]):(ge[1]||LE).call(this,$,ge[0]));else throw new Error("Cannot close `"+$.type+"` ("+ka({start:$.start,end:$.end})+"): its not open");ue.position.end=Or($.end)}function d(){return Wm(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m($){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];Q.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function g(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.lang=$}function _(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.meta=$}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.value=$.replace(/(\r?\n|\r)$/g,"")}function I($){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Q,ue.identifier=On(this.sliceSerialize($)).toLowerCase()}function w(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.title=$}function B(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.url=$}function W($){const Q=this.stack[this.stack.length-1];if(!Q.depth){const ue=this.sliceSerialize($).length;Q.depth=ue}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function R($){const Q=this.stack[this.stack.length-1];Q.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function N($){const ue=this.stack[this.stack.length-1].children;let ge=ue[ue.length-1];(!ge||ge.type!=="text")&&(ge=Do(),ge.position={start:Or($.start),end:void 0},ue.push(ge)),this.stack.push(ge)}function T($){const Q=this.stack.pop();Q.value+=this.sliceSerialize($),Q.position.end=Or($.end)}function O($){const Q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=Q.children[Q.children.length-1];ue.position.end=Or($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Q.type)&&(N.call(this,$),T.call(this,$))}function F(){this.data.atHardBreak=!0}function x(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.value=$}function ye(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.value=$}function pe(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.value=$}function Ge(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=Q,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function xe(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=Q,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function Z($){const Q=this.sliceSerialize($),ue=this.stack[this.stack.length-2];ue.label=F3(Q),ue.identifier=On(Q).toLowerCase()}function ie(){const $=this.stack[this.stack.length-1],Q=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const ge=$.children;ue.children=ge}else ue.alt=Q}function L(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.url=$}function Ae(){const $=this.resume(),Q=this.stack[this.stack.length-1];Q.title=$}function Ee(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Xe($){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Q,ue.identifier=On(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function pt($){this.data.characterReferenceType=$.type}function Pe($){const Q=this.sliceSerialize($),ue=this.data.characterReferenceType;let ge;ue?(ge=xv(Q,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ge=qm(Q);const Re=this.stack[this.stack.length-1];Re.value+=ge}function Mt($){const Q=this.stack.pop();Q.position.end=Or($.end)}function Bn($){T.call(this,$);const Q=this.stack[this.stack.length-1];Q.url=this.sliceSerialize($)}function Sr($){T.call(this,$);const Q=this.stack[this.stack.length-1];Q.url="mailto:"+this.sliceSerialize($)}function bn(){return{type:"blockquote",children:[]}}function ir(){return{type:"code",lang:null,meta:null,value:""}}function Ro(){return{type:"inlineCode",value:""}}function No(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xo(){return{type:"emphasis",children:[]}}function hs(){return{type:"heading",depth:0,children:[]}}function Po(){return{type:"break"}}function ju(){return{type:"html",value:""}}function Kh(){return{type:"image",title:null,url:"",alt:null}}function Lo(){return{type:"link",title:null,url:"",children:[]}}function ds($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function zu($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function Qh(){return{type:"paragraph",children:[]}}function Oo(){return{type:"strong",children:[]}}function Do(){return{type:"text",value:""}}function $u(){return{type:"thematicBreak"}}}function Or(t){return{line:t.line,column:t.column,offset:t.offset}}function jv(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?jv(t,r):H3(t,r)}}function H3(t,e){let n;for(n in e)if(Hv.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function LE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ka({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ka({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ka({start:e.start,end:e.end})+") is still open")}function j3(t){const e=this;e.parser=n;function n(r){return B3(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function z3(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function $3(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function W3(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function q3(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y3(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function G3(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=yo(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,c),t.applyData(e,c)}function K3(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q3(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function zv(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function X3(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return zv(t,e);const i={src:yo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function J3(t,e){const n={src:yo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Z3(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function eP(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return zv(t,e);const i={href:yo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function tP(t,e){const n={href:yo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function nP(t,e,n){const r=t.all(e),i=n?rP(n):$v(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function rP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=$v(n[r])}return e}function $v(t){const e=t.spread;return e??t.children.length>1}function iP(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function sP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function aP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uP(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=tr(e.children[1]),u=Ih(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function lP(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let u=-1;const c=[];for(;++u<a;){const f=e.children[u],m={},g=o?o[u]:void 0;g&&(m.align=g);let _={type:"element",tagName:s,properties:m,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),c.push(_)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function cP(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const OE=9,DE=32;function hP(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(ME(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(ME(e.slice(i),i>0,!1)),s.join("")}function ME(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===OE||s===DE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===OE||s===DE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function dP(t,e){const n={type:"text",value:hP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function fP(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const pP={blockquote:z3,break:$3,code:W3,delete:q3,emphasis:Y3,footnoteReference:G3,heading:K3,html:Q3,imageReference:X3,image:J3,inlineCode:Z3,linkReference:eP,link:tP,listItem:nP,list:iP,paragraph:sP,root:oP,strong:aP,table:uP,tableCell:cP,tableRow:lP,text:dP,thematicBreak:fP,toml:vl,yaml:vl,definition:vl,footnoteDefinition:vl};function vl(){}const Wv=-1,bh=0,Oc=1,Dc=2,Gm=3,Km=4,Qm=5,Xm=6,qv=7,Yv=8,FE=typeof self=="object"?self:globalThis,mP=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case bh:case Wv:return n(o,i);case Oc:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Dc:{const a=n({},i);for(const[u,c]of o)a[r(u)]=r(c);return a}case Gm:return n(new Date(o),i);case Km:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case Qm:{const a=n(new Map,i);for(const[u,c]of o)a.set(r(u),r(c));return a}case Xm:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case qv:{const{name:a,message:u}=o;return n(new FE[a](u),i)}case Yv:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new FE[s](o),i)};return r},UE=t=>mP(new Map,t)(0),_s="",{toString:gP}={},{keys:EP}=Object,sa=t=>{const e=typeof t;if(e!=="object"||!t)return[bh,e];const n=gP.call(t).slice(8,-1);switch(n){case"Array":return[Oc,_s];case"Object":return[Dc,_s];case"Date":return[Gm,_s];case"RegExp":return[Km,_s];case"Map":return[Qm,_s];case"Set":return[Xm,_s]}return n.includes("Array")?[Oc,n]:n.includes("Error")?[qv,n]:[Dc,n]},Al=([t,e])=>t===bh&&(e==="function"||e==="symbol"),_P=(t,e,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=sa(o);switch(a){case bh:{let d=o;switch(u){case"bigint":a=Yv,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([Wv],o)}return i([a,d],o)}case Oc:{if(u)return i([u,[...o]],o);const d=[],f=i([a,d],o);for(const m of o)d.push(s(m));return f}case Dc:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const m of EP(o))(t||!Al(sa(o[m])))&&d.push([s(m),s(o[m])]);return f}case Gm:return i([a,o.toISOString()],o);case Km:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case Qm:{const d=[],f=i([a,d],o);for(const[m,g]of o)(t||!(Al(sa(m))||Al(sa(g))))&&d.push([s(m),s(g)]);return f}case Xm:{const d=[],f=i([a,d],o);for(const m of o)(t||!Al(sa(m)))&&d.push(s(m));return f}}const{message:c}=o;return i([a,{name:u,message:c}],o)};return s},BE=(t,{json:e,lossy:n}={})=>{const r=[];return _P(!(e||n),!!e,new Map,r)(t),r},to=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?UE(BE(t,e)):structuredClone(t):(t,e)=>UE(BE(t,e));function TP(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function yP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function IP(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||TP,r=t.options.footnoteBackLabel||yP,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[u]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),m=yo(f.toLowerCase());let g=0;const _=[],k=t.footnoteCounts.get(f);for(;k!==void 0&&++g<=k;){_.length>0&&_.push({type:"text",value:" "});let I=typeof n=="string"?n:n(u,g);typeof I=="string"&&(I={type:"text",value:I}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,g),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const P=d[d.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const I=P.children[P.children.length-1];I&&I.type==="text"?I.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(..._)}else d.push(..._);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(c,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...to(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Ch=function(t){if(t==null)return CP;if(typeof t=="function")return wh(t);if(typeof t=="object")return Array.isArray(t)?vP(t):AP(t);if(typeof t=="string")return bP(t);throw new Error("Expected function, string, or object as test")};function vP(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ch(t[n]);return wh(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function AP(t){const e=t;return wh(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function bP(t){return wh(e);function e(n){return n&&n.type===t}}function wh(t){return e;function e(n,r,i){return!!(wP(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function CP(){return!0}function wP(t){return t!==null&&typeof t=="object"&&"type"in t}const Gv=[],SP=!0,mp=!1,kP="skip";function Kv(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Ch(i),o=r?-1:1;a(t,void 0,[])();function a(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=Gv,_,k,P;if((!e||s(u,c,d[d.length-1]||void 0))&&(g=RP(n(u,d)),g[0]===mp))return g;if("children"in u&&u.children){const y=u;if(y.children&&g[0]!==kP)for(k=(r?y.children.length:-1)+o,P=d.concat(y);k>-1&&k<y.children.length;){const I=y.children[k];if(_=a(I,k,P)(),_[0]===mp)return _;k=typeof _[1]=="number"?_[1]:k+o}}return g}}}function RP(t){return Array.isArray(t)?t:typeof t=="number"?[SP,t]:t==null?Gv:[t]}function Sh(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),Kv(t,s,a,i);function a(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}}const gp={}.hasOwnProperty,NP={};function xP(t,e){const n=e||NP,r=new Map,i=new Map,s=new Map,o={...pP,...n.handlers},a={all:c,applyData:LP,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:PP,wrap:DP};return Sh(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),a;function u(d,f){const m=d.type,g=a.handlers[m];if(gp.call(a.handlers,m)&&g)return g(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(m)){if("children"in d){const{children:k,...P}=d,y=to(P);return y.children=a.all(d),y}return to(d)}return(a.options.unknownHandler||OP)(a,d,f)}function c(d){const f=[];if("children"in d){const m=d.children;let g=-1;for(;++g<m.length;){const _=a.one(m[g],d);if(_){if(g&&m[g-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=VE(_.value)),!Array.isArray(_)&&_.type==="element")){const k=_.children[0];k&&k.type==="text"&&(k.value=VE(k.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function PP(t,e){t.position&&(e.position=_N(t))}function LP(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,to(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function OP(t,e){const n=e.data||{},r="value"in e&&!(gp.call(n,"hProperties")||gp.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function DP(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function VE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function HE(t,e){const n=xP(t,e),r=n.one(t,void 0),i=IP(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function MP(t,e){return t&&"run"in t?async function(n,r){const i=HE(n,{file:r,...e});await t.run(i,r)}:function(n,r){return HE(n,{file:r,...e||t})}}function jE(t){if(t)throw t}var ql=Object.prototype.hasOwnProperty,Qv=Object.prototype.toString,zE=Object.defineProperty,$E=Object.getOwnPropertyDescriptor,WE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Qv.call(e)==="[object Array]"},qE=function(e){if(!e||Qv.call(e)!=="[object Object]")return!1;var n=ql.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ql.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||ql.call(e,i)},YE=function(e,n){zE&&n.name==="__proto__"?zE(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},GE=function(e,n){if(n==="__proto__")if(ql.call(e,n)){if($E)return $E(e,n).value}else return;return e[n]},FP=function t(){var e,n,r,i,s,o,a=arguments[0],u=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(n in e)r=GE(a,n),i=GE(e,n),a!==i&&(d&&i&&(qE(i)||(s=WE(i)))?(s?(s=!1,o=r&&WE(r)?r:[]):o=r&&qE(r)?r:{},YE(a,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&YE(a,{name:n,newValue:i}));return a};const jd=BT(FP);function Ep(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UP(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...c){const d=t[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?BP(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function BP(t,e){let n;return r;function r(...o){const a=t.length>o.length;let u;a&&o.push(i);try{u=t.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const jn={basename:VP,dirname:HP,extname:jP,join:zP,sep:"/"};function VP(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ku(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function HP(t){if(ku(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function jP(t){ku(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function zP(...t){let e=-1,n;for(;++e<t.length;)ku(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$P(n)}function $P(t){ku(t);const e=t.codePointAt(0)===47;let n=WP(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function WP(t,e){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ku(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qP={cwd:YP};function YP(){return"/"}function _p(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function GP(t){if(typeof t=="string")t=new URL(t);else if(!_p(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return KP(t)}function KP(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const zd=["history","path","basename","stem","extname","dirname"];class Xv{constructor(e){let n;e?_p(e)?n={path:e}:typeof e=="string"||QP(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zd.length;){const s=zd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)zd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?jn.basename(this.path):void 0}set basename(e){Wd(e,"basename"),$d(e,"basename"),this.path=jn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?jn.dirname(this.path):void 0}set dirname(e){KE(this.basename,"dirname"),this.path=jn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?jn.extname(this.path):void 0}set extname(e){if($d(e,"extname"),KE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_p(e)&&(e=GP(e)),Wd(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?jn.basename(this.path,this.extname):void 0}set stem(e){Wd(e,"stem"),$d(e,"stem"),this.path=jn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ot(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function $d(t,e){if(t&&t.includes(jn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+jn.sep+"`")}function Wd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function KE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function QP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const XP=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},JP={}.hasOwnProperty;class Jm extends XP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UP()}copy(){const e=new Jm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(jd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Gd("data",this.frozen),this.namespace[e]=n,this):JP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Gd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=bl(e),r=this.parser||this.Parser;return qd("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),qd("process",this.parser||this.Parser),Yd("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=bl(e),u=r.parse(a);r.run(u,a,function(d,f,m){if(d||!f||!m)return c(d);const g=f,_=r.stringify(g,m);t4(_)?m.value=_:m.result=_,c(d,m)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),qd("processSync",this.parser||this.Parser),Yd("processSync",this.compiler||this.Compiler),this.process(e,i),XE("processSync","process",n),r;function i(s,o){n=!0,jE(s),r=o}}run(e,n,r){QE(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const u=bl(n);i.run(e,u,c);function c(d,f,m){const g=f||e;d?a(d):o?o(g):r(void 0,g,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),XE("runSync","run",r),i;function s(o,a){jE(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=bl(n),i=this.compiler||this.Compiler;return Yd("stringify",i),QE(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Gd("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=jd(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[g,..._]=d;const k=r[m][1];Ep(k)&&Ep(g)&&(g=jd(!0,k,g)),r[m]=[c,g,..._]}}}}const ZP=new Jm().freeze();function qd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Yd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Gd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QE(t){if(!Ep(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function XE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function bl(t){return e4(t)?t:new Xv(t)}function e4(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function t4(t){return typeof t=="string"||n4(t)}function n4(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const r4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",JE=[],ZE={allowDangerousHtml:!0},i4=/^(https?|ircs?|mailto|xmpp)$/i,s4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Jv(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||JE,u=t.remarkPlugins||JE,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ZE}:ZE,d=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||o4,g=ZP().use(j3).use(u).use(MP,c).use(a),_=new Xv;typeof r=="string"&&(_.value=r);for(const I of s4)Object.hasOwn(t,I.from)&&(""+I.from+(I.to?"use `"+I.to+"` instead":"remove it")+r4+I.id,void 0);const k=g.parse(_);let P=g.runSync(k,_);return i&&(P={type:"element",tagName:"div",properties:{className:i},children:P.type==="root"?P.children:[P]}),Sh(P,y),bN(P,{Fragment:v.Fragment,components:s,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function y(I,w,B){if(I.type==="raw"&&B&&typeof w=="number")return d?B.children.splice(w,1):B.children[w]={type:"text",value:I.value},w;if(I.type==="element"){let W;for(W in Bd)if(Object.hasOwn(Bd,W)&&Object.hasOwn(I.properties,W)){const U=I.properties[W],R=Bd[W];(R===null||R.includes(I.tagName))&&(I.properties[W]=m(String(U||""),W,I))}}if(I.type==="element"){let W=e?!e.includes(I.tagName):o?o.includes(I.tagName):!1;if(!W&&n&&typeof w=="number"&&(W=!n(I,w,B)),W&&B&&typeof w=="number")return f&&I.children?B.children.splice(w,1,...I.children):B.children.splice(w,1),w}}}function o4(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||i4.test(t.slice(0,e))?t:""}const e_=/[#.]/g;function a4(t,e){const n=t||"",r={};let i=0,s,o;for(;i<n.length;){e_.lastIndex=i;const a=e_.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||e||"div",properties:r,children:[]}}const u4=new Set(["button","menu","reset","submit"]),Tp={}.hasOwnProperty;function Zv(t,e,n){const r=n&&d4(n);function i(s,o,...a){let u=-1,c;if(s==null){c={type:"root",children:[]};const d=o;a.unshift(d)}else if(c=a4(s,e),c.tagName=c.tagName.toLowerCase(),r&&Tp.call(r,c.tagName)&&(c.tagName=r[c.tagName]),l4(o,c.tagName)){let d;for(d in o)Tp.call(o,d)&&c4(t,c.properties,d,o[d])}else a.unshift(o);for(;++u<a.length;)yp(c.children,a[u]);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function l4(t,e){return t==null||typeof t!="object"||Array.isArray(t)?!1:e==="input"||!t.type||typeof t.type!="string"?!0:"children"in t&&Array.isArray(t.children)?!1:e==="button"?u4.has(t.type.toLowerCase()):!("value"in t)}function c4(t,e,n,r){const i=yh(t,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=mE(r):i.commaSeparated?o=cE(r):i.commaOrSpaceSeparated?o=mE(cE(r).join(" ")):o=t_(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?h4(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=t_(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(e.className)){const a=o;o=e.className.concat(a)}e[i.property]=o}}function yp(t,e){let n=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++n<e.length;)yp(t,e[n]);else if(typeof e=="object"&&"type"in e)e.type==="root"?yp(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function t_(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||ou(n)===ou(e)))return!0}return n}function h4(t){const e=[];let n;for(n in t)Tp.call(t,n)&&e.push([n,t[n]].join(": "));return e.join("; ")}function d4(t){const e={};let n=-1;for(;++n<t.length;)e[t[n].toLowerCase()]=t[n];return e}const f4=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],p4=Zv(wu,"div"),m4=Zv(Ii,"g",f4);function g4(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=e.length){let o=0;for(;;){let a=n[o];if(a===void 0){const u=n_(e,n[o-1]);a=u===-1?e.length+1:u+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],u=n_(e,a),c=u===-1?e.length+1:u+1;if(a===c)break;n.push(c)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function n_(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Fi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},eA={}.hasOwnProperty,E4=Object.prototype;function _4(t,e){const n=e||{};return Zm({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ii:wu,verbose:n.verbose||!1},t)}function Zm(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Yl(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:tA(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const s=String(t.file),o=g4(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Yl(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Yl(t,r,n),n}default:return n=T4(t,e),n}}function tA(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=Zm(t,e[n]);r.push(i)}return r}function T4(t,e){const n=t.schema;t.schema=e.namespaceURI===Fi.svg?Ii:wu;let r=-1;const i={};for(;++r<e.attrs.length;){const a=e.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;eA.call(E4,u)||(i[u]=a.value)}const o=(t.schema.space==="svg"?m4:p4)(e.tagName,i,tA(t,e.childNodes));if(Yl(t,e,o),o.tagName==="template"){const a=e,u=a.sourceCodeLocation,c=u&&u.startTag&&Ms(u.startTag),d=u&&u.endTag&&Ms(u.endTag),f=Zm(t,a.content);c&&d&&t.file&&(f.position={start:c.end,end:d.start}),o.content=f}return t.schema=n,o}function Yl(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=y4(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function y4(t,e,n){const r=Ms(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)eA.call(n.attrs,o)&&(s[yh(t.schema,o).property]=Ms(n.attrs[o]));n.startTag;const a=Ms(n.startTag),u=n.endTag?Ms(n.endTag):void 0,c={opening:a};u&&(c.closing=u),c.properties=s,e.data={position:c}}}return r}function Ms(t){const e=r_({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=r_({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function r_(t){return t.line&&t.column?t:void 0}const i_={}.hasOwnProperty;function nA(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&i_.call(i,t)){const u=String(i[t]);o=i_.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const I4={},v4={}.hasOwnProperty,rA=nA("type",{handlers:{root:b4,element:R4,text:S4,comment:k4,doctype:w4}});function A4(t,e){const r=(e||I4).space;return rA(t,r==="svg"?Ii:wu)}function b4(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=e0(t.children,n,e),Io(t,n),n}function C4(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=e0(t.children,n,e),Io(t,n),n}function w4(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Io(t,e),e}function S4(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Io(t,e),e}function k4(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Io(t,e),e}function R4(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ii);const i=[];let s;if(t.properties){for(s in t.properties)if(s!=="children"&&v4.call(t.properties,s)){const u=N4(r,s,t.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:Fi[o],childNodes:[],parentNode:null};return a.childNodes=e0(t.children,a,r),Io(t,a),t.tagName==="template"&&t.content&&(a.content=C4(t.content,r)),a}function N4(t,e,n){const r=yh(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?fv(n):vv(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Fi[r.space]}return i}function e0(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const s=rA(t[r],n);s.parentNode=e,i.push(s)}return i}function Io(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const x4=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],P4=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),He="";var A;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.NUMBER_SIGN=35]="NUMBER_SIGN",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",t[t.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_F=102]="LATIN_SMALL_F",t[t.LATIN_SMALL_X=120]="LATIN_SMALL_X",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",t[t.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(A=A||(A={}));const $t={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function iA(t){return t>=55296&&t<=57343}function L4(t){return t>=56320&&t<=57343}function O4(t,e){return(t-55296)*1024+9216+e}function sA(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function oA(t){return t>=64976&&t<=65007||P4.has(t)}var j;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(j=j||(j={}));const D4=65536;class M4{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=D4,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:n,col:r,offset:i}=this;return{code:e,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(L4(n))return this.pos++,this._addGap(),O4(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(j.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(n);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let e=this.html.charCodeAt(this.pos);return e===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):e===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,iA(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===A.LINE_FEED||e===A.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){sA(e)?this._err(j.controlCharacterInInputStream):oA(e)&&this._err(j.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var me;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(me=me||(me={}));function aA(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const Fr=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),F4=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Kd;const U4=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),B4=(Kd=String.fromCodePoint)!==null&&Kd!==void 0?Kd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function V4(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=U4.get(t))!==null&&e!==void 0?e:t}var dt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(dt||(dt={}));const H4=32;var $n;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})($n||($n={}));function Ip(t){return t>=dt.ZERO&&t<=dt.NINE}function j4(t){return t>=dt.UPPER_A&&t<=dt.UPPER_F||t>=dt.LOWER_A&&t<=dt.LOWER_F}function z4(t){return t>=dt.UPPER_A&&t<=dt.UPPER_Z||t>=dt.LOWER_A&&t<=dt.LOWER_Z||Ip(t)}function $4(t){return t===dt.EQUALS||z4(t)}var lt;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(lt||(lt={}));var Li;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Li||(Li={}));class W4{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=lt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Li.Strict}startEntity(e){this.decodeMode=e,this.state=lt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case lt.EntityStart:return e.charCodeAt(n)===dt.NUM?(this.state=lt.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=lt.NamedEntity,this.stateNamedEntity(e,n));case lt.NumericStart:return this.stateNumericStart(e,n);case lt.NumericDecimal:return this.stateNumericDecimal(e,n);case lt.NumericHex:return this.stateNumericHex(e,n);case lt.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|H4)===dt.LOWER_X?(this.state=lt.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=lt.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ip(i)||j4(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ip(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===dt.SEMI)this.consumed+=1;else if(this.decodeMode===Li.Strict)return 0;return this.emitCodePoint(V4(this.result),this.consumed),this.errors&&(e!==dt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&$n.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=lA(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Li.Attribute&&(s===0||$4(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&$n.VALUE_LENGTH)>>14,s!==0){if(o===dt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Li.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&$n.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~$n.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case lt.NamedEntity:return this.result!==0&&(this.decodeMode!==Li.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case lt.NumericDecimal:return this.emitNumericEntity(0,2);case lt.NumericHex:return this.emitNumericEntity(0,3);case lt.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case lt.EntityStart:return 0}}}function uA(t){let e="";const n=new W4(t,r=>e+=B4(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(o,a),n.startEntity(s);const c=n.write(i,a+1);if(c<0){o=a+n.end();break}o=a+c,a=c===0?o+1:o}const u=e+i.slice(o);return e="",u}}function lA(t,e,n,r){const i=(e&$n.BRANCH_LENGTH)>>7,s=e&$n.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,c=t[u];if(c<r)o=u+1;else if(c>r)a=u-1;else return t[u+i]}return-1}uA(Fr);uA(F4);var q;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(q=q||(q={}));var oi;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(oi=oi||(oi={}));var rn;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(rn=rn||(rn={}));var H;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(H=H||(H={}));var h;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SECTION=94]="SECTION",t[t.SELECT=95]="SELECT",t[t.SOURCE=96]="SOURCE",t[t.SMALL=97]="SMALL",t[t.SPAN=98]="SPAN",t[t.STRIKE=99]="STRIKE",t[t.STRONG=100]="STRONG",t[t.STYLE=101]="STYLE",t[t.SUB=102]="SUB",t[t.SUMMARY=103]="SUMMARY",t[t.SUP=104]="SUP",t[t.TABLE=105]="TABLE",t[t.TBODY=106]="TBODY",t[t.TEMPLATE=107]="TEMPLATE",t[t.TEXTAREA=108]="TEXTAREA",t[t.TFOOT=109]="TFOOT",t[t.TD=110]="TD",t[t.TH=111]="TH",t[t.THEAD=112]="THEAD",t[t.TITLE=113]="TITLE",t[t.TR=114]="TR",t[t.TRACK=115]="TRACK",t[t.TT=116]="TT",t[t.U=117]="U",t[t.UL=118]="UL",t[t.SVG=119]="SVG",t[t.VAR=120]="VAR",t[t.WBR=121]="WBR",t[t.XMP=122]="XMP"})(h=h||(h={}));const q4=new Map([[H.A,h.A],[H.ADDRESS,h.ADDRESS],[H.ANNOTATION_XML,h.ANNOTATION_XML],[H.APPLET,h.APPLET],[H.AREA,h.AREA],[H.ARTICLE,h.ARTICLE],[H.ASIDE,h.ASIDE],[H.B,h.B],[H.BASE,h.BASE],[H.BASEFONT,h.BASEFONT],[H.BGSOUND,h.BGSOUND],[H.BIG,h.BIG],[H.BLOCKQUOTE,h.BLOCKQUOTE],[H.BODY,h.BODY],[H.BR,h.BR],[H.BUTTON,h.BUTTON],[H.CAPTION,h.CAPTION],[H.CENTER,h.CENTER],[H.CODE,h.CODE],[H.COL,h.COL],[H.COLGROUP,h.COLGROUP],[H.DD,h.DD],[H.DESC,h.DESC],[H.DETAILS,h.DETAILS],[H.DIALOG,h.DIALOG],[H.DIR,h.DIR],[H.DIV,h.DIV],[H.DL,h.DL],[H.DT,h.DT],[H.EM,h.EM],[H.EMBED,h.EMBED],[H.FIELDSET,h.FIELDSET],[H.FIGCAPTION,h.FIGCAPTION],[H.FIGURE,h.FIGURE],[H.FONT,h.FONT],[H.FOOTER,h.FOOTER],[H.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[H.FORM,h.FORM],[H.FRAME,h.FRAME],[H.FRAMESET,h.FRAMESET],[H.H1,h.H1],[H.H2,h.H2],[H.H3,h.H3],[H.H4,h.H4],[H.H5,h.H5],[H.H6,h.H6],[H.HEAD,h.HEAD],[H.HEADER,h.HEADER],[H.HGROUP,h.HGROUP],[H.HR,h.HR],[H.HTML,h.HTML],[H.I,h.I],[H.IMG,h.IMG],[H.IMAGE,h.IMAGE],[H.INPUT,h.INPUT],[H.IFRAME,h.IFRAME],[H.KEYGEN,h.KEYGEN],[H.LABEL,h.LABEL],[H.LI,h.LI],[H.LINK,h.LINK],[H.LISTING,h.LISTING],[H.MAIN,h.MAIN],[H.MALIGNMARK,h.MALIGNMARK],[H.MARQUEE,h.MARQUEE],[H.MATH,h.MATH],[H.MENU,h.MENU],[H.META,h.META],[H.MGLYPH,h.MGLYPH],[H.MI,h.MI],[H.MO,h.MO],[H.MN,h.MN],[H.MS,h.MS],[H.MTEXT,h.MTEXT],[H.NAV,h.NAV],[H.NOBR,h.NOBR],[H.NOFRAMES,h.NOFRAMES],[H.NOEMBED,h.NOEMBED],[H.NOSCRIPT,h.NOSCRIPT],[H.OBJECT,h.OBJECT],[H.OL,h.OL],[H.OPTGROUP,h.OPTGROUP],[H.OPTION,h.OPTION],[H.P,h.P],[H.PARAM,h.PARAM],[H.PLAINTEXT,h.PLAINTEXT],[H.PRE,h.PRE],[H.RB,h.RB],[H.RP,h.RP],[H.RT,h.RT],[H.RTC,h.RTC],[H.RUBY,h.RUBY],[H.S,h.S],[H.SCRIPT,h.SCRIPT],[H.SECTION,h.SECTION],[H.SELECT,h.SELECT],[H.SOURCE,h.SOURCE],[H.SMALL,h.SMALL],[H.SPAN,h.SPAN],[H.STRIKE,h.STRIKE],[H.STRONG,h.STRONG],[H.STYLE,h.STYLE],[H.SUB,h.SUB],[H.SUMMARY,h.SUMMARY],[H.SUP,h.SUP],[H.TABLE,h.TABLE],[H.TBODY,h.TBODY],[H.TEMPLATE,h.TEMPLATE],[H.TEXTAREA,h.TEXTAREA],[H.TFOOT,h.TFOOT],[H.TD,h.TD],[H.TH,h.TH],[H.THEAD,h.THEAD],[H.TITLE,h.TITLE],[H.TR,h.TR],[H.TRACK,h.TRACK],[H.TT,h.TT],[H.U,h.U],[H.UL,h.UL],[H.SVG,h.SVG],[H.VAR,h.VAR],[H.WBR,h.WBR],[H.XMP,h.XMP]]);function vo(t){var e;return(e=q4.get(t))!==null&&e!==void 0?e:h.UNKNOWN}const G=h,Y4={[q.HTML]:new Set([G.ADDRESS,G.APPLET,G.AREA,G.ARTICLE,G.ASIDE,G.BASE,G.BASEFONT,G.BGSOUND,G.BLOCKQUOTE,G.BODY,G.BR,G.BUTTON,G.CAPTION,G.CENTER,G.COL,G.COLGROUP,G.DD,G.DETAILS,G.DIR,G.DIV,G.DL,G.DT,G.EMBED,G.FIELDSET,G.FIGCAPTION,G.FIGURE,G.FOOTER,G.FORM,G.FRAME,G.FRAMESET,G.H1,G.H2,G.H3,G.H4,G.H5,G.H6,G.HEAD,G.HEADER,G.HGROUP,G.HR,G.HTML,G.IFRAME,G.IMG,G.INPUT,G.LI,G.LINK,G.LISTING,G.MAIN,G.MARQUEE,G.MENU,G.META,G.NAV,G.NOEMBED,G.NOFRAMES,G.NOSCRIPT,G.OBJECT,G.OL,G.P,G.PARAM,G.PLAINTEXT,G.PRE,G.SCRIPT,G.SECTION,G.SELECT,G.SOURCE,G.STYLE,G.SUMMARY,G.TABLE,G.TBODY,G.TD,G.TEMPLATE,G.TEXTAREA,G.TFOOT,G.TH,G.THEAD,G.TITLE,G.TR,G.TRACK,G.UL,G.WBR,G.XMP]),[q.MATHML]:new Set([G.MI,G.MO,G.MN,G.MS,G.MTEXT,G.ANNOTATION_XML]),[q.SVG]:new Set([G.TITLE,G.FOREIGN_OBJECT,G.DESC]),[q.XLINK]:new Set,[q.XML]:new Set,[q.XMLNS]:new Set};function cA(t){return t===G.H1||t===G.H2||t===G.H3||t===G.H4||t===G.H5||t===G.H6}H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;const G4=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var S;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",t[t.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",t[t.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",t[t.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",t[t.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",t[t.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(S||(S={}));const et={DATA:S.DATA,RCDATA:S.RCDATA,RAWTEXT:S.RAWTEXT,SCRIPT_DATA:S.SCRIPT_DATA,PLAINTEXT:S.PLAINTEXT,CDATA_SECTION:S.CDATA_SECTION};function Na(t){return t>=A.DIGIT_0&&t<=A.DIGIT_9}function pa(t){return t>=A.LATIN_CAPITAL_A&&t<=A.LATIN_CAPITAL_Z}function K4(t){return t>=A.LATIN_SMALL_A&&t<=A.LATIN_SMALL_Z}function Ur(t){return K4(t)||pa(t)}function vp(t){return Ur(t)||Na(t)}function hA(t){return t>=A.LATIN_CAPITAL_A&&t<=A.LATIN_CAPITAL_F}function dA(t){return t>=A.LATIN_SMALL_A&&t<=A.LATIN_SMALL_F}function Q4(t){return Na(t)||hA(t)||dA(t)}function Cl(t){return t+32}function fA(t){return t===A.SPACE||t===A.LINE_FEED||t===A.TABULATION||t===A.FORM_FEED}function X4(t){return t===A.EQUALS_SIGN||vp(t)}function s_(t){return fA(t)||t===A.SOLIDUS||t===A.GREATER_THAN_SIGN}class J4{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=S.DATA,this.returnState=S.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new M4(n),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,n){this.state=e,this._callState(n)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:me.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:me.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:me.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:me.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(aA(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(j.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=vo(e.tagName),e.type===me.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(j.endTagWithAttributes),e.selfClosing&&this._err(j.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case me.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case me.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case me.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:me.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==e)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(e,n)}_emitCodePoint(e){const n=fA(e)?me.WHITESPACE_CHARACTER:e===A.NULL?me.NULL_CHARACTER:me.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(me.CHARACTER,e)}_matchNamedCharacterReference(e){let n=null,r=0,i=!1;for(let s=0,o=Fr[0];s>=0&&(s=lA(Fr,o,s+1,e),!(s<0));e=this._consume()){r+=1,o=Fr[s];const a=o&$n.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(e!==A.SEMICOLON&&this._isCharacterReferenceInAttribute()&&X4(this.preprocessor.peek(1))?(n=[A.AMPERSAND],s+=u):(n=u===0?[Fr[s]&~$n.VALUE_LENGTH]:u===1?[Fr[++s]]:[Fr[++s],Fr[++s]],r=0,i=e!==A.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(j.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===S.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===S.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===S.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case S.DATA:{this._stateData(e);break}case S.RCDATA:{this._stateRcdata(e);break}case S.RAWTEXT:{this._stateRawtext(e);break}case S.SCRIPT_DATA:{this._stateScriptData(e);break}case S.PLAINTEXT:{this._statePlaintext(e);break}case S.TAG_OPEN:{this._stateTagOpen(e);break}case S.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case S.TAG_NAME:{this._stateTagName(e);break}case S.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case S.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case S.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case S.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case S.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case S.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case S.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case S.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case S.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case S.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case S.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case S.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case S.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case S.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case S.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case S.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case S.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case S.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case S.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case S.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case S.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case S.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case S.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case S.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case S.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case S.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case S.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case S.BOGUS_COMMENT:{this._stateBogusComment(e);break}case S.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case S.COMMENT_START:{this._stateCommentStart(e);break}case S.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case S.COMMENT:{this._stateComment(e);break}case S.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case S.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case S.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case S.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case S.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case S.COMMENT_END:{this._stateCommentEnd(e);break}case S.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case S.DOCTYPE:{this._stateDoctype(e);break}case S.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case S.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case S.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case S.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case S.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case S.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case S.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case S.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case S.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case S.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case S.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case S.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case S.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case S.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case S.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case S.CDATA_SECTION:{this._stateCdataSection(e);break}case S.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case S.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case S.CHARACTER_REFERENCE:{this._stateCharacterReference(e);break}case S.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(e);break}case S.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}case S.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(e);break}case S.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(e);break}case S.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(e);break}case S.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(e);break}case S.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case A.LESS_THAN_SIGN:{this.state=S.TAG_OPEN;break}case A.AMPERSAND:{this.returnState=S.DATA,this.state=S.CHARACTER_REFERENCE;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitCodePoint(e);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case A.AMPERSAND:{this.returnState=S.RCDATA,this.state=S.CHARACTER_REFERENCE;break}case A.LESS_THAN_SIGN:{this.state=S.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case A.LESS_THAN_SIGN:{this.state=S.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ur(e))this._createStartTagToken(),this.state=S.TAG_NAME,this._stateTagName(e);else switch(e){case A.EXCLAMATION_MARK:{this.state=S.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=S.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(j.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=S.BOGUS_COMMENT,this._stateBogusComment(e);break}case A.EOF:{this._err(j.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(j.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=S.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ur(e))this._createEndTagToken(),this.state=S.TAG_NAME,this._stateTagName(e);else switch(e){case A.GREATER_THAN_SIGN:{this._err(j.missingEndTagName),this.state=S.DATA;break}case A.EOF:{this._err(j.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(j.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=S.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=S.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.tagName+=He;break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(pa(e)?Cl(e):e)}}_stateRcdataLessThanSign(e){e===A.SOLIDUS?this.state=S.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=S.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ur(e)?(this.state=S.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=S.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=S.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=S.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=S.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=S.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===A.SOLIDUS?this.state=S.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=S.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ur(e)?(this.state=S.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=S.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=S.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case A.SOLIDUS:{this.state=S.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=S.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=S.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ur(e)?(this.state=S.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=S.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=S.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===A.HYPHEN_MINUS?(this.state=S.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=S.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===A.HYPHEN_MINUS?(this.state=S.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=S.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case A.HYPHEN_MINUS:{this.state=S.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case A.HYPHEN_MINUS:{this.state=S.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.state=S.SCRIPT_DATA_ESCAPED,this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=S.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=S.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.state=S.SCRIPT_DATA_ESCAPED,this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=S.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===A.SOLIDUS?this.state=S.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ur(e)?(this._emitChars("<"),this.state=S.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=S.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ur(e)?(this.state=S.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=S.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=S.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith($t.SCRIPT,!1)&&s_(this.preprocessor.peek($t.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<$t.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=S.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case A.HYPHEN_MINUS:{this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(j.unexpectedNullCharacter),this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case A.HYPHEN_MINUS:{this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=S.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(He);break}case A.EOF:{this._err(j.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===A.SOLIDUS?(this.state=S.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith($t.SCRIPT,!1)&&s_(this.preprocessor.peek($t.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<$t.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=S.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=S.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=S.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case A.EQUALS_SIGN:{this._err(j.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=S.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=S.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=S.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=S.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(j.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.name+=He;break}default:this.currentAttr.name+=String.fromCodePoint(pa(e)?Cl(e):e)}}_stateAfterAttributeName(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=S.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=S.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=S.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=S.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=S.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(j.missingAttributeValue),this.state=S.DATA,this.emitCurrentTagToken();break}default:this.state=S.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case A.QUOTATION_MARK:{this.state=S.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this.returnState=S.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=S.CHARACTER_REFERENCE;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=He;break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case A.APOSTROPHE:{this.state=S.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this.returnState=S.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=S.CHARACTER_REFERENCE;break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=He;break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=S.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this.returnState=S.ATTRIBUTE_VALUE_UNQUOTED,this.state=S.CHARACTER_REFERENCE;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=S.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(j.unexpectedNullCharacter),this.currentAttr.value+=He;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(j.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=S.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=S.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=S.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._err(j.missingWhitespaceBetweenAttributes),this.state=S.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case A.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=S.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(j.eofInTag),this._emitEOFToken();break}default:this._err(j.unexpectedSolidusInTag),this.state=S.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentComment(n);break}case A.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.data+=He;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch($t.DASH_DASH,!0)?(this._createCommentToken($t.DASH_DASH.length+1),this.state=S.COMMENT_START):this._consumeSequenceIfMatch($t.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation($t.DOCTYPE.length+1),this.state=S.DOCTYPE):this._consumeSequenceIfMatch($t.CDATA_START,!0)?this.inForeignNode?this.state=S.CDATA_SECTION:(this._err(j.cdataInHtmlContent),this._createCommentToken($t.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=S.BOGUS_COMMENT):this._ensureHibernation()||(this._err(j.incorrectlyOpenedComment),this._createCommentToken(2),this.state=S.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case A.HYPHEN_MINUS:{this.state=S.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptClosingOfEmptyComment),this.state=S.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=S.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case A.HYPHEN_MINUS:{this.state=S.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptClosingOfEmptyComment),this.state=S.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=S.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case A.HYPHEN_MINUS:{this.state=S.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{n.data+="<",this.state=S.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.data+=He;break}case A.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case A.EXCLAMATION_MARK:{n.data+="!",this.state=S.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=S.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===A.HYPHEN_MINUS?this.state=S.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=S.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===A.HYPHEN_MINUS?this.state=S.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=S.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==A.GREATER_THAN_SIGN&&e!==A.EOF&&this._err(j.nestedComment),this.state=S.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case A.HYPHEN_MINUS:{this.state=S.COMMENT_END;break}case A.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=S.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentComment(n);break}case A.EXCLAMATION_MARK:{this.state=S.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{n.data+="-";break}case A.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=S.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case A.HYPHEN_MINUS:{n.data+="--!",this.state=S.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(j.incorrectlyClosedComment),this.state=S.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(j.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=S.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=S.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case A.EOF:{this._err(j.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingWhitespaceBeforeDoctypeName),this.state=S.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(pa(e))this._createDoctypeToken(String.fromCharCode(Cl(e))),this.state=S.DOCTYPE_NAME;else switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(j.unexpectedNullCharacter),this._createDoctypeToken(He),this.state=S.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(j.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=S.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.name+=He;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(pa(e)?Cl(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch($t.PUBLIC,!1)?this.state=S.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch($t.SYSTEM,!1)?this.state=S.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(j.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(j.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=S.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(j.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=S.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(j.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.publicId="",this.state=S.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.publicId="",this.state=S.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(j.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case A.QUOTATION_MARK:{this.state=S.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.publicId+=He;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case A.APOSTROPHE:{this.state=S.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.publicId+=He;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.QUOTATION_MARK:{this._err(j.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(j.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.QUOTATION_MARK:{n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=S.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(j.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(j.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(j.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=S.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(j.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case A.QUOTATION_MARK:{this.state=S.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.systemId+=He;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case A.APOSTROPHE:{this.state=S.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(j.unexpectedNullCharacter),n.systemId+=He;break}case A.GREATER_THAN_SIGN:{this._err(j.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.EOF:{this._err(j.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(j.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=S.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=S.DATA;break}case A.NULL:{this._err(j.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case A.RIGHT_SQUARE_BRACKET:{this.state=S.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(j.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===A.RIGHT_SQUARE_BRACKET?this.state=S.CDATA_SECTION_END:(this._emitChars("]"),this.state=S.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case A.GREATER_THAN_SIGN:{this.state=S.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=S.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===A.NUMBER_SIGN?this.state=S.NUMERIC_CHARACTER_REFERENCE:vp(e)?(this.state=S.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const n=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=S.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){vp(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===A.SEMICOLON&&this._err(j.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===A.LATIN_SMALL_X||e===A.LATIN_CAPITAL_X?this.state=S.HEXADEMICAL_CHARACTER_REFERENCE_START:Na(e)?(this.state=S.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(j.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(A.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){Q4(e)?(this.state=S.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e)):(this._err(j.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(A.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(e){hA(e)?this.charRefCode=this.charRefCode*16+e-55:dA(e)?this.charRefCode=this.charRefCode*16+e-87:Na(e)?this.charRefCode=this.charRefCode*16+e-48:e===A.SEMICOLON?this.state=S.NUMERIC_CHARACTER_REFERENCE_END:(this._err(j.missingSemicolonAfterCharacterReference),this.state=S.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){Na(e)?this.charRefCode=this.charRefCode*10+e-48:e===A.SEMICOLON?this.state=S.NUMERIC_CHARACTER_REFERENCE_END:(this._err(j.missingSemicolonAfterCharacterReference),this.state=S.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===A.NULL)this._err(j.nullCharacterReference),this.charRefCode=A.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(j.characterReferenceOutsideUnicodeRange),this.charRefCode=A.REPLACEMENT_CHARACTER;else if(iA(this.charRefCode))this._err(j.surrogateCharacterReference),this.charRefCode=A.REPLACEMENT_CHARACTER;else if(oA(this.charRefCode))this._err(j.noncharacterCharacterReference);else if(sA(this.charRefCode)||this.charRefCode===A.CARRIAGE_RETURN){this._err(j.controlCharacterReference);const n=G4.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const pA=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),o_=new Set([...pA,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),wl=new Map([[h.APPLET,q.HTML],[h.CAPTION,q.HTML],[h.HTML,q.HTML],[h.MARQUEE,q.HTML],[h.OBJECT,q.HTML],[h.TABLE,q.HTML],[h.TD,q.HTML],[h.TEMPLATE,q.HTML],[h.TH,q.HTML],[h.ANNOTATION_XML,q.MATHML],[h.MI,q.MATHML],[h.MN,q.MATHML],[h.MO,q.MATHML],[h.MS,q.MATHML],[h.MTEXT,q.MATHML],[h.DESC,q.SVG],[h.FOREIGN_OBJECT,q.SVG],[h.TITLE,q.SVG]]),Z4=[h.H1,h.H2,h.H3,h.H4,h.H5,h.H6],eL=[h.TR,h.TEMPLATE,h.HTML],tL=[h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML],nL=[h.TABLE,h.TEMPLATE,h.HTML],rL=[h.TD,h.TH];class iL{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===q.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==q.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(n<0?0:n)}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Z4,q.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rL,q.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(nL,q.HTML)}clearBackToTableBodyContext(){this.clearBackTo(tL,q.HTML)}clearBackToTableRowContext(){this.clearBackTo(eL,q.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===h.HTML}hasInScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===q.HTML)return!0;if(wl.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e],r=this.treeAdapter.getNamespaceURI(this.items[e]);if(cA(n)&&r===q.HTML)return!0;if(wl.get(n)===r)return!1}return!0}hasInListItemScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===q.HTML)return!0;if((r===h.UL||r===h.OL)&&i===q.HTML||wl.get(r)===i)return!1}return!0}hasInButtonScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===e&&i===q.HTML)return!0;if(r===h.BUTTON&&i===q.HTML||wl.get(r)===i)return!1}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===q.HTML){if(r===e)return!0;if(r===h.TABLE||r===h.TEMPLATE||r===h.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===q.HTML){if(n===h.TBODY||n===h.THEAD||n===h.TFOOT)return!0;if(n===h.TABLE||n===h.HTML)return!1}}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===q.HTML){if(r===e)return!0;if(r!==h.OPTION&&r!==h.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;pA.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;o_.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&o_.has(this.currentTagId);)this.pop()}}const Qd=3;var Nn;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Nn=Nn||(Nn={}));const a_={type:Nn.Marker};class sL{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Nn.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===s&&this.treeAdapter.getNamespaceURI(c)===o){const d=this.treeAdapter.getAttrList(c);d.length===i&&r.push({idx:a,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Qd)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Qd)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Qd&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(a_)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Nn.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Nn.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(a_);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Nn.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Nn.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Nn.Element&&n.element===e)}}function u_(t){return{nodeName:"#text",value:t,parentNode:null}}const Ts={createDocument(){return{nodeName:"#document",mode:rn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Ts.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Ts.isTextNode(n)){n.value+=e;return}}Ts.appendChild(t,u_(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Ts.isTextNode(r)?r.value+=e:Ts.insertBefore(t,u_(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},mA="html",oL="about:legacy-compat",aL="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",gA=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],uL=[...gA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],lL=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),EA=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],cL=[...EA,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function l_(t,e){return e.some(n=>t.startsWith(n))}function hL(t){return t.name===mA&&t.publicId===null&&(t.systemId===null||t.systemId===oL)}function dL(t){if(t.name!==mA)return rn.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===aL)return rn.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),lL.has(n))return rn.QUIRKS;let r=e===null?uL:gA;if(l_(n,r))return rn.QUIRKS;if(r=e===null?EA:cL,l_(n,r))return rn.LIMITED_QUIRKS}return rn.NO_QUIRKS}const c_={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fL="definitionurl",pL="definitionURL",mL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),gL=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:q.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:q.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:q.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:q.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:q.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:q.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:q.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:q.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:q.XML}],["xml:space",{prefix:"xml",name:"space",namespace:q.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:q.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:q.XMLNS}]]),EL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),_L=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function TL(t){const e=t.tagID;return e===h.FONT&&t.attrs.some(({name:r})=>r===oi.COLOR||r===oi.SIZE||r===oi.FACE)||_L.has(e)}function _A(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===fL){t.attrs[e].name=pL;break}}function TA(t){for(let e=0;e<t.attrs.length;e++){const n=mL.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function t0(t){for(let e=0;e<t.attrs.length;e++){const n=gL.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function yL(t){const e=EL.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=vo(t.tagName))}function IL(t,e){return e===q.MATHML&&(t===h.MI||t===h.MO||t===h.MN||t===h.MS||t===h.MTEXT)}function vL(t,e,n){if(e===q.MATHML&&t===h.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===oi.ENCODING){const i=n[r].value.toLowerCase();return i===c_.TEXT_HTML||i===c_.APPLICATION_XML}}return e===q.SVG&&(t===h.FOREIGN_OBJECT||t===h.DESC||t===h.TITLE)}function AL(t,e,n,r){return(!r||r===q.HTML)&&vL(t,e,n)||(!r||r===q.MATHML)&&IL(t,e)}const bL="hidden",CL=8,wL=3;var D;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(D||(D={}));const SL={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},yA=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),h_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ts,onParseError:null};class d_{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=D.INITIAL,this.originalInsertionMode=D.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h_,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new J4(this.options,this),this.activeFormattingElements=new sL(this.treeAdapter),this.fragmentContextID=r?vo(this.treeAdapter.getTagName(r)):h.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new iL(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...h_,...n};e??(e=r.treeAdapter.createElement(H.TEMPLATE,q.HTML,[]));const i=r.treeAdapter.createElement("documentmock",q.HTML,[]),s=new this(r,i,e);return s.fragmentContextID===h.TEMPLATE&&s.tmplInsertionModeStack.unshift(D.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:SL,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(e,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(e,n){const r=e===this.document||this.treeAdapter.getNamespaceURI(e)===q.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,q.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=D.TEXT}switchToPlaintextParsing(){this.insertionMode=D.TEXT,this.originalInsertionMode=D.IN_BODY,this.tokenizer.state=et.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===H.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==q.HTML))switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:{this.tokenizer.state=et.RCDATA;break}case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:{this.tokenizer.state=et.RAWTEXT;break}case h.SCRIPT:{this.tokenizer.state=et.SCRIPT_DATA;break}case h.PLAINTEXT:{this.tokenizer.state=et.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,q.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,q.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(H.HTML,q.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,h.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:c,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:c,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),s=n.type===me.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===h.SVG&&this.treeAdapter.getTagName(n)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===q.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===h.MGLYPH||e.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(r,n,q.HTML)}_processToken(e){switch(e.type){case me.CHARACTER:{this.onCharacter(e);break}case me.NULL_CHARACTER:{this.onNullCharacter(e);break}case me.COMMENT:{this.onComment(e);break}case me.DOCTYPE:{this.onDoctype(e);break}case me.START_TAG:{this._processStartTag(e);break}case me.END_TAG:{this.onEndTag(e);break}case me.EOF:{this.onEof(e);break}case me.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return AL(e,i,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Nn.Marker||this.openElements.contains(i.element)),r=n<0?e-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=D.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case h.TR:{this.insertionMode=D.IN_ROW;return}case h.TBODY:case h.THEAD:case h.TFOOT:{this.insertionMode=D.IN_TABLE_BODY;return}case h.CAPTION:{this.insertionMode=D.IN_CAPTION;return}case h.COLGROUP:{this.insertionMode=D.IN_COLUMN_GROUP;return}case h.TABLE:{this.insertionMode=D.IN_TABLE;return}case h.BODY:{this.insertionMode=D.IN_BODY;return}case h.FRAMESET:{this.insertionMode=D.IN_FRAMESET;return}case h.SELECT:{this._resetInsertionModeForSelect(e);return}case h.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case h.HTML:{this.insertionMode=this.headElement?D.AFTER_HEAD:D.BEFORE_HEAD;return}case h.TD:case h.TH:{if(e>0){this.insertionMode=D.IN_CELL;return}break}case h.HEAD:{if(e>0){this.insertionMode=D.IN_HEAD;return}break}}this.insertionMode=D.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===h.TEMPLATE)break;if(r===h.TABLE){this.insertionMode=D.IN_SELECT_IN_TABLE;return}}this.insertionMode=D.IN_SELECT}_isElementCausesFosterParenting(e){return yA.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case h.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===q.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case h.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return Y4[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){r6(this,e);return}switch(this.insertionMode){case D.INITIAL:{oa(this,e);break}case D.BEFORE_HTML:{xa(this,e);break}case D.BEFORE_HEAD:{Pa(this,e);break}case D.IN_HEAD:{La(this,e);break}case D.IN_HEAD_NO_SCRIPT:{Oa(this,e);break}case D.AFTER_HEAD:{Da(this,e);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:{vA(this,e);break}case D.TEXT:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Xd(this,e);break}case D.IN_TABLE_TEXT:{kA(this,e);break}case D.IN_COLUMN_GROUP:{Mc(this,e);break}case D.AFTER_BODY:{Fc(this,e);break}case D.AFTER_AFTER_BODY:{Gl(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){n6(this,e);return}switch(this.insertionMode){case D.INITIAL:{oa(this,e);break}case D.BEFORE_HTML:{xa(this,e);break}case D.BEFORE_HEAD:{Pa(this,e);break}case D.IN_HEAD:{La(this,e);break}case D.IN_HEAD_NO_SCRIPT:{Oa(this,e);break}case D.AFTER_HEAD:{Da(this,e);break}case D.TEXT:{this._insertCharacters(e);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Xd(this,e);break}case D.IN_COLUMN_GROUP:{Mc(this,e);break}case D.AFTER_BODY:{Fc(this,e);break}case D.AFTER_AFTER_BODY:{Gl(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Ap(this,e);return}switch(this.insertionMode){case D.INITIAL:case D.BEFORE_HTML:case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_TEMPLATE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{Ap(this,e);break}case D.IN_TABLE_TEXT:{aa(this,e);break}case D.AFTER_BODY:{OL(this,e);break}case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{DL(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case D.INITIAL:{ML(this,e);break}case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:{this._err(e,j.misplacedDoctype);break}case D.IN_TABLE_TEXT:{aa(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,j.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?i6(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case D.INITIAL:{oa(this,e);break}case D.BEFORE_HTML:{FL(this,e);break}case D.BEFORE_HEAD:{BL(this,e);break}case D.IN_HEAD:{Un(this,e);break}case D.IN_HEAD_NO_SCRIPT:{jL(this,e);break}case D.AFTER_HEAD:{$L(this,e);break}case D.IN_BODY:{Dt(this,e);break}case D.IN_TABLE:{no(this,e);break}case D.IN_TABLE_TEXT:{aa(this,e);break}case D.IN_CAPTION:{VO(this,e);break}case D.IN_COLUMN_GROUP:{i0(this,e);break}case D.IN_TABLE_BODY:{Nh(this,e);break}case D.IN_ROW:{xh(this,e);break}case D.IN_CELL:{zO(this,e);break}case D.IN_SELECT:{xA(this,e);break}case D.IN_SELECT_IN_TABLE:{WO(this,e);break}case D.IN_TEMPLATE:{YO(this,e);break}case D.AFTER_BODY:{KO(this,e);break}case D.IN_FRAMESET:{QO(this,e);break}case D.AFTER_FRAMESET:{JO(this,e);break}case D.AFTER_AFTER_BODY:{e6(this,e);break}case D.AFTER_AFTER_FRAMESET:{t6(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?s6(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case D.INITIAL:{oa(this,e);break}case D.BEFORE_HTML:{UL(this,e);break}case D.BEFORE_HEAD:{VL(this,e);break}case D.IN_HEAD:{HL(this,e);break}case D.IN_HEAD_NO_SCRIPT:{zL(this,e);break}case D.AFTER_HEAD:{WL(this,e);break}case D.IN_BODY:{Rh(this,e);break}case D.TEXT:{NO(this,e);break}case D.IN_TABLE:{uu(this,e);break}case D.IN_TABLE_TEXT:{aa(this,e);break}case D.IN_CAPTION:{HO(this,e);break}case D.IN_COLUMN_GROUP:{jO(this,e);break}case D.IN_TABLE_BODY:{bp(this,e);break}case D.IN_ROW:{NA(this,e);break}case D.IN_CELL:{$O(this,e);break}case D.IN_SELECT:{PA(this,e);break}case D.IN_SELECT_IN_TABLE:{qO(this,e);break}case D.IN_TEMPLATE:{GO(this,e);break}case D.AFTER_BODY:{OA(this,e);break}case D.IN_FRAMESET:{XO(this,e);break}case D.AFTER_FRAMESET:{ZO(this,e);break}case D.AFTER_AFTER_BODY:{Gl(this,e);break}}}onEof(e){switch(this.insertionMode){case D.INITIAL:{oa(this,e);break}case D.BEFORE_HTML:{xa(this,e);break}case D.BEFORE_HEAD:{Pa(this,e);break}case D.IN_HEAD:{La(this,e);break}case D.IN_HEAD_NO_SCRIPT:{Oa(this,e);break}case D.AFTER_HEAD:{Da(this,e);break}case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{wA(this,e);break}case D.TEXT:{xO(this,e);break}case D.IN_TABLE_TEXT:{aa(this,e);break}case D.IN_TEMPLATE:{LA(this,e);break}case D.AFTER_BODY:case D.IN_FRAMESET:case D.AFTER_FRAMESET:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{r0(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===A.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.TEXT:case D.IN_COLUMN_GROUP:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{this._insertCharacters(e);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:case D.AFTER_BODY:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{IA(this,e);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Xd(this,e);break}case D.IN_TABLE_TEXT:{SA(this,e);break}}}}function kL(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):CA(t,e),n}function RL(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(r<0?0:r),t.activeFormattingElements.removeEntry(e)),n}function NL(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let s=0,o=i;o!==n;s++,o=i){i=t.openElements.getCommonAncestor(o);const a=t.activeFormattingElements.getElementEntry(o),u=a&&s>=wL;!a||u?(u&&t.activeFormattingElements.removeEntry(a),t.openElements.remove(o)):(o=xL(t,a),r===e&&(t.activeFormattingElements.bookmark=a),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(o,r),r=o)}return r}function xL(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function PL(t,e,n){const r=t.treeAdapter.getTagName(e),i=vo(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);i===h.TEMPLATE&&s===q.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function LL(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,i.tagID)}function n0(t,e){for(let n=0;n<CL;n++){const r=kL(t,e);if(!r)break;const i=RL(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const s=NL(t,i,r.element),o=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),o&&PL(t,o,s),LL(t,i,r)}}function Ap(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function OL(t,e){t._appendCommentNode(e,t.openElements.items[0])}function DL(t,e){t._appendCommentNode(e,t.document)}function r0(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],o=t.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&t._setEndLocation(s,e)}}}}function ML(t,e){t._setDocumentType(e);const n=e.forceQuirks?rn.QUIRKS:dL(e);hL(e)||t._err(e,j.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=D.BEFORE_HTML}function oa(t,e){t._err(e,j.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,rn.QUIRKS),t.insertionMode=D.BEFORE_HTML,t._processToken(e)}function FL(t,e){e.tagID===h.HTML?(t._insertElement(e,q.HTML),t.insertionMode=D.BEFORE_HEAD):xa(t,e)}function UL(t,e){const n=e.tagID;(n===h.HTML||n===h.HEAD||n===h.BODY||n===h.BR)&&xa(t,e)}function xa(t,e){t._insertFakeRootElement(),t.insertionMode=D.BEFORE_HEAD,t._processToken(e)}function BL(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.HEAD:{t._insertElement(e,q.HTML),t.headElement=t.openElements.current,t.insertionMode=D.IN_HEAD;break}default:Pa(t,e)}}function VL(t,e){const n=e.tagID;n===h.HEAD||n===h.BODY||n===h.HTML||n===h.BR?Pa(t,e):t._err(e,j.endTagWithoutMatchingOpenElement)}function Pa(t,e){t._insertFakeElement(H.HEAD,h.HEAD),t.headElement=t.openElements.current,t.insertionMode=D.IN_HEAD,t._processToken(e)}function Un(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:{t._appendElement(e,q.HTML),e.ackSelfClosing=!0;break}case h.TITLE:{t._switchToTextParsing(e,et.RCDATA);break}case h.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,et.RAWTEXT):(t._insertElement(e,q.HTML),t.insertionMode=D.IN_HEAD_NO_SCRIPT);break}case h.NOFRAMES:case h.STYLE:{t._switchToTextParsing(e,et.RAWTEXT);break}case h.SCRIPT:{t._switchToTextParsing(e,et.SCRIPT_DATA);break}case h.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=D.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(D.IN_TEMPLATE);break}case h.HEAD:{t._err(e,j.misplacedStartTagForHeadElement);break}default:La(t,e)}}function HL(t,e){switch(e.tagID){case h.HEAD:{t.openElements.pop(),t.insertionMode=D.AFTER_HEAD;break}case h.BODY:case h.BR:case h.HTML:{La(t,e);break}case h.TEMPLATE:{as(t,e);break}default:t._err(e,j.endTagWithoutMatchingOpenElement)}}function as(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==h.TEMPLATE&&t._err(e,j.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(h.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,j.endTagWithoutMatchingOpenElement)}function La(t,e){t.openElements.pop(),t.insertionMode=D.AFTER_HEAD,t._processToken(e)}function jL(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:{Un(t,e);break}case h.NOSCRIPT:{t._err(e,j.nestedNoscriptInHead);break}default:Oa(t,e)}}function zL(t,e){switch(e.tagID){case h.NOSCRIPT:{t.openElements.pop(),t.insertionMode=D.IN_HEAD;break}case h.BR:{Oa(t,e);break}default:t._err(e,j.endTagWithoutMatchingOpenElement)}}function Oa(t,e){const n=e.type===me.EOF?j.openElementsLeftAfterEof:j.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=D.IN_HEAD,t._processToken(e)}function $L(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.BODY:{t._insertElement(e,q.HTML),t.framesetOk=!1,t.insertionMode=D.IN_BODY;break}case h.FRAMESET:{t._insertElement(e,q.HTML),t.insertionMode=D.IN_FRAMESET;break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{t._err(e,j.abandonedHeadElementChild),t.openElements.push(t.headElement,h.HEAD),Un(t,e),t.openElements.remove(t.headElement);break}case h.HEAD:{t._err(e,j.misplacedStartTagForHeadElement);break}default:Da(t,e)}}function WL(t,e){switch(e.tagID){case h.BODY:case h.HTML:case h.BR:{Da(t,e);break}case h.TEMPLATE:{as(t,e);break}default:t._err(e,j.endTagWithoutMatchingOpenElement)}}function Da(t,e){t._insertFakeElement(H.BODY,h.BODY),t.insertionMode=D.IN_BODY,kh(t,e)}function kh(t,e){switch(e.type){case me.CHARACTER:{vA(t,e);break}case me.WHITESPACE_CHARACTER:{IA(t,e);break}case me.COMMENT:{Ap(t,e);break}case me.START_TAG:{Dt(t,e);break}case me.END_TAG:{Rh(t,e);break}case me.EOF:{wA(t,e);break}}}function IA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function vA(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function qL(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function YL(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function GL(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_FRAMESET)}function KL(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML)}function QL(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),cA(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,q.HTML)}function XL(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function JL(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML),n||(t.formElement=t.openElements.current))}function ZL(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===h.LI&&i===h.LI||(n===h.DD||n===h.DT)&&(i===h.DD||i===h.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==h.ADDRESS&&i!==h.DIV&&i!==h.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML)}function eO(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML),t.tokenizer.state=et.PLAINTEXT}function tO(t,e){t.openElements.hasInScope(h.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(h.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML),t.framesetOk=!1}function nO(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);n&&(n0(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function rO(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function iO(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(h.NOBR)&&(n0(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,q.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function sO(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function oO(t,e){t.treeAdapter.getDocumentMode(t.document)!==rn.QUIRKS&&t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._insertElement(e,q.HTML),t.framesetOk=!1,t.insertionMode=D.IN_TABLE}function AA(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,q.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function bA(t){const e=aA(t,oi.TYPE);return e!=null&&e.toLowerCase()===bL}function aO(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,q.HTML),bA(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function uO(t,e){t._appendElement(e,q.HTML),e.ackSelfClosing=!0}function lO(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._appendElement(e,q.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function cO(t,e){e.tagName=H.IMG,e.tagID=h.IMG,AA(t,e)}function hO(t,e){t._insertElement(e,q.HTML),t.skipNextNewLine=!0,t.tokenizer.state=et.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=D.TEXT}function dO(t,e){t.openElements.hasInButtonScope(h.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,et.RAWTEXT)}function fO(t,e){t.framesetOk=!1,t._switchToTextParsing(e,et.RAWTEXT)}function f_(t,e){t._switchToTextParsing(e,et.RAWTEXT)}function pO(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===D.IN_TABLE||t.insertionMode===D.IN_CAPTION||t.insertionMode===D.IN_TABLE_BODY||t.insertionMode===D.IN_ROW||t.insertionMode===D.IN_CELL?D.IN_SELECT_IN_TABLE:D.IN_SELECT}function mO(t,e){t.openElements.currentTagId===h.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML)}function gO(t,e){t.openElements.hasInScope(h.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,q.HTML)}function EO(t,e){t.openElements.hasInScope(h.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(h.RTC),t._insertElement(e,q.HTML)}function _O(t,e){t._reconstructActiveFormattingElements(),_A(e),t0(e),e.selfClosing?t._appendElement(e,q.MATHML):t._insertElement(e,q.MATHML),e.ackSelfClosing=!0}function TO(t,e){t._reconstructActiveFormattingElements(),TA(e),t0(e),e.selfClosing?t._appendElement(e,q.SVG):t._insertElement(e,q.SVG),e.ackSelfClosing=!0}function p_(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,q.HTML)}function Dt(t,e){switch(e.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:{rO(t,e);break}case h.A:{nO(t,e);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{QL(t,e);break}case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{KL(t,e);break}case h.LI:case h.DD:case h.DT:{ZL(t,e);break}case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:{AA(t,e);break}case h.HR:{lO(t,e);break}case h.RB:case h.RTC:{gO(t,e);break}case h.RT:case h.RP:{EO(t,e);break}case h.PRE:case h.LISTING:{XL(t,e);break}case h.XMP:{dO(t,e);break}case h.SVG:{TO(t,e);break}case h.HTML:{qL(t,e);break}case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:{Un(t,e);break}case h.BODY:{YL(t,e);break}case h.FORM:{JL(t,e);break}case h.NOBR:{iO(t,e);break}case h.MATH:{_O(t,e);break}case h.TABLE:{oO(t,e);break}case h.INPUT:{aO(t,e);break}case h.PARAM:case h.TRACK:case h.SOURCE:{uO(t,e);break}case h.IMAGE:{cO(t,e);break}case h.BUTTON:{tO(t,e);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{sO(t,e);break}case h.IFRAME:{fO(t,e);break}case h.SELECT:{pO(t,e);break}case h.OPTION:case h.OPTGROUP:{mO(t,e);break}case h.NOEMBED:{f_(t,e);break}case h.FRAMESET:{GL(t,e);break}case h.TEXTAREA:{hO(t,e);break}case h.NOSCRIPT:{t.options.scriptingEnabled?f_(t,e):p_(t,e);break}case h.PLAINTEXT:{eO(t,e);break}case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:p_(t,e)}}function yO(t,e){if(t.openElements.hasInScope(h.BODY)&&(t.insertionMode=D.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function IO(t,e){t.openElements.hasInScope(h.BODY)&&(t.insertionMode=D.AFTER_BODY,OA(t,e))}function vO(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function AO(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(h.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(h.FORM):n&&t.openElements.remove(n))}function bO(t){t.openElements.hasInButtonScope(h.P)||t._insertFakeElement(H.P,h.P),t._closePElement()}function CO(t){t.openElements.hasInListItemScope(h.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(h.LI),t.openElements.popUntilTagNamePopped(h.LI))}function wO(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function SO(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function kO(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function RO(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(H.BR,h.BR),t.openElements.pop(),t.framesetOk=!1}function CA(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],o=t.openElements.tagIDs[i];if(r===o&&(r!==h.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,o))break}}function Rh(t,e){switch(e.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:{n0(t,e);break}case h.P:{bO(t);break}case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{vO(t,e);break}case h.LI:{CO(t);break}case h.DD:case h.DT:{wO(t,e);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{SO(t);break}case h.BR:{RO(t);break}case h.BODY:{yO(t,e);break}case h.HTML:{IO(t,e);break}case h.FORM:{AO(t);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{kO(t,e);break}case h.TEMPLATE:{as(t,e);break}default:CA(t,e)}}function wA(t,e){t.tmplInsertionModeStack.length>0?LA(t,e):r0(t,e)}function NO(t,e){var n;e.tagID===h.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function xO(t,e){t._err(e,j.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Xd(t,e){if(yA.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=D.IN_TABLE_TEXT,e.type){case me.CHARACTER:{kA(t,e);break}case me.WHITESPACE_CHARACTER:{SA(t,e);break}}else Ru(t,e)}function PO(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_CAPTION}function LO(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_COLUMN_GROUP}function OO(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(H.COLGROUP,h.COLGROUP),t.insertionMode=D.IN_COLUMN_GROUP,i0(t,e)}function DO(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_TABLE_BODY}function MO(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(H.TBODY,h.TBODY),t.insertionMode=D.IN_TABLE_BODY,Nh(t,e)}function FO(t,e){t.openElements.hasInTableScope(h.TABLE)&&(t.openElements.popUntilTagNamePopped(h.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function UO(t,e){bA(e)?t._appendElement(e,q.HTML):Ru(t,e),e.ackSelfClosing=!0}function BO(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,q.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function no(t,e){switch(e.tagID){case h.TD:case h.TH:case h.TR:{MO(t,e);break}case h.STYLE:case h.SCRIPT:case h.TEMPLATE:{Un(t,e);break}case h.COL:{OO(t,e);break}case h.FORM:{BO(t,e);break}case h.TABLE:{FO(t,e);break}case h.TBODY:case h.TFOOT:case h.THEAD:{DO(t,e);break}case h.INPUT:{UO(t,e);break}case h.CAPTION:{PO(t,e);break}case h.COLGROUP:{LO(t,e);break}default:Ru(t,e)}}function uu(t,e){switch(e.tagID){case h.TABLE:{t.openElements.hasInTableScope(h.TABLE)&&(t.openElements.popUntilTagNamePopped(h.TABLE),t._resetInsertionMode());break}case h.TEMPLATE:{as(t,e);break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Ru(t,e)}}function Ru(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,kh(t,e),t.fosterParentingEnabled=n}function SA(t,e){t.pendingCharacterTokens.push(e)}function kA(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function aa(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Ru(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const RA=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function VO(t,e){const n=e.tagID;RA.has(n)?t.openElements.hasInTableScope(h.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(h.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=D.IN_TABLE,no(t,e)):Dt(t,e)}function HO(t,e){const n=e.tagID;switch(n){case h.CAPTION:case h.TABLE:{t.openElements.hasInTableScope(h.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(h.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=D.IN_TABLE,n===h.TABLE&&uu(t,e));break}case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Rh(t,e)}}function i0(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.COL:{t._appendElement(e,q.HTML),e.ackSelfClosing=!0;break}case h.TEMPLATE:{Un(t,e);break}default:Mc(t,e)}}function jO(t,e){switch(e.tagID){case h.COLGROUP:{t.openElements.currentTagId===h.COLGROUP&&(t.openElements.pop(),t.insertionMode=D.IN_TABLE);break}case h.TEMPLATE:{as(t,e);break}case h.COL:break;default:Mc(t,e)}}function Mc(t,e){t.openElements.currentTagId===h.COLGROUP&&(t.openElements.pop(),t.insertionMode=D.IN_TABLE,t._processToken(e))}function Nh(t,e){switch(e.tagID){case h.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_ROW;break}case h.TH:case h.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(H.TR,h.TR),t.insertionMode=D.IN_ROW,xh(t,e);break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE,no(t,e));break}default:no(t,e)}}function bp(t,e){const n=e.tagID;switch(e.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE);break}case h.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE,uu(t,e));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:uu(t,e)}}function xh(t,e){switch(e.tagID){case h.TH:case h.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,q.HTML),t.insertionMode=D.IN_CELL,t.activeFormattingElements.insertMarker();break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{t.openElements.hasInTableScope(h.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE_BODY,Nh(t,e));break}default:no(t,e)}}function NA(t,e){switch(e.tagID){case h.TR:{t.openElements.hasInTableScope(h.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE_BODY);break}case h.TABLE:{t.openElements.hasInTableScope(h.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE_BODY,bp(t,e));break}case h.TBODY:case h.TFOOT:case h.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(h.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=D.IN_TABLE_BODY,bp(t,e));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:uu(t,e)}}function zO(t,e){const n=e.tagID;RA.has(n)?(t.openElements.hasInTableScope(h.TD)||t.openElements.hasInTableScope(h.TH))&&(t._closeTableCell(),xh(t,e)):Dt(t,e)}function $O(t,e){const n=e.tagID;switch(n){case h.TD:case h.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=D.IN_ROW);break}case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),NA(t,e));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:Rh(t,e)}}function xA(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.OPTION:{t.openElements.currentTagId===h.OPTION&&t.openElements.pop(),t._insertElement(e,q.HTML);break}case h.OPTGROUP:{t.openElements.currentTagId===h.OPTION&&t.openElements.pop(),t.openElements.currentTagId===h.OPTGROUP&&t.openElements.pop(),t._insertElement(e,q.HTML);break}case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:{t.openElements.hasInSelectScope(h.SELECT)&&(t.openElements.popUntilTagNamePopped(h.SELECT),t._resetInsertionMode(),e.tagID!==h.SELECT&&t._processStartTag(e));break}case h.SCRIPT:case h.TEMPLATE:{Un(t,e);break}}}function PA(t,e){switch(e.tagID){case h.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===h.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===h.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===h.OPTGROUP&&t.openElements.pop();break}case h.OPTION:{t.openElements.currentTagId===h.OPTION&&t.openElements.pop();break}case h.SELECT:{t.openElements.hasInSelectScope(h.SELECT)&&(t.openElements.popUntilTagNamePopped(h.SELECT),t._resetInsertionMode());break}case h.TEMPLATE:{as(t,e);break}}}function WO(t,e){const n=e.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(t.openElements.popUntilTagNamePopped(h.SELECT),t._resetInsertionMode(),t._processStartTag(e)):xA(t,e)}function qO(t,e){const n=e.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(h.SELECT),t._resetInsertionMode(),t.onEndTag(e)):PA(t,e)}function YO(t,e){switch(e.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{Un(t,e);break}case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{t.tmplInsertionModeStack[0]=D.IN_TABLE,t.insertionMode=D.IN_TABLE,no(t,e);break}case h.COL:{t.tmplInsertionModeStack[0]=D.IN_COLUMN_GROUP,t.insertionMode=D.IN_COLUMN_GROUP,i0(t,e);break}case h.TR:{t.tmplInsertionModeStack[0]=D.IN_TABLE_BODY,t.insertionMode=D.IN_TABLE_BODY,Nh(t,e);break}case h.TD:case h.TH:{t.tmplInsertionModeStack[0]=D.IN_ROW,t.insertionMode=D.IN_ROW,xh(t,e);break}default:t.tmplInsertionModeStack[0]=D.IN_BODY,t.insertionMode=D.IN_BODY,Dt(t,e)}}function GO(t,e){e.tagID===h.TEMPLATE&&as(t,e)}function LA(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(h.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):r0(t,e)}function KO(t,e){e.tagID===h.HTML?Dt(t,e):Fc(t,e)}function OA(t,e){var n;if(e.tagID===h.HTML){if(t.fragmentContext||(t.insertionMode=D.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===h.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Fc(t,e)}function Fc(t,e){t.insertionMode=D.IN_BODY,kh(t,e)}function QO(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.FRAMESET:{t._insertElement(e,q.HTML);break}case h.FRAME:{t._appendElement(e,q.HTML),e.ackSelfClosing=!0;break}case h.NOFRAMES:{Un(t,e);break}}}function XO(t,e){e.tagID===h.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==h.FRAMESET&&(t.insertionMode=D.AFTER_FRAMESET))}function JO(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.NOFRAMES:{Un(t,e);break}}}function ZO(t,e){e.tagID===h.HTML&&(t.insertionMode=D.AFTER_AFTER_FRAMESET)}function e6(t,e){e.tagID===h.HTML?Dt(t,e):Gl(t,e)}function Gl(t,e){t.insertionMode=D.IN_BODY,kh(t,e)}function t6(t,e){switch(e.tagID){case h.HTML:{Dt(t,e);break}case h.NOFRAMES:{Un(t,e);break}}}function n6(t,e){e.chars=He,t._insertCharacters(e)}function r6(t,e){t._insertCharacters(e),t.framesetOk=!1}function DA(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==q.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function i6(t,e){if(TL(e))DA(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===q.MATHML?_A(e):r===q.SVG&&(yL(e),TA(e)),t0(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function s6(t,e){if(e.tagID===h.P||e.tagID===h.BR){DA(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===q.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const o6=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),m_={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function MA(t,e){const n=g6(t),r=nA("type",{handlers:{root:a6,element:u6,text:l6,comment:UA,doctype:c6,raw:d6},unknown:f6}),i={parser:n?new d_(m_):d_.getFragmentParser(void 0,m_),handle(a){r(a,i)},stitches:!1,options:e||{}};r(t,i),Ao(i,tr());const s=n?i.parser.document:i.parser.getFragment(),o=_4(s,{file:i.options.file});return i.stitches&&Sh(o,"comment",function(a,u,c){const d=a;if(d.value.stitch&&c&&u!==void 0){const f=c.children;return f[u]=d.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===t.type?o.children[0]:o}function FA(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function a6(t,e){FA(t.children,e)}function u6(t,e){p6(t,e),FA(t.children,e),m6(t,e)}function l6(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:me.CHARACTER,chars:t.value,location:Nu(t)};Ao(e,tr(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function c6(t,e){const n={type:me.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Nu(t)};Ao(e,tr(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function h6(t,e){e.stitches=!0;const n=E6(t);if("children"in t&&"children"in n){const r=MA({type:"root",children:t.children},e.options);n.children=r.children}UA({type:"comment",value:{stitch:n}},e)}function UA(t,e){const n=t.value,r={type:me.COMMENT,data:n,location:Nu(t)};Ao(e,tr(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function d6(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,BA(e,tr(t)),e.parser.tokenizer.write(t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function f6(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))h6(n,e);else{let r="";throw o6.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ao(t,e){BA(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=et.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function BA(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function p6(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===et.PLAINTEXT)return;Ao(e,tr(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Fi.html;i===Fi.html&&n==="svg"&&(i=Fi.svg);const s=A4({...t,children:[]},{space:i===Fi.svg?"svg":"html"}),o={type:me.START_TAG,tagName:n,tagID:vo(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Nu(t)};e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function m6(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&x4.includes(n)||e.parser.tokenizer.state===et.PLAINTEXT)return;Ao(e,Ih(t));const r={type:me.END_TAG,tagName:n,tagID:vo(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Nu(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===et.RCDATA||e.parser.tokenizer.state===et.RAWTEXT||e.parser.tokenizer.state===et.SCRIPT_DATA)&&(e.parser.tokenizer.state=et.DATA)}function g6(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Nu(t){const e=tr(t)||{line:void 0,column:void 0,offset:void 0},n=Ih(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function E6(t){return"children"in t?to({...t,children:[]}):to(t)}function VA(t){return function(e,n){return MA(e,{...t,file:n})}}function g_(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function _6(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function T6(t,e,n){const i=Ch((n||{}).ignore||[]),s=y6(e);let o=-1;for(;++o<s.length;)Kv(t,"text",a);function a(c,d){let f=-1,m;for(;++f<d.length;){const g=d[f],_=m?m.children:void 0;if(i(g,_?_.indexOf(g):void 0,m))return;m=g}if(m)return u(c,d)}function u(c,d){const f=d[d.length-1],m=s[o][0],g=s[o][1];let _=0;const P=f.children.indexOf(c);let y=!1,I=[];m.lastIndex=0;let w=m.exec(c.value);for(;w;){const B=w.index,W={index:w.index,input:w.input,stack:[...d,c]};let U=g(...w,W);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?m.lastIndex=B+1:(_!==B&&I.push({type:"text",value:c.value.slice(_,B)}),Array.isArray(U)?I.push(...U):U&&I.push(U),_=B+w[0].length,y=!0),!m.global)break;w=m.exec(c.value)}return y?(_<c.value.length&&I.push({type:"text",value:c.value.slice(_)}),f.children.splice(P,1,...I)):I=[c],P+I.length}}function y6(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([I6(i[0]),v6(i[1])])}return e}function I6(t){return typeof t=="string"?new RegExp(_6(t),"g"):t}function v6(t){return typeof t=="function"?t:function(){return t}}const Jd="phrasing",Zd=["autolink","link","image","label"];function A6(){return{transforms:[N6],enter:{literalAutolink:C6,literalAutolinkEmail:ef,literalAutolinkHttp:ef,literalAutolinkWww:ef},exit:{literalAutolink:R6,literalAutolinkEmail:k6,literalAutolinkHttp:w6,literalAutolinkWww:S6}}}function b6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Jd,notInConstruct:Zd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Jd,notInConstruct:Zd},{character:":",before:"[ps]",after:"\\/",inConstruct:Jd,notInConstruct:Zd}]}}function C6(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ef(t){this.config.enter.autolinkProtocol.call(this,t)}function w6(t){this.config.exit.autolinkProtocol.call(this,t)}function S6(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function k6(t){this.config.exit.autolinkEmail.call(this,t)}function R6(t){this.exit(t)}function N6(t){T6(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,x6],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,P6]],{ignore:["link","linkReference"]})}function x6(t,e,n,r,i){let s="";if(!HA(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!L6(n)))return!1;const o=O6(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function P6(t,e,n,r){return!HA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function L6(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function O6(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=g_(t,"(");let s=g_(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function HA(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Xi(n)||vh(n))&&(!e||n!==47)}jA.peek=W6;function D6(){return{enter:{gfmFootnoteDefinition:F6,gfmFootnoteDefinitionLabelString:U6,gfmFootnoteCall:H6,gfmFootnoteCallString:j6},exit:{gfmFootnoteDefinition:V6,gfmFootnoteDefinitionLabelString:B6,gfmFootnoteCall:$6,gfmFootnoteCallString:z6}}}function M6(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:q6,footnoteReference:jA}}}function F6(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function U6(){this.buffer()}function B6(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=On(this.sliceSerialize(t)).toLowerCase()}function V6(t){this.exit(t)}function H6(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function j6(){this.buffer()}function z6(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=On(this.sliceSerialize(t)).toLowerCase()}function $6(t){this.exit(t)}function jA(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function W6(){return"["}function q6(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(n.safe(n.associationId(t),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(t,i.current()),Y6)),o(),s}function Y6(t,e,n){return e===0?t:(n?"":"    ")+t}const G6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];zA.peek=Z6;function K6(){return{canContainEols:["delete"],enter:{strikethrough:X6},exit:{strikethrough:J6}}}function Q6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:G6}],handlers:{delete:zA}}}function X6(t){this.enter({type:"delete",children:[]},t)}function J6(t){this.exit(t)}function zA(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Z6(){return"~"}function eD(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||nD,i=[],s=[],o=[],a=[];let u=0,c=-1;for(;++c<t.length;){const _=[],k=[];let P=-1;for(t[c].length>u&&(u=t[c].length);++P<t[c].length;){const y=tD(t[c][P]);if(e.alignDelimiters!==!1){const I=r(y);k[P]=I,(a[P]===void 0||I>a[P])&&(a[P]=I)}_.push(y)}s[c]=_,o[c]=k}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<u;)i[d]=E_(n[d]);else{const _=E_(n);for(;++d<u;)i[d]=_}d=-1;const f=[],m=[];for(;++d<u;){const _=i[d];let k="",P="";_===99?(k=":",P=":"):_===108?k=":":_===114&&(P=":");let y=e.alignDelimiters===!1?1:Math.max(1,a[d]-k.length-P.length);const I=k+"-".repeat(y)+P;e.alignDelimiters!==!1&&(y=k.length+y+P.length,y>a[d]&&(a[d]=y),m[d]=y),f[d]=I}s.splice(1,0,f),o.splice(1,0,m),c=-1;const g=[];for(;++c<s.length;){const _=s[c],k=o[c];d=-1;const P=[];for(;++d<u;){const y=_[d]||"";let I="",w="";if(e.alignDelimiters!==!1){const B=a[d]-(k[d]||0),W=i[d];W===114?I=" ".repeat(B):W===99?B%2?(I=" ".repeat(B/2+.5),w=" ".repeat(B/2-.5)):(I=" ".repeat(B/2),w=I):w=" ".repeat(B)}e.delimiterStart!==!1&&!d&&P.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&y==="")&&(e.delimiterStart!==!1||d)&&P.push(" "),e.alignDelimiters!==!1&&P.push(I),P.push(y),e.alignDelimiters!==!1&&P.push(w),e.padding!==!1&&P.push(" "),(e.delimiterEnd!==!1||d!==u-1)&&P.push("|")}g.push(e.delimiterEnd===!1?P.join("").replace(/ +$/,""):P.join(""))}return g.join(`
`)}function tD(t){return t==null?"":String(t)}function nD(t){return t.length}function E_(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function rD(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),iD);return i(),o}function iD(t,e,n){return">"+(n?"":" ")+t}function sD(t,e){return __(t,e.inConstruct,!0)&&!__(t,e.notInConstruct,!1)}function __(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function T_(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&sD(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oD(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function aD(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function uD(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function lD(t,e,n,r){const i=uD(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(aD(t,n)){const f=n.enter("codeIndented"),m=n.indentLines(s,cD);return f(),m}const a=n.createTracker(r),u=i.repeat(Math.max(oD(s,i)+1,3)),c=n.enter("codeFenced");let d=a.move(u);if(t.lang){const f=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(u),c(),d}function cD(t,e,n){return(n?"":"    ")+t}function s0(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function hD(t,e,n,r){const i=s0(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(t),{before:c,after:"]",...u.current()})),c+=u.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...u.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),o(),c}function dD(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}$A.peek=fD;function $A(t,e,n,r){const i=dD(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function fD(t,e,n){return n.options.emphasis||"*"}function pD(t,e){let n=!1;return Sh(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,mp}),!!((!t.depth||t.depth<3)&&Wm(t)&&(e.options.setext||n))}function mD(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(pD(t,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),u=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),a(),c}WA.peek=gD;function WA(t){return t.value||""}function gD(){return"<"}qA.peek=ED;function qA(t,e,n,r){const i=s0(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(t.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(a=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":")",...u.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),a()),c+=u.move(")"),o(),c}function ED(){return"!"}YA.peek=_D;function YA(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const c=n.safe(t.alt,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==f?u+=a.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function _D(){return"!"}GA.peek=TD;function GA(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}function TD(){return"`"}function KA(t,e){const n=Wm(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}QA.peek=yD;function QA(t,e,n,r){const i=s0(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(KA(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=d,f}a=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),u(),t.title&&(u=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),a(),c}function yD(t,e,n){return KA(t,n)?"<":"["}XA.peek=ID;function XA(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const c=n.containerPhrasing(t,{before:u,after:"]",...a.current()});u+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==f?u+=a.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function ID(){return"["}function o0(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function vD(t){const e=o0(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function AD(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function JA(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function bD(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?AD(n):o0(n);const a=t.ordered?o==="."?")":".":vD(n);let u=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),JA(n)===o&&d){let f=-1;for(;++f<t.children.length;){const m=t.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function CD(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function wD(t,e,n,r){const i=CD(n);let s=n.bulletCurrent||o0(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),d);return u(),c;function d(f,m,g){return m?(g?"":" ".repeat(o))+f:(g?s:s+" ".repeat(o-s.length))+f}}function SD(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const kD=Ch(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function RD(t,e,n,r){return(t.children.some(function(o){return kD(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function ND(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ZA.peek=xD;function ZA(t,e,n,r){const i=ND(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(t,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function xD(t,e,n){return n.options.strong||"*"}function PD(t,e,n,r){return n.safe(t.value,r)}function LD(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function OD(t,e,n){const r=(JA(n)+(n.options.ruleSpaces?" ":"")).repeat(LD(n));return n.options.ruleSpaces?r.slice(0,-1):r}const e2={blockquote:rD,break:T_,code:lD,definition:hD,emphasis:$A,hardBreak:T_,heading:mD,html:WA,image:qA,imageReference:YA,inlineCode:GA,link:QA,linkReference:XA,list:bD,listItem:wD,paragraph:SD,root:RD,strong:ZA,text:PD,thematicBreak:OD};function DD(){return{enter:{table:MD,tableData:y_,tableHeader:y_,tableRow:UD},exit:{codeText:BD,table:FD,tableData:tf,tableHeader:tf,tableRow:tf}}}function MD(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function FD(t){this.exit(t),this.data.inTable=void 0}function UD(t){this.enter({type:"tableRow",children:[]},t)}function tf(t){this.exit(t)}function y_(t){this.enter({type:"tableCell",children:[]},t)}function BD(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,VD));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function VD(t,e){return e==="|"?e:t}function HD(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:u,tableRow:a}};function o(g,_,k,P){return c(d(g,k,P),g.align)}function a(g,_,k,P){const y=f(g,k,P),I=c([y]);return I.slice(0,I.indexOf(`
`))}function u(g,_,k,P){const y=k.enter("tableCell"),I=k.enter("phrasing"),w=k.containerPhrasing(g,{...P,before:s,after:s});return I(),y(),w}function c(g,_){return eD(g,{align:_,alignDelimiters:r,padding:n,stringLength:i})}function d(g,_,k){const P=g.children;let y=-1;const I=[],w=_.enter("table");for(;++y<P.length;)I[y]=f(P[y],_,k);return w(),I}function f(g,_,k){const P=g.children;let y=-1;const I=[],w=_.enter("tableRow");for(;++y<P.length;)I[y]=u(P[y],g,_,k);return w(),I}function m(g,_,k){let P=e2.inlineCode(g,_,k);return k.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function jD(){return{exit:{taskListCheckValueChecked:I_,taskListCheckValueUnchecked:I_,paragraph:$D}}}function zD(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:WD}}}function I_(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function $D(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function WD(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let u=e2.listItem(t,e,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(d){return d+o}}function qD(){return[A6(),D6(),K6(),DD(),jD()]}function YD(t){return{extensions:[b6(),M6(),Q6(),HD(t),zD()]}}const GD={tokenize:eM,partial:!0},t2={tokenize:tM,partial:!0},n2={tokenize:nM,partial:!0},r2={tokenize:rM,partial:!0},KD={tokenize:iM,partial:!0},i2={name:"wwwAutolink",tokenize:JD,previous:o2},s2={name:"protocolAutolink",tokenize:ZD,previous:a2},wr={name:"emailAutolink",tokenize:XD,previous:u2},nr={};function QD(){return{text:nr}}let ki=48;for(;ki<123;)nr[ki]=wr,ki++,ki===58?ki=65:ki===91&&(ki=97);nr[43]=wr;nr[45]=wr;nr[46]=wr;nr[95]=wr;nr[72]=[wr,s2];nr[104]=[wr,s2];nr[87]=[wr,i2];nr[119]=[wr,i2];function XD(t,e,n){const r=this;let i,s;return o;function o(f){return!Cp(f)||!u2.call(r,r.previous)||a0(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(f))}function a(f){return Cp(f)?(t.consume(f),a):f===64?(t.consume(f),u):n(f)}function u(f){return f===46?t.check(KD,d,c)(f):f===45||f===95||xt(f)?(s=!0,t.consume(f),u):d(f)}function c(f){return t.consume(f),i=!0,u}function d(f){return s&&i&&Vt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function JD(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!o2.call(r,r.previous)||a0(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(GD,t.attempt(t2,t.attempt(n2,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function ZD(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&a2.call(r,r.previous)&&!a0(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),a):n(f)}function a(f){if(Vt(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),a;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return t.consume(f),u}return n(f)}function u(f){return f===47?(t.consume(f),s?c:(s=!0,u)):n(f)}function c(f){return f===null||Pc(f)||Oe(f)||Xi(f)||vh(f)?n(f):t.attempt(t2,t.attempt(n2,d),n)(f)}function d(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function eM(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function tM(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(r2,u,a)(c):c===null||Oe(c)||Xi(c)||c!==45&&vh(c)?u(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function u(c){return i||r||!s?n(c):e(c)}}function nM(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(r2,e,s)(o):o===null||Oe(o)||Xi(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function rM(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Oe(a)||Xi(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Oe(a)||Xi(a)?e(a):r(a)}function s(a){return Vt(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Vt(a)?(t.consume(a),o):n(a)}}function iM(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return xt(s)?n(s):e(s)}}function o2(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Oe(t)}function a2(t){return!Vt(t)}function u2(t){return!(t===47||Cp(t))}function Cp(t){return t===43||t===45||t===46||t===95||xt(t)}function a0(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sM={tokenize:fM,partial:!0};function oM(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cM,continuation:{tokenize:hM},exit:dM}},text:{91:{name:"gfmFootnoteCall",tokenize:lM},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aM,resolveTo:uM}}}}function aM(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const c=On(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function uM(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function lM(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!o||f===null||f===91||Oe(f))return n(f);if(f===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return i.includes(On(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Oe(f)||(o=!0),s++,t.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(t.consume(f),s++,c):c(f)}}function cM(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(_)}function d(_){if(o>999||_===93&&!a||_===null||_===91||Oe(_))return n(_);if(_===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=On(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return Oe(_)||(a=!0),o++,t.consume(_),_===92?f:d}function f(_){return _===91||_===92||_===93?(t.consume(_),o++,d):d(_)}function m(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ce(t,g,"gfmFootnoteDefinitionWhitespace")):n(_)}function g(_){return e(_)}}function hM(t,e,n){return t.check(Su,e,t.attempt(sM,e,n))}function dM(t){t.exit("gfmFootnoteDefinition")}function fM(t,e,n){const r=this;return Ce(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function pM(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},m=[["enter",d,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",f,a]],g=a.parser.constructs.insideSpan.null;g&&_n(m,m.length,0,Ah(g,o.slice(c+1,u),a)),_n(m,m.length,0,[["exit",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",d,a]]),_n(o,c-1,u-c+3,m),u=c+m.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const c=this.previous,d=this.events;let f=0;return m;function m(_){return c===126&&d[d.length-1][1].type!=="characterEscape"?u(_):(o.enter("strikethroughSequenceTemporary"),g(_))}function g(_){const k=Lc(c);if(_===126)return f>1?u(_):(o.consume(_),f++,g);if(f<2&&!n)return u(_);const P=o.exit("strikethroughSequenceTemporary"),y=Lc(_);return P._open=!y||y===2&&!!k,P._close=!k||k===2&&!!y,a(_)}}}class mM{constructor(){this.map=[]}add(e,n,r){gM(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function gM(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function EM(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function _M(){return{flow:{null:{name:"table",tokenize:TM,resolveAll:yM}}}}function TM(t,e,n){const r=this;let i=0,s=0,o;return a;function a(T){let O=r.events.length-1;for(;O>-1;){const ye=r.events[O][1].type;if(ye==="lineEnding"||ye==="linePrefix")O--;else break}const F=O>-1?r.events[O][1].type:null,x=F==="tableHead"||F==="tableRow"?U:u;return x===U&&r.parser.lazy[r.now().line]?n(T):x(T)}function u(T){return t.enter("tableHead"),t.enter("tableRow"),c(T)}function c(T){return T===124||(o=!0,s+=1),d(T)}function d(T){return T===null?n(T):oe(T)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),g):n(T):_e(T)?Ce(t,d,"whitespace")(T):(s+=1,o&&(o=!1,i+=1),T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),f(T)))}function f(T){return T===null||T===124||Oe(T)?(t.exit("data"),d(T)):(t.consume(T),T===92?m:f)}function m(T){return T===92||T===124?(t.consume(T),f):f(T)}function g(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(t.enter("tableDelimiterRow"),o=!1,_e(T)?Ce(t,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):_(T))}function _(T){return T===45||T===58?P(T):T===124?(o=!0,t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),k):W(T)}function k(T){return _e(T)?Ce(t,P,"whitespace")(T):P(T)}function P(T){return T===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),y):T===45?(s+=1,y(T)):T===null||oe(T)?B(T):W(T)}function y(T){return T===45?(t.enter("tableDelimiterFiller"),I(T)):W(T)}function I(T){return T===45?(t.consume(T),I):T===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(T),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(T))}function w(T){return _e(T)?Ce(t,B,"whitespace")(T):B(T)}function B(T){return T===124?_(T):T===null||oe(T)?!o||i!==s?W(T):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(T)):W(T)}function W(T){return n(T)}function U(T){return t.enter("tableRow"),R(T)}function R(T){return T===124?(t.enter("tableCellDivider"),t.consume(T),t.exit("tableCellDivider"),R):T===null||oe(T)?(t.exit("tableRow"),e(T)):_e(T)?Ce(t,R,"whitespace")(T):(t.enter("data"),C(T))}function C(T){return T===null||T===124||Oe(T)?(t.exit("data"),R(T)):(t.consume(T),T===92?N:C)}function N(T){return T===92||T===124?(t.consume(T),C):C(T)}}function yM(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,c,d,f;const m=new mM;for(;++n<t.length;){const g=t[n],_=g[1];g[0]==="enter"?_.type==="tableHead"?(a=!1,u!==0&&(v_(m,e,u,c,d),d=void 0,u=0),c={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},m.add(n,0,[["enter",c,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},m.add(n,0,[["enter",d,e]])),i=_.type==="tableDelimiterRow"?2:d?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=Sl(m,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=Sl(m,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):_.type==="tableHead"?(a=!0,u=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],f=Sl(m,e,s,i,n,f)):o[1]!==0&&(f=Sl(m,e,o,i,n,f)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&v_(m,e,u,c,d),m.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=EM(e.events,n))}return t}function Sl(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ys(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const u=ys(e.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=ys(e.events,n[2]),d=ys(e.events,n[3]),f={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const m=e.events[n[2]],g=e.events[n[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,k=n[3]-n[2]-1;t.add(_,k,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},ys(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function v_(t,e,n,r,i){const s=[],o=ys(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function ys(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const IM={name:"tasklistCheck",tokenize:AM};function vM(){return{text:{91:IM}}}function AM(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),s)}function s(u){return Oe(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(u)}function a(u){return oe(u)?e(u):_e(u)?t.check({tokenize:bM},e,n)(u):n(u)}}function bM(t,e,n){return Ce(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function CM(t){return Nv([QD(),oM(),pM(t),_M(),vM()])}const wM={};function l2(t){const e=this,n=t||wM,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(CM(n)),s.push(qD()),o.push(YD(n))}function ro(t){return v.jsx("div",{className:"header",children:v.jsx("div",{className:"intro_text",children:v.jsx(Jv,{remarkPlugins:[l2],rehypePlugins:[VA],children:t.content})})})}const SM=`## Welcome to my blog

Here I post about pretty much anything I want, if I want to write, I'll write here.

Writing does good things to your mind, I guess. Just click on a post do display it.

(Click on my name to go back to the homepage)
`,nf=[[`# New looks and new feels

Lately Ive been going through a major shift in my career  moving from pure 
programming to the world of automotive engineering and electronics. At first, 
it was hard to let go of the software-heavy projects I was used to. But nothing 
compares to the feeling of watching something you built move, literally, 
at 50 km/h inside a Baja SAE vehicle. That moment changes everything.

Ive always been a petrolhead. I love driving, I love cars, and  although I only 
realized it recently  I always had in me the potential to become an engineer. 
Joining the Mangue Baja team made everything click. It was as if someone finally 
wiped the fog off the window Id been trying to look through for years.

Now that Ive found what I truly want to do, work doesnt feel like work anymore. 
It doesnt drain me, and it never feels like a chore. Im excited  genuinely excited 
 to design new ECUs, to test electronics, and to help my team build the best car we possibly can.

And thats when I realized something important:
a Baja project isnt just a project. Its a _way of life_. It changes how you think, 
how you work, how you grow. It turns engineering into passion, and passion into purpose.

`,`
Lately Ive been going through a major shift in my career  moving from pure `,`
programming to the world of automotive engineering and electronics. At first, `]];let c2=[];for(const t in nf)if(nf.hasOwnProperty(t)){let e=nf[t];c2.push([e[0],e[1],e[2]])}const A_=c2.reverse();function kM(){te.useEffect(()=>{window.scrollTo(0,0)},[]);const t=A_[0][0],[e,n]=te.useState(t),[r,i]=te.useState("Most recent post:");function s(o){n(o),o==t?i("Most recent post:"):i("Highlighted post:")}return v.jsxs(v.Fragment,{children:[v.jsx(ro,{content:SM}),v.jsxs("h1",{className:"recent_post_h1",children:[" ",r," "]}),v.jsx(ro,{content:e}),v.jsx("h1",{className:"recent_post_h1",children:" Posts: "}),v.jsx("ul",{className:"older_posts_ul",children:A_.map(o=>v.jsxs("li",{onClick:()=>s(o[0]),children:[" ",o[1]," - ",o[2],"   "]}))})]})}const RM=[`## Dune, first book

![image](https://m.media-amazon.com/images/I/81zN7udGRUL._AC_UF1000,1000_QL80_.jpg)

Time of reading: _July 2024 - August 2024_

The book dives into big themes like power, religion, and ecology, but its also packed with action, complex characters, and world-building. It can be a bit slow at times, but once youre in, its an epic tale that sticks with you. If youre into deep, thought-provoking sci-fi, Dune is definitely worth checking out.

The two first books are the best.
`,`## Dune, second book

![image](https://m.media-amazon.com/images/I/817Xh+bqwOL._SY342_.jpg)

Time of reading: _August 2024 - August 2024_

Compared to the first book, Dune Messiah is darker and more introspective. Its less about big battles and desert survival, and more about the cost of power and Paul trying to balance his responsibilities with the things he's lost along the way. Some readers find it slower and more philosophical, but if youre into the more thoughtful side of the Dune universe, its a fascinating follow-up.

Also, my favourite book in the series.
`,`## Don Quixote

![image](https://m.media-amazon.com/images/I/81kIVgGfc+L._SY342_.jpg)

Time of reading: some time in 2021

The novel is both hilarious and touching, mixing comedy with deeper themes about idealism, reality, and the clash between fantasy and the real world. Don Quixote's delusions get him into all sorts of trouble, but you cant help but root for him. Its a long read, but its humor, clever commentary, and memorable characters make it one of the most beloved works of literature.

`,`## The old man and the sea

## My favourite book

![image](https://m.media-amazon.com/images/I/71wo6d7Ex3L._SY342_.jpg)

Time of reading: 2020, re-read many times

Its a simple but intense story about endurance, pride, and the struggle between man and nature. Hemingways writing is straightforward and minimalist, but it packs a punch with its deeper themes about dignity, perseverance, and the human spirit. Its an easy read, but the emotional weight it carries makes it a timeless classic. If you like stories about resilience and quiet strength, The Old Man and the Sea will definitely resonate with you.

`],NM=`## Welcome to my bookshelf

I'm not the bookworm type of guy, actually, I'm a **very** slow reader.

But, I've always liked to read a book or two per semester tough. So here you'll find some of the books I like.

Maybe some half-written reviews too.


`;function xM(){return te.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx(ro,{content:NM}),v.jsxs("h1",{className:"bookshelf_h1",children:[" ",v.jsx("i",{children:"Books:"})," "]}),RM.map(t=>v.jsx("section",{className:"book_section",children:v.jsx(ro,{content:t})}))]})}const b_=[[`Lgrima
`,`Franciso Trrega
`,`One of the first songs I've ever learned, fantastic prelude for solo guitar. A intermediate song, not one of the hard ones, but also not one of the easy ones.
`,`https://drive.google.com/file/d/1HECs38Pwehu6nM5JeNsMfLBvp0fpYPmT/view?usp=sharing
`],[`Etude in C Major
`,`Francisco Trrega
`,`A simple study composted by Trrega, great for begginer and intermediate level guitarrists.
`,`https://drive.google.com/file/d/1uIcnvonsx89ZHyeBAjes-hiVTfx4sLq0/view?usp=sharing
`],[`Etude in E Minor
`,`Francisco Trrega
`,`Most famous Trrega etude, simple but beautiful. Ideal for begginers.
`,`https://drive.google.com/file/d/1RdaUlE1H89McyyIbf0CsCFPYm-ThwiuN/view?usp=sharing
`],[`Les Marionnettes
`,`Rmi Bouchard
`,`An easy song, good for improving sight-reading. It's a beautiful meloally great to play for children or people who get impressedeasily.
`,`https://youtu.be/eat5iTWvOlo
`],[`Sarabande
`,`Anonymous
`,`The sarabande is a dance in triple metre, this is a great example for guitar!
`,`https://youtu.be/ncz9Q27ZCiY
`],[`Gymnopdie No.1
`,`Erik Satie, arranged by Pedro Chagas
`,`Um ritmo calmo, dana grega cheia de nuances.
`,`
`]],PM=`## Welcome to my classical guitar repertoire

Here I wish to post **only** the songs that I "perfected" in the __Pernambuco Music Conservatory__.

I do this because, the more I learned, I noticed that yes, I can play a lot of songs, but the performing aspect lacked some crucial details, such as correct left hand finger positions.

For that, I'll post here the pieces that were approved and presented to my teachers at the conservatory. Eventually, I plan on posting my performances.
`;function LM(){return te.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx(ro,{content:PM}),v.jsx("h1",{className:"pieces_h1",children:" List of pieces "}),v.jsx("ul",{className:"pieces_list",children:b_.map(t=>v.jsx("li",{children:v.jsxs("a",{href:t[3],children:[t[0]," - ",t[1]]})}))}),v.jsxs("h1",{className:"pieces_h1",children:[" ",v.jsx("i",{children:"Pieces with description:"})," "]}),b_.map(t=>v.jsxs("section",{className:"piece_section",children:[v.jsxs("h2",{className:"name",children:[" ",t[0]," "]}),v.jsxs("h3",{className:"author",children:[" ",v.jsx("i",{children:t[1]})," "]}),v.jsx("p",{className:"description",children:t[2]})]}))]})}const OM=`## Hey, welcome to my notebook

This is one of my projects under development, a web text editor that I use as a 
note taking app.

My caligraphy is terrible for physical note-taking, so this will be my markdown 
online editor.
`;var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},d2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new MM;const m=s<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FM=function(t){const e=h2(t);return d2.encodeByteArray(e,!0)},Uc=function(t){return FM(t).replace(/\./g,"")},f2=function(t){try{return d2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UM(n)||(t[n]=Bc(t[n],e[n]));return t}function UM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=()=>p2().__FIREBASE_DEFAULTS__,VM=()=>{if(typeof process>"u"||typeof C_>"u")return;const t=C_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f2(t[1]);return e&&JSON.parse(e)},Ph=()=>{try{return BM()||VM()||HM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m2=t=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jM=t=>{const e=m2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g2=()=>{var t;return(t=Ph())===null||t===void 0?void 0:t.config},E2=t=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function qM(){var t;const e=(t=Ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YM(){return typeof window<"u"||_2()}function _2(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function GM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QM(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XM(){return!qM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JM(){try{return typeof indexedDB=="object"}catch{return!1}}function ZM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e9,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,us.prototype.create)}}class us{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?t9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function t9(t,e){return t.replace(n9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(S_(s)&&S_(o)){if(!Vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function T2(t,e){const n=new i9(t,e);return n.subscribe.bind(n)}class i9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rf),i.error===void 0&&(i.error=rf),i.complete===void 0&&(i.complete=rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u9(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a9(t){return t===xi?void 0:t}function u9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=[];var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const I2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},l9=Ie.INFO,c9={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},h9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=l9,this._logHandler=h9,this._userLogHandler=null,u0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}function d9(t){u0.forEach(e=>{e.setLogLevel(t)})}function f9(t,e){for(const n of u0){let r=null;e&&e.level&&(r=I2[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:Ie[s].toLowerCase(),message:a,args:o,type:i.name})}}}const p9=(t,e)=>e.some(n=>t instanceof n);let k_,R_;function m9(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g9(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v2=new WeakMap,wp=new WeakMap,A2=new WeakMap,sf=new WeakMap,l0=new WeakMap;function E9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v2.set(n,t)}).catch(()=>{}),l0.set(e,t),e}function _9(t){if(wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wp.set(t,e)}let Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T9(t){Sp=t(Sp)}function y9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(of(this),e,...n);return A2.set(r,e.sort?e.sort():[e]),ai(r)}:g9().includes(t)?function(...e){return t.apply(of(this),e),ai(v2.get(this))}:function(...e){return ai(t.apply(of(this),e))}}function I9(t){return typeof t=="function"?y9(t):(t instanceof IDBTransaction&&_9(t),p9(t,m9())?new Proxy(t,Sp):t)}function ai(t){if(t instanceof IDBRequest)return E9(t);if(sf.has(t))return sf.get(t);const e=I9(t);return e!==t&&(sf.set(t,e),l0.set(e,t)),e}const of=t=>l0.get(t);function v9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ai(o.result),u.oldVersion,u.newVersion,ai(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const A9=["get","getKey","getAll","getAllKeys","count"],b9=["put","add","delete","clear"],af=new Map;function N_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A9.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return af.set(e,s),s}T9(t=>({...t,get:(e,n,r)=>N_(e,n)||t.get(e,n,r),has:(e,n)=>!!N_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hc="@firebase/app",kp="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Lh("@firebase/app"),S9="@firebase/app-compat",k9="@firebase/analytics-compat",R9="@firebase/analytics",N9="@firebase/app-check-compat",x9="@firebase/app-check",P9="@firebase/auth",L9="@firebase/auth-compat",O9="@firebase/database",D9="@firebase/database-compat",M9="@firebase/functions",F9="@firebase/functions-compat",U9="@firebase/installations",B9="@firebase/installations-compat",V9="@firebase/messaging",H9="@firebase/messaging-compat",j9="@firebase/performance",z9="@firebase/performance-compat",$9="@firebase/remote-config",W9="@firebase/remote-config-compat",q9="@firebase/storage",Y9="@firebase/storage-compat",G9="@firebase/firestore",K9="@firebase/vertexai-preview",Q9="@firebase/firestore-compat",X9="firebase",J9="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]",Z9={[Hc]:"fire-core",[S9]:"fire-core-compat",[R9]:"fire-analytics",[k9]:"fire-analytics-compat",[x9]:"fire-app-check",[N9]:"fire-app-check-compat",[P9]:"fire-auth",[L9]:"fire-auth-compat",[O9]:"fire-rtdb",[D9]:"fire-rtdb-compat",[M9]:"fire-fn",[F9]:"fire-fn-compat",[U9]:"fire-iid",[B9]:"fire-iid-compat",[V9]:"fire-fcm",[H9]:"fire-fcm-compat",[j9]:"fire-perf",[z9]:"fire-perf-compat",[$9]:"fire-rc",[W9]:"fire-rc-compat",[q9]:"fire-gcs",[Y9]:"fire-gcs-compat",[G9]:"fire-fst",[Q9]:"fire-fst-compat",[K9]:"fire-vertex","fire-js":"fire-js",[X9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Map,io=new Map,so=new Map;function lu(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function b2(t,e){t.container.addOrOverwriteComponent(e)}function pi(t){const e=t.name;if(so.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;so.set(e,t);for(const n of fi.values())lu(n,t);for(const n of io.values())lu(n,t);return!0}function Pu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function e8(t,e,n=di){Pu(t,e).clearInstance(n)}function C2(t){return t.options!==void 0}function Wn(t){return t.settings!==void 0}function t8(){so.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new us("app","Firebase",n8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w2=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8 extends w2{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Dn(Hc,kp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){d0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=J9;function c0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:di,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=g2()),!n)throw Tn.create("no-options");const s=fi.get(i);if(s){if(Vc(n,s.options)&&Vc(r,s.config))return s;throw Tn.create("duplicate-app",{appName:i})}const o=new y2(i);for(const u of so.values())o.addComponent(u);const a=new w2(n,r,o);return fi.set(i,a),a}function i8(t,e){if(YM()&&!_2())throw Tn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;C2(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,f)=>Math.imul(31,d)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Tn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=io.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new y2(s);for(const c of so.values())a.addComponent(c);const u=new r8(n,e,s,a);return io.set(s,u),u}function h0(t=di){const e=fi.get(t);if(!e&&t===di&&g2())return c0();if(!e)throw Tn.create("no-app",{appName:t});return e}function s8(){return Array.from(fi.values())}async function d0(t){let e=!1;const n=t.name;fi.has(n)?(e=!0,fi.delete(n)):io.has(n)&&t.decRefCount()<=0&&(io.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Dn(t,e,n){var r;let i=(r=Z9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}pi(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function S2(t,e){if(t!==null&&typeof t!="function")throw Tn.create("invalid-log-argument");f9(t,e)}function k2(t){d9(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="firebase-heartbeat-database",a8=1,cu="firebase-heartbeat-store";let uf=null;function R2(){return uf||(uf=v9(o8,a8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),uf}async function u8(t){try{const n=(await R2()).transaction(cu),r=await n.objectStore(cu).get(N2(t));return await n.done,r}catch(e){if(e instanceof rr)Ir.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function x_(t,e){try{const r=(await R2()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,N2(t)),await r.done}catch(n){if(n instanceof rr)Ir.warn(n.message);else{const r=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function N2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=1024,c8=30*24*60*60*1e3;class h8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=c8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:r,unsentEntries:i}=d8(this._heartbeatsCache.heartbeats),s=Uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ir.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function d8(t,e=l8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JM()?ZM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L_(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){pi(new hi("platform-logger",e=>new C9(e),"PRIVATE")),pi(new hi("heartbeat",e=>new h8(e),"PRIVATE")),Dn(Hc,kp,t),Dn(Hc,kp,"esm2017"),Dn("fire-js","")}p8("");const m8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rr,SDK_VERSION:Ai,_DEFAULT_ENTRY_NAME:di,_addComponent:lu,_addOrOverwriteComponent:b2,_apps:fi,_clearComponents:t8,_components:so,_getProvider:Pu,_isFirebaseApp:C2,_isFirebaseServerApp:Wn,_registerComponent:pi,_removeServiceInstance:e8,_serverApps:io,deleteApp:d0,getApp:h0,getApps:s8,initializeApp:c0,initializeServerApp:i8,onLog:S2,registerVersion:Dn,setLogLevel:k2},Symbol.toStringTag,{value:"Module"}));var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,x2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function N(){}N.prototype=C.prototype,R.D=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(T,O,F){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return C.prototype[O].apply(T,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,N){N||(N=0);var T=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)T[O]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(O=0;16>O;++O)T[O]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],O=R.g[2];var F=R.g[3],x=C+(F^N&(O^F))+T[0]+3614090360&4294967295;C=N+(x<<7&4294967295|x>>>25),x=F+(O^C&(N^O))+T[1]+3905402710&4294967295,F=C+(x<<12&4294967295|x>>>20),x=O+(N^F&(C^N))+T[2]+606105819&4294967295,O=F+(x<<17&4294967295|x>>>15),x=N+(C^O&(F^C))+T[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=C+(F^N&(O^F))+T[4]+4118548399&4294967295,C=N+(x<<7&4294967295|x>>>25),x=F+(O^C&(N^O))+T[5]+1200080426&4294967295,F=C+(x<<12&4294967295|x>>>20),x=O+(N^F&(C^N))+T[6]+2821735955&4294967295,O=F+(x<<17&4294967295|x>>>15),x=N+(C^O&(F^C))+T[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=C+(F^N&(O^F))+T[8]+1770035416&4294967295,C=N+(x<<7&4294967295|x>>>25),x=F+(O^C&(N^O))+T[9]+2336552879&4294967295,F=C+(x<<12&4294967295|x>>>20),x=O+(N^F&(C^N))+T[10]+4294925233&4294967295,O=F+(x<<17&4294967295|x>>>15),x=N+(C^O&(F^C))+T[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=C+(F^N&(O^F))+T[12]+1804603682&4294967295,C=N+(x<<7&4294967295|x>>>25),x=F+(O^C&(N^O))+T[13]+4254626195&4294967295,F=C+(x<<12&4294967295|x>>>20),x=O+(N^F&(C^N))+T[14]+2792965006&4294967295,O=F+(x<<17&4294967295|x>>>15),x=N+(C^O&(F^C))+T[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=C+(O^F&(N^O))+T[1]+4129170786&4294967295,C=N+(x<<5&4294967295|x>>>27),x=F+(N^O&(C^N))+T[6]+3225465664&4294967295,F=C+(x<<9&4294967295|x>>>23),x=O+(C^N&(F^C))+T[11]+643717713&4294967295,O=F+(x<<14&4294967295|x>>>18),x=N+(F^C&(O^F))+T[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=C+(O^F&(N^O))+T[5]+3593408605&4294967295,C=N+(x<<5&4294967295|x>>>27),x=F+(N^O&(C^N))+T[10]+38016083&4294967295,F=C+(x<<9&4294967295|x>>>23),x=O+(C^N&(F^C))+T[15]+3634488961&4294967295,O=F+(x<<14&4294967295|x>>>18),x=N+(F^C&(O^F))+T[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=C+(O^F&(N^O))+T[9]+568446438&4294967295,C=N+(x<<5&4294967295|x>>>27),x=F+(N^O&(C^N))+T[14]+3275163606&4294967295,F=C+(x<<9&4294967295|x>>>23),x=O+(C^N&(F^C))+T[3]+4107603335&4294967295,O=F+(x<<14&4294967295|x>>>18),x=N+(F^C&(O^F))+T[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=C+(O^F&(N^O))+T[13]+2850285829&4294967295,C=N+(x<<5&4294967295|x>>>27),x=F+(N^O&(C^N))+T[2]+4243563512&4294967295,F=C+(x<<9&4294967295|x>>>23),x=O+(C^N&(F^C))+T[7]+1735328473&4294967295,O=F+(x<<14&4294967295|x>>>18),x=N+(F^C&(O^F))+T[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=C+(N^O^F)+T[5]+4294588738&4294967295,C=N+(x<<4&4294967295|x>>>28),x=F+(C^N^O)+T[8]+2272392833&4294967295,F=C+(x<<11&4294967295|x>>>21),x=O+(F^C^N)+T[11]+1839030562&4294967295,O=F+(x<<16&4294967295|x>>>16),x=N+(O^F^C)+T[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=C+(N^O^F)+T[1]+2763975236&4294967295,C=N+(x<<4&4294967295|x>>>28),x=F+(C^N^O)+T[4]+1272893353&4294967295,F=C+(x<<11&4294967295|x>>>21),x=O+(F^C^N)+T[7]+4139469664&4294967295,O=F+(x<<16&4294967295|x>>>16),x=N+(O^F^C)+T[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=C+(N^O^F)+T[13]+681279174&4294967295,C=N+(x<<4&4294967295|x>>>28),x=F+(C^N^O)+T[0]+3936430074&4294967295,F=C+(x<<11&4294967295|x>>>21),x=O+(F^C^N)+T[3]+3572445317&4294967295,O=F+(x<<16&4294967295|x>>>16),x=N+(O^F^C)+T[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=C+(N^O^F)+T[9]+3654602809&4294967295,C=N+(x<<4&4294967295|x>>>28),x=F+(C^N^O)+T[12]+3873151461&4294967295,F=C+(x<<11&4294967295|x>>>21),x=O+(F^C^N)+T[15]+530742520&4294967295,O=F+(x<<16&4294967295|x>>>16),x=N+(O^F^C)+T[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=C+(O^(N|~F))+T[0]+4096336452&4294967295,C=N+(x<<6&4294967295|x>>>26),x=F+(N^(C|~O))+T[7]+1126891415&4294967295,F=C+(x<<10&4294967295|x>>>22),x=O+(C^(F|~N))+T[14]+2878612391&4294967295,O=F+(x<<15&4294967295|x>>>17),x=N+(F^(O|~C))+T[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=C+(O^(N|~F))+T[12]+1700485571&4294967295,C=N+(x<<6&4294967295|x>>>26),x=F+(N^(C|~O))+T[3]+2399980690&4294967295,F=C+(x<<10&4294967295|x>>>22),x=O+(C^(F|~N))+T[10]+4293915773&4294967295,O=F+(x<<15&4294967295|x>>>17),x=N+(F^(O|~C))+T[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=C+(O^(N|~F))+T[8]+1873313359&4294967295,C=N+(x<<6&4294967295|x>>>26),x=F+(N^(C|~O))+T[15]+4264355552&4294967295,F=C+(x<<10&4294967295|x>>>22),x=O+(C^(F|~N))+T[6]+2734768916&4294967295,O=F+(x<<15&4294967295|x>>>17),x=N+(F^(O|~C))+T[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=C+(O^(N|~F))+T[4]+4149444226&4294967295,C=N+(x<<6&4294967295|x>>>26),x=F+(N^(C|~O))+T[11]+3174756917&4294967295,F=C+(x<<10&4294967295|x>>>22),x=O+(C^(F|~N))+T[2]+718787259&4294967295,O=F+(x<<15&4294967295|x>>>17),x=N+(F^(O|~C))+T[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var N=C-this.blockSize,T=this.B,O=this.h,F=0;F<C;){if(O==0)for(;F<=N;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<C;)if(T[O++]=R.charCodeAt(F++),O==this.blockSize){i(this,T),O=0;break}}else for(;F<C;)if(T[O++]=R[F++],O==this.blockSize){i(this,T),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var N=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=N&255,N/=256;for(this.u(R),R=Array(16),C=N=0;4>C;++C)for(var T=0;32>T;T+=8)R[N++]=this.g[C]>>>T&255;return R};function s(R,C){var N=a;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function o(R,C){this.h=C;for(var N=[],T=!0,O=R.length-1;0<=O;O--){var F=R[O]|0;T&&F==C||(N[O]=F,T=!1)}this.g=N}var a={};function u(R){return-128<=R&&128>R?s(R,function(C){return new o([C|0],0>C?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return f;if(0>R)return P(c(-R));for(var C=[],N=1,T=0;R>=N;T++)C[T]=R/N|0,N*=4294967296;return new o(C,0)}function d(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return P(d(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(C,8)),T=f,O=0;O<R.length;O+=8){var F=Math.min(8,R.length-O),x=parseInt(R.substring(O,O+F),C);8>F?(F=c(Math.pow(C,F)),T=T.j(F).add(c(x))):(T=T.j(N),T=T.add(c(x)))}return T}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();for(var R=0,C=1,N=0;N<this.g.length;N++){var T=this.i(N);R+=(0<=T?T:4294967296+T)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(_(this))return"0";if(k(this))return"-"+P(this).toString(R);for(var C=c(Math.pow(R,6)),N=this,T="";;){var O=B(N,C).g;N=y(N,O.j(C));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=O,_(N))return F+T;for(;6>F.length;)F="0"+F;T=F+T}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function _(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=y(this,R),k(R)?-1:_(R)?0:1};function P(R){for(var C=R.g.length,N=[],T=0;T<C;T++)N[T]=~R.g[T];return new o(N,~R.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],T=0,O=0;O<=C;O++){var F=T+(this.i(O)&65535)+(R.i(O)&65535),x=(F>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);T=x>>>16,F&=65535,x&=65535,N[O]=x<<16|F}return new o(N,N[N.length-1]&-2147483648?-1:0)};function y(R,C){return R.add(P(C))}t.j=function(R){if(_(this)||_(R))return f;if(k(this))return k(R)?P(this).j(P(R)):P(P(this).j(R));if(k(R))return P(this.j(P(R)));if(0>this.l(g)&&0>R.l(g))return c(this.m()*R.m());for(var C=this.g.length+R.g.length,N=[],T=0;T<2*C;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(var O=0;O<R.g.length;O++){var F=this.i(T)>>>16,x=this.i(T)&65535,ye=R.i(O)>>>16,pe=R.i(O)&65535;N[2*T+2*O]+=x*pe,I(N,2*T+2*O),N[2*T+2*O+1]+=F*pe,I(N,2*T+2*O+1),N[2*T+2*O+1]+=x*ye,I(N,2*T+2*O+1),N[2*T+2*O+2]+=F*ye,I(N,2*T+2*O+2)}for(T=0;T<C;T++)N[T]=N[2*T+1]<<16|N[2*T];for(T=C;T<2*C;T++)N[T]=0;return new o(N,0)};function I(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function w(R,C){this.g=R,this.h=C}function B(R,C){if(_(C))throw Error("division by zero");if(_(R))return new w(f,f);if(k(R))return C=B(P(R),C),new w(P(C.g),P(C.h));if(k(C))return C=B(R,P(C)),new w(P(C.g),C.h);if(30<R.g.length){if(k(R)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var N=m,T=C;0>=T.l(R);)N=W(N),T=W(T);var O=U(N,1),F=U(T,1);for(T=U(T,2),N=U(N,2);!_(T);){var x=F.add(T);0>=x.l(R)&&(O=O.add(N),F=x),T=U(T,1),N=U(N,1)}return C=y(R,O.j(C)),new w(O,C)}for(O=f;0<=R.l(C);){for(N=Math.max(1,Math.floor(R.m()/C.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),F=c(N),x=F.j(C);k(x)||0<x.l(R);)N-=T,F=c(N),x=F.j(C);_(F)&&(F=m),O=O.add(F),R=y(R,x)}return new w(O,R)}t.A=function(R){return B(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],T=0;T<C;T++)N[T]=this.i(T)&R.i(T);return new o(N,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],T=0;T<C;T++)N[T]=this.i(T)|R.i(T);return new o(N,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],T=0;T<C;T++)N[T]=this.i(T)^R.i(T);return new o(N,this.h^R.h)};function W(R){for(var C=R.g.length+1,N=[],T=0;T<C;T++)N[T]=R.i(T)<<1|R.i(T-1)>>>31;return new o(N,R.h)}function U(R,C){var N=C>>5;C%=32;for(var T=R.g.length-N,O=[],F=0;F<T;F++)O[F]=0<C?R.i(F+N)>>>C|R.i(F+N+1)<<32-C:R.i(F+N);return new o(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ji=o}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P2,L2,ma,O2,Kl,Rp,D2,M2,F2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,E){return l==Array.prototype||l==Object.prototype||(l[p]=E.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var p=0;p<l.length;++p){var E=l[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(l,p){if(p)e:{var E=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var V=l[b];if(!(V in E))break e;E=E[V]}l=l[l.length-1],b=E[l],p=p(b),p!=b&&p!=null&&e(E,l,{configurable:!0,writable:!0,value:p})}}function s(l,p){l instanceof String&&(l+="");var E=0,b=!1,V={next:function(){if(!b&&E<l.length){var z=E++;return{value:p(z,l[z]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return s(this,function(p,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function c(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function d(l,p,E){return l.call.apply(l.bind,arguments)}function f(l,p,E){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),l.apply(p,V)}}return function(){return l.apply(p,arguments)}}function m(l,p,E){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,p){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function _(l,p){function E(){}E.prototype=p.prototype,l.aa=p.prototype,l.prototype=new E,l.prototype.constructor=l,l.Qb=function(b,V,z){for(var ee=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ee[Le-2]=arguments[Le];return p.prototype[V].apply(b,ee)}}function k(l){const p=l.length;if(0<p){const E=Array(p);for(let b=0;b<p;b++)E[b]=l[b];return E}return[]}function P(l,p){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(u(b)){const V=l.length||0,z=b.length||0;l.length=V+z;for(let ee=0;ee<z;ee++)l[V+ee]=b[ee]}else l.push(b)}}class y{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function B(l){return B[" "](l),l}B[" "]=function(){};var W=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(l,p,E){for(const b in l)p.call(E,l[b],b,l)}function R(l,p){for(const E in l)p.call(void 0,l[E],E,l)}function C(l){const p={};for(const E in l)p[E]=l[E];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,p){let E,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(E in b)l[E]=b[E];for(let z=0;z<N.length;z++)E=N[z],Object.prototype.hasOwnProperty.call(b,E)&&(l[E]=b[E])}}function O(l){var p=1;l=l.split(":");const E=[];for(;0<p&&l.length;)E.push(l.shift()),p--;return l.length&&E.push(l.join(":")),E}function F(l){a.setTimeout(()=>{throw l},0)}function x(){var l=ie;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,E){const b=pe.get();b.set(p,E),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new y(()=>new Ge,l=>l.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Z=!1,ie=new ye,L=()=>{const l=a.Promise.resolve(void 0);xe=()=>{l.then(Ae)}};var Ae=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(E){F(E)}var p=pe;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}Z=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const E=()=>{};a.addEventListener("test",E,p),a.removeEventListener("test",E,p)}catch{}return l}();function pt(l,p){if(M.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var E=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(W){e:{try{B(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else E=="mouseover"?p=l.fromElement:E=="mouseout"&&(p=l.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&pt.aa.h.call(this)}}_(pt,M);var Pe={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function Sr(l,p,E,b,V){this.listener=l,this.proxy=null,this.src=p,this.type=E,this.capture=!!b,this.ha=V,this.key=++Bn,this.da=this.fa=!1}function bn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ir(l){this.src=l,this.g={},this.h=0}ir.prototype.add=function(l,p,E,b,V){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var ee=No(l,p,b,V);return-1<ee?(p=l[ee],E||(p.fa=!1)):(p=new Sr(p,this.src,z,!!b,V),p.fa=E,l.push(p)),p};function Ro(l,p){var E=p.type;if(E in l.g){var b=l.g[E],V=Array.prototype.indexOf.call(b,p,void 0),z;(z=0<=V)&&Array.prototype.splice.call(b,V,1),z&&(bn(p),l.g[E].length==0&&(delete l.g[E],l.h--))}}function No(l,p,E,b){for(var V=0;V<l.length;++V){var z=l[V];if(!z.da&&z.listener==p&&z.capture==!!E&&z.ha==b)return V}return-1}var xo="closure_lm_"+(1e6*Math.random()|0),hs={};function Po(l,p,E,b,V){if(Array.isArray(p)){for(var z=0;z<p.length;z++)Po(l,p[z],E,b,V);return null}return E=$u(E),l&&l[Mt]?l.K(p,E,c(b)?!!b.capture:!!b,V):ju(l,p,E,!1,b,V)}function ju(l,p,E,b,V,z){if(!p)throw Error("Invalid event type");var ee=c(V)?!!V.capture:!!V,Le=Oo(l);if(Le||(l[xo]=Le=new ir(l)),E=Le.add(p,E,b,ee,z),E.proxy)return E;if(b=Kh(),E.proxy=b,b.src=l,b.listener=E,l.addEventListener)Xe||(V=ee),V===void 0&&(V=!1),l.addEventListener(p.toString(),b,V);else if(l.attachEvent)l.attachEvent(zu(p.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Kh(){function l(E){return p.call(l.src,l.listener,E)}const p=Qh;return l}function Lo(l,p,E,b,V){if(Array.isArray(p))for(var z=0;z<p.length;z++)Lo(l,p[z],E,b,V);else b=c(b)?!!b.capture:!!b,E=$u(E),l&&l[Mt]?(l=l.i,p=String(p).toString(),p in l.g&&(z=l.g[p],E=No(z,E,b,V),-1<E&&(bn(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete l.g[p],l.h--)))):l&&(l=Oo(l))&&(p=l.g[p.toString()],l=-1,p&&(l=No(p,E,b,V)),(E=-1<l?p[l]:null)&&ds(E))}function ds(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Mt])Ro(p.i,l);else{var E=l.type,b=l.proxy;p.removeEventListener?p.removeEventListener(E,b,l.capture):p.detachEvent?p.detachEvent(zu(E),b):p.addListener&&p.removeListener&&p.removeListener(b),(E=Oo(p))?(Ro(E,l),E.h==0&&(E.src=null,p[xo]=null)):bn(l)}}}function zu(l){return l in hs?hs[l]:hs[l]="on"+l}function Qh(l,p){if(l.da)l=!0;else{p=new pt(p,this);var E=l.listener,b=l.ha||l.src;l.fa&&ds(l),l=E.call(b,p)}return l}function Oo(l){return l=l[xo],l instanceof ir?l:null}var Do="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(l){return typeof l=="function"?l:(l[Do]||(l[Do]=function(p){return l.handleEvent(p)}),l[Do])}function $(){Ee.call(this),this.i=new ir(this),this.M=this,this.F=null}_($,Ee),$.prototype[Mt]=!0,$.prototype.removeEventListener=function(l,p,E,b){Lo(this,l,p,E,b)};function Q(l,p){var E,b=l.F;if(b)for(E=[];b;b=b.F)E.push(b);if(l=l.M,b=p.type||p,typeof p=="string")p=new M(p,l);else if(p instanceof M)p.target=p.target||l;else{var V=p;p=new M(b,l),T(p,V)}if(V=!0,E)for(var z=E.length-1;0<=z;z--){var ee=p.g=E[z];V=ue(ee,b,!0,p)&&V}if(ee=p.g=l,V=ue(ee,b,!0,p)&&V,V=ue(ee,b,!1,p)&&V,E)for(z=0;z<E.length;z++)ee=p.g=E[z],V=ue(ee,b,!1,p)&&V}$.prototype.N=function(){if($.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var E=l.g[p],b=0;b<E.length;b++)bn(E[b]);delete l.g[p],l.h--}}this.F=null},$.prototype.K=function(l,p,E,b){return this.i.add(String(l),p,!1,E,b)},$.prototype.L=function(l,p,E,b){return this.i.add(String(l),p,!0,E,b)};function ue(l,p,E,b){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,z=0;z<p.length;++z){var ee=p[z];if(ee&&!ee.da&&ee.capture==E){var Le=ee.listener,mt=ee.ha||ee.src;ee.fa&&Ro(l.i,ee),V=Le.call(mt,b)!==!1&&V}}return V&&!b.defaultPrevented}function ge(l,p,E){if(typeof l=="function")E&&(l=m(l,E));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Re(l){l.g=ge(()=>{l.g=null,l.i&&(l.i=!1,Re(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Xt extends Ee{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(l){Ee.call(this),this.h=l,this.g={}}_(Jt,Ee);var hn=[];function kr(l){U(l.g,function(p,E){this.g.hasOwnProperty(E)&&ds(p)},l),l.g={}}Jt.prototype.N=function(){Jt.aa.N.call(this),kr(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=a.JSON.stringify,Ft=a.JSON.parse,Rr=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Zt(){}Zt.prototype.h=null;function Z0(l){return l.h||(l.h=l.i())}function eg(){}var Mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xh(){M.call(this,"d")}_(Xh,M);function Jh(){M.call(this,"c")}_(Jh,M);var bi={},tg=null;function Wu(){return tg=tg||new $}bi.La="serverreachability";function ng(l){M.call(this,bi.La,l)}_(ng,M);function Fo(l){const p=Wu();Q(p,new ng(p))}bi.STAT_EVENT="statevent";function rg(l,p){M.call(this,bi.STAT_EVENT,l),this.stat=p}_(rg,M);function Ut(l){const p=Wu();Q(p,new rg(p,l))}bi.Ma="timingevent";function ig(l,p){M.call(this,bi.Ma,l),this.size=p}_(ig,M);function Uo(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function PC(l,p,E,b,V,z){l.info(function(){if(l.g)if(z)for(var ee="",Le=z.split("&"),mt=0;mt<Le.length;mt++){var Se=Le[mt].split("=");if(1<Se.length){var At=Se[0];Se=Se[1];var bt=At.split("_");ee=2<=bt.length&&bt[1]=="type"?ee+(At+"="+Se+"&"):ee+(At+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+p+`
`+E+`
`+ee})}function LC(l,p,E,b,V,z,ee){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+p+`
`+E+`
`+z+" "+ee})}function fs(l,p,E,b){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+DC(l,E)+(b?" "+b:"")})}function OC(l,p){l.info(function(){return"TIMEOUT: "+p})}Bo.prototype.info=function(){};function DC(l,p){if(!l.g)return p;if(!p)return null;try{var E=JSON.parse(p);if(E){for(l=0;l<E.length;l++)if(Array.isArray(E[l])){var b=E[l];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return sr(E)}catch{return p}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zh;function Yu(){}_(Yu,Zt),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},Zh=new Yu;function Nr(l,p,E,b){this.j=l,this.i=p,this.l=E,this.R=b||1,this.U=new Jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new og}function og(){this.i=null,this.g="",this.h=!1}var ag={},ed={};function td(l,p,E){l.L=1,l.v=Xu(or(p)),l.m=E,l.P=!0,ug(l,null)}function ug(l,p){l.F=Date.now(),Gu(l),l.A=or(l.v);var E=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),vg(E.i,"t",b),l.C=0,E=l.j.J,l.h=new og,l.g=Vg(l.j,E?p:null,!l.m),0<l.O&&(l.M=new Xt(m(l.Y,l,l.g),l.O)),p=l.U,E=l.g,b=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(hn[0]=V.toString()),V=hn);for(var z=0;z<V.length;z++){var ee=Po(E,V[z],b||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),Fo(),PC(l.i,l.u,l.A,l.l,l.R,l.m)}Nr.prototype.ca=function(l){l=l.target;const p=this.M;p&&ar(l)==3?p.j():this.Y(l)},Nr.prototype.Y=function(l){try{if(l==this.g)e:{const bt=ar(this.g);var p=this.g.Ba();const gs=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Rg(this.g)))){this.J||bt!=4||p==7||(p==8||0>=gs?Fo(3):Fo(2)),nd(this);var E=this.g.Z();this.X=E;t:if(lg(this)){var b=Rg(this.g);l="";var V=b.length,z=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Vo(this);var ee="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,l+=this.h.i.decode(b[p],{stream:!(z&&p==V-1)});b.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=E==200,LC(this.i,this.u,this.A,this.l,this.R,bt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,mt=this.g;if((Le=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Le)){var Se=Le;break t}}Se=null}if(E=Se)fs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rd(this,E);else{this.o=!1,this.s=3,Ut(12),Ci(this),Vo(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<ee.length;)if(Cn=MC(this,ee),Cn==ed){bt==4&&(this.s=4,Ut(14),E=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==ag){this.s=4,Ut(15),fs(this.i,this.l,ee,"[Invalid Chunk]"),E=!1;break}else fs(this.i,this.l,Cn,null),rd(this,Cn);if(lg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ee.length!=0||this.h.h||(this.s=1,Ut(16),E=!1),this.o=this.o&&E,!E)fs(this.i,this.l,ee,"[Invalid Chunked Response]"),Ci(this),Vo(this);else if(0<ee.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ld(At),At.M=!0,Ut(11))}}else fs(this.i,this.l,ee,null),rd(this,ee);bt==4&&Ci(this),this.o&&!this.J&&(bt==4?Mg(this.j,this):(this.o=!1,Gu(this)))}else ZC(this.g),E==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ci(this),Vo(this)}}}catch{}finally{}};function lg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function MC(l,p){var E=l.C,b=p.indexOf(`
`,E);return b==-1?ed:(E=Number(p.substring(E,b)),isNaN(E)?ag:(b+=1,b+E>p.length?ed:(p=p.slice(b,b+E),l.C=b+E,p)))}Nr.prototype.cancel=function(){this.J=!0,Ci(this)};function Gu(l){l.S=Date.now()+l.I,cg(l,l.I)}function cg(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Uo(m(l.ba,l),p)}function nd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Nr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(OC(this.i,this.A),this.L!=2&&(Fo(),Ut(17)),Ci(this),this.s=2,Vo(this)):cg(this,this.S-l)};function Vo(l){l.j.G==0||l.J||Mg(l.j,l)}function Ci(l){nd(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,kr(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function rd(l,p){try{var E=l.j;if(E.G!=0&&(E.g==l||id(E.h,l))){if(!l.K&&id(E.h,l)&&E.G==3){try{var b=E.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<l.F)nl(E),el(E);else break e;ud(E),Ut(18)}}else E.za=V[1],0<E.za-E.T&&37500>V[2]&&E.F&&E.v==0&&!E.C&&(E.C=Uo(m(E.Za,E),6e3));if(1>=fg(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Si(E,11)}else if((l.K||E.g==l)&&nl(E),!I(p))for(V=E.Da.g.parse(p),p=0;p<V.length;p++){let Se=V[p];if(E.T=Se[0],Se=Se[1],E.G==2)if(Se[0]=="c"){E.K=Se[1],E.ia=Se[2];const At=Se[3];At!=null&&(E.la=At,E.j.info("VER="+E.la));const bt=Se[4];bt!=null&&(E.Aa=bt,E.j.info("SVER="+E.Aa));const gs=Se[5];gs!=null&&typeof gs=="number"&&0<gs&&(b=1.5*gs,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Cn=l.g;if(Cn){const il=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var z=b.h;z.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(sd(z,z.h),z.h=null))}if(b.D){const cd=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(b.ya=cd,Ue(b.I,b.D,cd))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-l.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var ee=l;if(b.qa=Bg(b,b.J?b.ia:null,b.W),ee.K){pg(b.h,ee);var Le=ee,mt=b.L;mt&&(Le.I=mt),Le.B&&(nd(Le),Gu(Le)),b.g=ee}else Og(b);0<E.i.length&&tl(E)}else Se[0]!="stop"&&Se[0]!="close"||Si(E,7);else E.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Si(E,7):ad(E):Se[0]!="noop"&&E.l&&E.l.ta(Se),E.v=0)}}Fo(4)}catch{}}var FC=class{constructor(l,p){this.g=l,this.map=p}};function hg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fg(l){return l.h?1:l.g?l.g.size:0}function id(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function sd(l,p){l.g?l.g.add(p):l.h=p}function pg(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}hg.prototype.cancel=function(){if(this.i=mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function mg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const E of l.g.values())p=p.concat(E.D);return p}return k(l.i)}function UC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var p=[],E=l.length,b=0;b<E;b++)p.push(l[b]);return p}p=[],E=0;for(b in l)p[E++]=l[b];return p}function BC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var p=[];l=l.length;for(var E=0;E<l;E++)p.push(E);return p}p=[],E=0;for(const b in l)p[E++]=b;return p}}}function gg(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var E=BC(l),b=UC(l),V=b.length,z=0;z<V;z++)p.call(void 0,b[z],E&&E[z],l)}var Eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VC(l,p){if(l){l=l.split("&");for(var E=0;E<l.length;E++){var b=l[E].indexOf("="),V=null;if(0<=b){var z=l[E].substring(0,b);V=l[E].substring(b+1)}else z=l[E];p(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function wi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof wi){this.h=l.h,Ku(this,l.j),this.o=l.o,this.g=l.g,Qu(this,l.s),this.l=l.l;var p=l.i,E=new zo;E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),_g(this,E),this.m=l.m}else l&&(p=String(l).match(Eg))?(this.h=!1,Ku(this,p[1]||"",!0),this.o=Ho(p[2]||""),this.g=Ho(p[3]||"",!0),Qu(this,p[4]),this.l=Ho(p[5]||"",!0),_g(this,p[6]||"",!0),this.m=Ho(p[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}wi.prototype.toString=function(){var l=[],p=this.j;p&&l.push(jo(p,Tg,!0),":");var E=this.g;return(E||p=="file")&&(l.push("//"),(p=this.o)&&l.push(jo(p,Tg,!0),"@"),l.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&l.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&l.push("/"),l.push(jo(E,E.charAt(0)=="/"?zC:jC,!0))),(E=this.i.toString())&&l.push("?",E),(E=this.m)&&l.push("#",jo(E,WC)),l.join("")};function or(l){return new wi(l)}function Ku(l,p,E){l.j=E?Ho(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Qu(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function _g(l,p,E){p instanceof zo?(l.i=p,qC(l.i,l.h)):(E||(p=jo(p,$C)),l.i=new zo(p,l.h))}function Ue(l,p,E){l.i.set(p,E)}function Xu(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ho(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function jo(l,p,E){return typeof l=="string"?(l=encodeURI(l).replace(p,HC),E&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function HC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Tg=/[#\/\?@]/g,jC=/[#\?:]/g,zC=/[#\?]/g,$C=/[#\?@]/g,WC=/#/g;function zo(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function xr(l){l.g||(l.g=new Map,l.h=0,l.i&&VC(l.i,function(p,E){l.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}t=zo.prototype,t.add=function(l,p){xr(this),this.i=null,l=ps(this,l);var E=this.g.get(l);return E||this.g.set(l,E=[]),E.push(p),this.h+=1,this};function yg(l,p){xr(l),p=ps(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Ig(l,p){return xr(l),p=ps(l,p),l.g.has(p)}t.forEach=function(l,p){xr(this),this.g.forEach(function(E,b){E.forEach(function(V){l.call(p,V,b,this)},this)},this)},t.na=function(){xr(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),E=[];for(let b=0;b<p.length;b++){const V=l[b];for(let z=0;z<V.length;z++)E.push(p[b])}return E},t.V=function(l){xr(this);let p=[];if(typeof l=="string")Ig(this,l)&&(p=p.concat(this.g.get(ps(this,l))));else{l=Array.from(this.g.values());for(let E=0;E<l.length;E++)p=p.concat(l[E])}return p},t.set=function(l,p){return xr(this),this.i=null,l=ps(this,l),Ig(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function vg(l,p,E){yg(l,p),0<E.length&&(l.i=null,l.g.set(ps(l,p),k(E)),l.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var E=0;E<p.length;E++){var b=p[E];const z=encodeURIComponent(String(b)),ee=this.V(b);for(b=0;b<ee.length;b++){var V=z;ee[b]!==""&&(V+="="+encodeURIComponent(String(ee[b]))),l.push(V)}}return this.i=l.join("&")};function ps(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function qC(l,p){p&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(E,b){var V=b.toLowerCase();b!=V&&(yg(this,b),vg(this,V,E))},l)),l.j=p}function YC(l,p){const E=new Bo;if(a.Image){const b=new Image;b.onload=g(Pr,E,"TestLoadImage: loaded",!0,p,b),b.onerror=g(Pr,E,"TestLoadImage: error",!1,p,b),b.onabort=g(Pr,E,"TestLoadImage: abort",!1,p,b),b.ontimeout=g(Pr,E,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else p(!1)}function GC(l,p){const E=new Bo,b=new AbortController,V=setTimeout(()=>{b.abort(),Pr(E,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:b.signal}).then(z=>{clearTimeout(V),z.ok?Pr(E,"TestPingServer: ok",!0,p):Pr(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Pr(E,"TestPingServer: error",!1,p)})}function Pr(l,p,E,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(E)}catch{}}function KC(){this.g=new Rr}function QC(l,p,E){const b=E||"";try{gg(l,function(V,z){let ee=V;c(V)&&(ee=sr(V)),p.push(b+z+"="+encodeURIComponent(ee))})}catch(V){throw p.push(b+"type="+encodeURIComponent("_badmap")),V}}function $o(l){this.l=l.Ub||null,this.j=l.eb||!1}_($o,Zt),$o.prototype.g=function(){return new Ju(this.l,this.j)},$o.prototype.i=function(l){return function(){return l}}({});function Ju(l,p){$.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ju,$),t=Ju.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,qo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ag(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ag(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Wo(this):qo(this),this.readyState==3&&Ag(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Wo(this))},t.Qa=function(l){this.g&&(this.response=l,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,qo(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,l.push(E[0]+": "+E[1]),E=p.next();return l.join(`\r
`)};function qo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function bg(l){let p="";return U(l,function(E,b){p+=b,p+=":",p+=E,p+=`\r
`}),p}function od(l,p,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=bg(E),typeof l=="string"?E!=null&&encodeURIComponent(String(E)):Ue(l,p,E))}function Ke(l){$.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ke,$);var XC=/^https?$/i,JC=["POST","PUT"];t=Ke.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zh.g(),this.v=this.o?Z0(this.o):Z0(Zh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(z){Cg(this,z);return}if(l=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)E.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const z of b.keys())E.set(z,b.get(z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JC,p,void 0))||b||V||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of E)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kg(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Cg(this,z)}};function Cg(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,wg(l),Zu(l)}function wg(l){l.A||(l.A=!0,Q(l,"complete"),Q(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Q(this,"complete"),Q(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sg(this):this.bb())},t.bb=function(){Sg(this)};function Sg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ar(l)!=4||l.Z()!=2)){if(l.u&&ar(l)==4)ge(l.Ea,0,l);else if(Q(l,"readystatechange"),ar(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var b;if(b=ee===0){var V=String(l.D).match(Eg)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),b=!XC.test(V?V.toLowerCase():"")}E=b}if(E)Q(l,"complete"),Q(l,"success");else{l.m=6;try{var z=2<ar(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",wg(l)}}finally{Zu(l)}}}}function Zu(l,p){if(l.g){kg(l);const E=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Q(l,"ready");try{E.onreadystatechange=b}catch{}}}function kg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Ft(p)}};function Rg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ZC(l){const p={};l=(l.g&&2<=ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(I(l[b]))continue;var E=O(l[b]);const V=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=p[V]||[];p[V]=z,z.push(E)}R(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(l,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[l]||p}function Ng(l){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,l),this.cb=Yo("retryDelaySeedMs",1e4,l),this.Wa=Yo("forwardChannelMaxRetries",2,l),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hg(l&&l.concurrentRequestLimit),this.Da=new KC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ng.prototype,t.la=8,t.G=1,t.connect=function(l,p,E,b){Ut(0),this.W=l,this.H=p||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=Bg(this,null,this.W),tl(this)};function ad(l){if(xg(l),l.G==3){var p=l.U++,E=or(l.I);if(Ue(E,"SID",l.K),Ue(E,"RID",p),Ue(E,"TYPE","terminate"),Go(l,E),p=new Nr(l,l.j,p),p.L=2,p.v=Xu(or(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=p.v,E=!0),E||(p.g=Vg(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Gu(p)}Ug(l)}function el(l){l.g&&(ld(l),l.g.cancel(),l.g=null)}function xg(l){el(l),l.u&&(a.clearTimeout(l.u),l.u=null),nl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function tl(l){if(!dg(l.h)&&!l.s){l.s=!0;var p=l.Ga;xe||L(),Z||(xe(),Z=!0),ie.add(p,l),l.B=0}}function ew(l,p){return fg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Uo(m(l.Ga,l,p),Fg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new Nr(this,this.j,l);let z=this.o;if(this.S&&(z?(z=C(z),T(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Lg(this,V,p),E=or(this.I),Ue(E,"RID",l),Ue(E,"CVER",22),this.D&&Ue(E,"X-HTTP-Session-Id",this.D),Go(this,E),z&&(this.O?p="headers="+encodeURIComponent(String(bg(z)))+"&"+p:this.m&&od(E,this.m,z)),sd(this.h,V),this.Ua&&Ue(E,"TYPE","init"),this.P?(Ue(E,"$req",p),Ue(E,"SID","null"),V.T=!0,td(V,E,null)):td(V,E,p),this.G=2}}else this.G==3&&(l?Pg(this,l):this.i.length==0||dg(this.h)||Pg(this))};function Pg(l,p){var E;p?E=p.l:E=l.U++;const b=or(l.I);Ue(b,"SID",l.K),Ue(b,"RID",E),Ue(b,"AID",l.T),Go(l,b),l.m&&l.o&&od(b,l.m,l.o),E=new Nr(l,l.j,E,l.B+1),l.m===null&&(E.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Lg(l,E,1e3),E.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),sd(l.h,E),td(E,b,p)}function Go(l,p){l.H&&U(l.H,function(E,b){Ue(p,b,E)}),l.l&&gg({},function(E,b){Ue(p,b,E)})}function Lg(l,p,E){E=Math.min(l.i.length,E);var b=l.l?m(l.l.Na,l.l,l):null;e:{var V=l.i;let z=-1;for(;;){const ee=["count="+E];z==-1?0<E?(z=V[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Le=!0;for(let mt=0;mt<E;mt++){let Se=V[mt].g;const At=V[mt].map;if(Se-=z,0>Se)z=Math.max(0,V[mt].g-100),Le=!1;else try{QC(At,ee,"req"+Se+"_")}catch{b&&b(At)}}if(Le){b=ee.join("&");break e}}}return l=l.i.splice(0,E),p.D=l,b}function Og(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;xe||L(),Z||(xe(),Z=!0),ie.add(p,l),l.v=0}}function ud(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Uo(m(l.Fa,l),Fg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Uo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),el(this),Dg(this))};function ld(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Dg(l){l.g=new Nr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=or(l.qa);Ue(p,"RID","rpc"),Ue(p,"SID",l.K),Ue(p,"AID",l.T),Ue(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(p,"TO",l.ja),Ue(p,"TYPE","xmlhttp"),Go(l,p),l.m&&l.o&&od(p,l.m,l.o),l.L&&(l.g.I=l.L);var E=l.g;l=l.ia,E.L=1,E.v=Xu(or(p)),E.m=null,E.P=!0,ug(E,l)}t.Za=function(){this.C!=null&&(this.C=null,el(this),ud(this),Ut(19))};function nl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Mg(l,p){var E=null;if(l.g==p){nl(l),ld(l),l.g=null;var b=2}else if(id(l.h,p))E=p.D,pg(l.h,p),b=1;else return;if(l.G!=0){if(p.o)if(b==1){E=p.m?p.m.length:0,p=Date.now()-p.F;var V=l.B;b=Wu(),Q(b,new ig(b,E)),tl(l)}else Og(l);else if(V=p.s,V==3||V==0&&0<p.X||!(b==1&&ew(l,p)||b==2&&ud(l)))switch(E&&0<E.length&&(p=l.h,p.i=p.i.concat(E)),V){case 1:Si(l,5);break;case 4:Si(l,10);break;case 3:Si(l,6);break;default:Si(l,2)}}}function Fg(l,p){let E=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(E*=2),E*p}function Si(l,p){if(l.j.info("Error code "+p),p==2){var E=m(l.fb,l),b=l.Xa;const V=!b;b=new wi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ku(b,"https"),Xu(b),V?YC(b.toString(),E):GC(b.toString(),E)}else Ut(2);l.G=0,l.l&&l.l.sa(p),Ug(l),xg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Ug(l){if(l.G=0,l.ka=[],l.l){const p=mg(l.h);(p.length!=0||l.i.length!=0)&&(P(l.ka,p),P(l.ka,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.ra()}}function Bg(l,p,E){var b=E instanceof wi?or(E):new wi(E);if(b.g!="")p&&(b.g=p+"."+b.g),Qu(b,b.s);else{var V=a.location;b=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var z=new wi(null);b&&Ku(z,b),p&&(z.g=p),V&&Qu(z,V),E&&(z.l=E),b=z}return E=l.D,p=l.ya,E&&p&&Ue(b,E,p),Ue(b,"VER",l.la),Go(l,b),b}function Vg(l,p,E){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ke(new $o({eb:E})):new Ke(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hg(){}t=Hg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(l,p){return new en(l,p)};function en(l,p){$.call(this),this.g=new Ng(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!I(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new ms(this)}_(en,$),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ad(this.g)},en.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var E={};E.__data__=l,l=E}else this.u&&(E={},E.__data__=sr(l),l=E);p.i.push(new FC(p.Ya++,l)),p.G==3&&tl(p)},en.prototype.N=function(){this.g.l=null,delete this.j,ad(this.g),delete this.g,en.aa.N.call(this)};function jg(l){Xh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const E in p){l=E;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}_(jg,Xh);function zg(){Jh.call(this),this.status=1}_(zg,Jh);function ms(l){this.g=l}_(ms,Hg),ms.prototype.ua=function(){Q(this.g,"a")},ms.prototype.ta=function(l){Q(this.g,new jg(l))},ms.prototype.sa=function(l){Q(this.g,new zg)},ms.prototype.ra=function(){Q(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,F2=function(){return new rl},M2=function(){return Wu()},D2=bi,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,Kl=qu,sg.COMPLETE="complete",O2=sg,eg.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",$.prototype.listen=$.prototype.K,ma=eg,L2=$o,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,P2=Ke}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Lh("@firebase/firestore");function ua(){return Ji.logLevel}function re(t,...e){if(Ji.logLevel<=Ie.DEBUG){const n=e.map(f0);Ji.debug(`Firestore (${bo}): ${t}`,...n)}}function vr(t,...e){if(Ji.logLevel<=Ie.ERROR){const n=e.map(f0);Ji.error(`Firestore (${bo}): ${t}`,...n)}}function oo(t,...e){if(Ji.logLevel<=Ie.WARN){const n=e.map(f0);Ji.warn(`Firestore (${bo}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function De(t,e){t||ce()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class E8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _8{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new U2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new kt(e)}}class T8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new T8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new I8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new ut(0,0))}static max(){return new he(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends hu{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const b8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends hu{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return b8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(ze.fromString(e))}static fromName(e){return new ae(ze.fromString(e).popFirst(5))}static empty(){return new ae(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new ze(e.slice()))}}function C8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new mi(i,ae.empty(),e)}function w8(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(he.min(),ae.empty(),-1)}static max(){return new mi(he.max(),ae.empty(),-1)}}function S8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==k8)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function N8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}p0.oe=-1;function Oh(t){return t==null}function jc(t){return t===0&&1/t==-1/0}function x8(t){return typeof t=="number"&&Number.isInteger(t)&&!jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}}class Rl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=s??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new xn([])}unionWith(e){let n=new yt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new H2("Invalid base64 string: "+s):s}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const P8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(De(!!t),typeof t=="string"){let e=0;const n=P8.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g0(t){const e=t.mapValue.fields.__previous_value__;return m0(e)?g0(e):e}function du(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:D8(t)?9007199254740991:O8(t)?10:11:ce()}function Jn(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zi(i.bytesValue).isEqual(Zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?jc(o)===jc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ao(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(M_(o)!==M_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Jn(o[u],a[u])))return!1;return!0}(t,e);default:return ce()}}function pu(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),u=Je(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return U_(t.timestampValue,e.timestampValue);case 4:return U_(du(t),du(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zi(s),u=Zi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ke(a[c],u[c]);if(d!==0)return d}return ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ke(Je(s.latitude),Je(o.latitude));return a!==0?a:ke(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const f=s.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=ke(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:B_(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Nl.mapValue&&o===Nl.mapValue)return 0;if(s===Nl.mapValue)return 1;if(o===Nl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=ke(u[f],d[f]);if(m!==0)return m;const g=uo(a[u[f]],c[d[f]]);if(g!==0)return g}return ke(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function U_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=gi(t),r=gi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function B_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=uo(n[i],r[i]);if(s)return s}return ke(n.length,r.length)}function lo(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Np(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Np(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function xp(t){return!!t&&"integerValue"in t}function E0(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function H_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}function O8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ma(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Ma(this.value))}}function j2(t){const e=[];return Co(t.fields,(n,r)=>{const i=new _t([n]);if(Ql(r)){const s=j2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,he.min(),he.min(),he.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,he.min(),he.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,he.min(),he.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=uo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function M8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class ot extends z2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U8(e,n,r):n==="array-contains"?new H8(e,r):n==="in"?new j8(e,r):n==="not-in"?new z8(e,r):n==="array-contains-any"?new $8(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B8(e,r):new V8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zn(e,n)}matches(e){return $2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $2(t){return t.op==="and"}function W2(t){return F8(t)&&$2(t)}function F8(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Pp(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+lo(t.value);if(W2(t))return t.filters.map(e=>Pp(e)).join(",");{const e=t.filters.map(n=>Pp(n)).join(",");return`${t.op}(${e})`}}function q2(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&q2(o,i.filters[a]),!0):!1}(t,e):void ce()}function Y2(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y2).join(" ,")+"}"}(t):"Filter"}class U8 extends ot{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class B8 extends ot{constructor(e,n){super(e,"in",n),this.keys=G2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class V8 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=G2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class H8 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return E0(n)&&pu(n.arrayValue,this.value)}}class j8 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class z8 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}}class $8 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!E0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function $_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new W8(t,e,n,r,i,s,o)}function _0(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lo(r)).join(",")),e.ue=n}return e.ue}function T0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function Lp(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q8(t,e,n,r,i,s,o,a){return new Dh(t,e,n,r,i,s,o,a)}function y0(t){return new Dh(t)}function W_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y8(t){return t.collectionGroup!==null}function Fa(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $c(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new $c(_t.keyField(),r))}return e.ce}function Gn(t){const e=de(t);return e.le||(e.le=G8(e,Fa(t))),e.le}function G8(t,e){if(t.limitType==="F")return $_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $c(i.field,s)});const n=t.endAt?new zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zc(t.startAt.position,t.startAt.inclusive):null;return $_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Op(t,e,n){return new Dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return T0(Gn(t),Gn(e))&&t.limitType===e.limitType}function K2(t){return`${_0(Gn(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y2(i)).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=j_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Fa(r),i)||r.endAt&&!function(o,a,u){const c=j_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Fa(r),i))}(t,e)}function K8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q2(t){return(e,n)=>{let r=!1;for(const i of Fa(t)){const s=Q8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Q8(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?uo(u,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return V2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=new Ye(ae.comparator);function Ar(){return X8}const X2=new Ye(ae.comparator);function ga(...t){let e=X2;for(const n of t)e=e.insert(n.key,n);return e}function J2(t){let e=X2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Ua()}function Z2(){return Ua()}function Ua(){return new wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const J8=new Ye(ae.comparator),Z8=new yt(ae.comparator);function ve(...t){let e=Z8;for(const n of t)e=e.add(n);return e}const e5=new yt(ke);function t5(){return e5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function eb(t){return{integerValue:""+t}}function n5(t,e){return x8(e)?eb(e):I0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function r5(t,e,n){return t instanceof Wc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&m0(s)&&(s=g0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof mu?nb(t,e):t instanceof gu?rb(t,e):function(i,s){const o=tb(i,s),a=q_(o)+q_(i.Pe);return xp(o)&&xp(i.Pe)?eb(a):I0(i.serializer,a)}(t,e)}function i5(t,e,n){return t instanceof mu?nb(t,e):t instanceof gu?rb(t,e):n}function tb(t,e){return t instanceof qc?function(r){return xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wc extends Uh{}class mu extends Uh{constructor(e){super(),this.elements=e}}function nb(t,e){const n=ib(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class gu extends Uh{constructor(e){super(),this.elements=e}}function rb(t,e){let n=ib(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class qc extends Uh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q_(t){return Je(t.integerValue||t.doubleValue)}function ib(t){return E0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mu&&i instanceof mu||r instanceof gu&&i instanceof gu?ao(r.elements,i.elements,Jn):r instanceof qc&&i instanceof qc?Jn(r.Pe,i.Pe):r instanceof Wc&&i instanceof Wc}(t.transform,e.transform)}class o5{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function sb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v0(t.key,Kn.none()):new Du(t.key,t.data,Kn.none());{const n=t.data,r=mn.empty();let i=new yt(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ls(t.key,r,new xn(i.toArray()),Kn.none())}}function a5(t,e,n){t instanceof Du?function(i,s,o){const a=i.value.clone(),u=G_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(i,s,o){if(!Xl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(ob(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof Du?function(s,o,a,u){if(!Xl(s.precondition,o))return a;const c=s.value.clone(),d=K_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(s,o,a,u){if(!Xl(s.precondition,o))return a;const c=K_(s.fieldTransforms,u,o),d=o.data;return d.setAll(ob(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Xl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function u5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tb(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function Y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ao(r,i,(s,o)=>s5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Du extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ls extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ob(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G_(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,i5(o,a,n[i]))}return r}function K_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,r5(s,o,e))}return r}class v0 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l5 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&a5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=sb(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,r)=>Y_(n,r))&&ao(this.baseMutations,e.baseMutations,(n,r)=>Y_(n,r))}}class A0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return J8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new A0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,be;function f5(t){switch(t){default:return ce();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function ab(t){if(t===void 0)return vr("GRPC error has no .code"),K.UNKNOWN;switch(t){case tt.OK:return K.OK;case tt.CANCELLED:return K.CANCELLED;case tt.UNKNOWN:return K.UNKNOWN;case tt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case tt.INTERNAL:return K.INTERNAL;case tt.UNAVAILABLE:return K.UNAVAILABLE;case tt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case tt.NOT_FOUND:return K.NOT_FOUND;case tt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case tt.ABORTED:return K.ABORTED;case tt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case tt.DATA_LOSS:return K.DATA_LOSS;default:return ce()}}(be=tt||(tt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new ji([4294967295,4294967295],0);function Q_(t){const e=p5().encode(t),n=new x2;return n.update(e),new Uint8Array(n.digest())}function X_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,s],0)]}class b0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(m5)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q_(e),[r,i]=X_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new b0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Q_(e),[r,i]=X_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vh(he.min(),i,new Ye(ke),Ar(),ve())}}class Mu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ub{constructor(e,n){this.targetId=e,this.me=n}}class lb{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J_{constructor(){this.fe=0,this.ge=eT(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Mu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class g5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=Z_(),this.Qe=new Ye(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Lp(s))if(r===0){const o=new ae(s.path);this.Ue(n,o,Nt.newNoDocument(o,he.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zi(r).toUint8Array()}catch(u){if(u instanceof H2)return oo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new b0(o,i,s)}catch(u){return oo(u instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Lp(a.target)){const u=new ae(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Nt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Vh(e,n,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=Z_(),this.Qe=new Ye(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z_(){return new Ye(ae.comparator)}function eT(){return new Ye(ae.comparator)}const E5={asc:"ASCENDING",desc:"DESCENDING"},_5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T5={and:"AND",or:"OR"};class y5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(t,e){return t.useProto3Json||Oh(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I5(t,e){return Yc(t,e.toTimestamp())}function Qn(t){return De(!!t),he.fromTimestamp(function(n){const r=gi(n);return new ut(r.seconds,r.nanos)}(t))}function C0(t,e){return Mp(t,e).canonicalString()}function Mp(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hb(t){const e=ze.fromString(t);return De(gb(e)),e}function Fp(t,e){return C0(t.databaseId,e.path)}function lf(t,e){const n=hb(e);if(n.get(1)!==t.databaseId.projectId)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(fb(n))}function db(t,e){return C0(t.databaseId,e)}function v5(t){const e=hb(t);return e.length===4?ze.emptyPath():fb(e)}function Up(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fb(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tT(t,e,n){return{name:Fp(t,e),fields:n.value.mapValue.fields}}function A5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(De(d===void 0||typeof d=="string"),vt.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?K.UNKNOWN:ab(c.code);return new se(d,c.message||"")}(o);n=new lb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lf(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):he.min(),a=new mn({mapValue:{fields:r.document.fields}}),u=Nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Jl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lf(t,r.document),s=r.readTime?Qn(r.readTime):he.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lf(t,r.document),s=r.removedTargetIds||[];n=new Jl([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new d5(i,s),a=r.targetId;n=new ub(a,o)}}return n}function b5(t,e){let n;if(e instanceof Du)n={update:tT(t,e.key,e.value)};else if(e instanceof v0)n={delete:Fp(t,e.key)};else if(e instanceof ls)n={update:tT(t,e.key,e.data),updateMask:L5(e.fieldMask)};else{if(!(e instanceof l5))return ce();n={verify:Fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:I5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function C5(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qn(i.updateTime):Qn(s);return o.isEqual(he.min())&&(o=Qn(s)),new o5(o,i.transformResults||[])}(n,e))):[]}function w5(t,e){return{documents:[db(t,e.path)]}}function S5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=db(t,i);const s=function(c){if(c.length!==0)return mb(Zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:vs(m.field),direction:N5(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function k5(t){let e=v5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=pb(f);return m instanceof Zn&&W2(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(_){return new $c(As(_.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Oh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new zc(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new zc(g,m)}(n.endAt)),q8(e,i,o,s,a,"F",u,c)}function R5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=As(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=As(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=As(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=As(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(As(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>pb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function N5(t){return E5[t]}function x5(t){return _5[t]}function P5(t){return T5[t]}function vs(t){return{fieldPath:t.canonicalString()}}function As(t){return _t.fromServerFormat(t.fieldPath)}function mb(t){return t instanceof ot?function(n){if(n.op==="=="){if(H_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(V_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(V_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:x5(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>mb(i));return r.length===1?r[0]:{compositeFilter:{op:P5(n.op),filters:r}}}(t):ce()}function L5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s=he.min(),o=he.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.ct=e}}function D5(t){const e=k5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.un=new F5}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(mi.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class F5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new co(0)}static kn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this.changes=new wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ba(r.mutation,i,xn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ga();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=Ua(),a=function(){return Ua()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ls)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ba(d.mutation,c,d.mutation.getFieldMask(),ut.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new B5(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let i=new Ye((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||xn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=Z2();d.forEach(m=>{if(!s.has(m)){const g=sb(n.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Ui());let a=-1,u=s;return o.next(c=>Y.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ve())).next(d=>({batchId:a,changes:J2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ga();return this.indexManager.getCollectionParents(e,s).next(a=>Y.forEach(a,u=>{const c=function(f,m){return new Dh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=ga();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ba(d.mutation,c,xn.empty(),ut.now()),Fh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:D5(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.overlays=new Ye(ae.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Ui(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ui(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ui(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Y.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new h5(n,r));let s=this.Ir.get(n);s===void 0&&(s=ve(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Tr=new yt(ct.Er),this.dr=new yt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new ze([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new ze([])),r=new ct(n,e),i=new ct(n,e+1);let s=ve();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(ct.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(ke);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ae(s),0);let a=new yt(ke);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),Y.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new ae(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||S8(w8(d),r)<=0||(i.has(d.key)||Fh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q5(this)}getSize(e){return Y.resolve(this.size)}}class q5 extends U5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.persistence=e,this.Nr=new wo(n=>_0(n),T0),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new w0,this.targetCount=0,this.kr=co.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new p0(0),this.Kr=!1,this.Kr=!0,this.$r=new z5,this.referenceDelegate=e(this),this.Ur=new Y5(this),this.indexManager=new M5,this.remoteDocumentCache=function(i){return new W5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new O5(n),this.Gr=new H5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new K5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class K5 extends R8{constructor(e){super(),this.currentSequenceNumber=e}}class S0{constructor(e){this.persistence=e,this.Jr=new w0,this.Yr=null}static Zr(e){return new S0(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new k0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return XM()?8:N8(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Q5;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ua()<=Ie.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(ua()<=Ie.DEBUG&&re("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ua()<=Ie.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):Y.resolve())}Yi(e,n){if(W_(n))return Y.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Op(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Op(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return W_(n)||i.isEqual(he.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Y.resolve(null):(ua()<=Ie.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.rs(e,o,n,C8(i,-1)).next(a=>a))})}ts(e,n){let r=new yt(Q2(e));return n.forEach((i,s)=>{Fh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ua()<=Ie.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Is(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(ke),this._s=new wo(s=>_0(s),T0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Z5(t,e,n,r){return new J5(t,e,n,r)}async function Eb(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ve();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function eF(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let g=Y.resolve();return m.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(k=>{const P=c.docVersions.get(_);De(P!==null),k.version.compareTo(P)<0&&(f.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),d.addEntry(k)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _b(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tF(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(k,P,y){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let u=Ar(),c=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(nF(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(he.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function nF(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function rF(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iF(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Bp(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ou(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function nT(t,e,n){const r=de(t);let i=he.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=de(u),m=f._s.get(d);return m!==void 0?Y.resolve(f.os.get(m)):f.Ur.getTargetData(c,d)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:ve())).next(a=>(sF(r,K8(e),a),{documents:a,Ts:s})))}function sF(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class rT{constructor(){this.activeTargetIds=t5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oF{constructor(){this.so=new rT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function cf(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class cF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=cf(),u=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(re("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw oo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=uF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=cf();return new Promise((o,a)=>{const u=new P2;u.setWithCredentials(!0),u.listenOnce(O2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Kl.NO_ERROR:const d=u.getResponseJson();re(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Kl.TIMEOUT:re(St,`RPC '${e}' ${s} timed out`),a(new se(K.DEADLINE_EXCEEDED,"Request time out"));break;case Kl.HTTP_ERROR:const f=u.getStatus();if(re(St,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const _=function(P){const y=P.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(y)>=0?y:K.UNKNOWN}(g.status);a(new se(_,g.message))}else a(new se(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new se(K.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{re(St,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(St,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=cf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F2(),a=M2(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new L2({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");re(St,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,g=!1;const _=new lF({Io:P=>{g?re(St,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(re(St,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),re(St,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},To:()=>f.close()}),k=(P,y,I)=>{P.listen(y,w=>{try{I(w)}catch(B){setTimeout(()=>{throw B},0)}})};return k(f,ma.EventType.OPEN,()=>{g||(re(St,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),k(f,ma.EventType.CLOSE,()=>{g||(g=!0,re(St,`RPC '${e}' stream ${i} transport closed`),_.So())}),k(f,ma.EventType.ERROR,P=>{g||(g=!0,oo(St,`RPC '${e}' stream ${i} transport errored:`,P),_.So(new se(K.UNAVAILABLE,"The operation could not be completed")))}),k(f,ma.EventType.MESSAGE,P=>{var y;if(!g){const I=P.data[0];De(!!I);const w=I,B=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(B){re(St,`RPC '${e}' stream ${i} received error:`,B);const W=B.status;let U=function(N){const T=tt[N];if(T!==void 0)return ab(T)}(W),R=B.message;U===void 0&&(U=K.INTERNAL,R="Unknown error status: "+W+" with message "+B.message),g=!0,_.So(new se(U,R)),f.close()}else re(St,`RPC '${e}' stream ${i} received:`,I),_.bo(I)}}),k(a,D2.STAT_EVENT,P=>{P.stat===Rp.PROXY?re(St,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Rp.NOPROXY&&re(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new y5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hF extends yb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=A5(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Qn(o.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Up(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Lp(u)?{documents:w5(s,u)}:{query:S5(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cb(s,o.resumeToken);const c=Dp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Yc(s,o.snapshotVersion.toTimestamp());const c=Dp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=R5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.a_(n)}}class dF extends yb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=C5(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Up(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>b5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Mp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Mp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{cs(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=de(u);c.L_.add(4),await Fu(c),c.q_.set("Unknown"),c.L_.delete(4),await jh(c)}(this))})}),this.q_=new pF(r,i)}}async function jh(t){if(cs(t))for(const e of t.B_)await e(!0)}async function Fu(t){for(const e of t.B_)await e(!1)}function Ib(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P0(n)?x0(n):So(n).r_()&&N0(n,e))}function R0(t,e){const n=de(t),r=So(n);n.N_.delete(e),r.r_()&&vb(n,e),n.N_.size===0&&(r.r_()?r.o_():cs(n)&&n.q_.set("Unknown"))}function N0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).A_(e)}function vb(t,e){t.Q_.xe(e),So(t).R_(e)}function x0(t){t.Q_=new g5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.q_.v_()}function P0(t){return cs(t)&&!So(t).n_()&&t.N_.size>0}function cs(t){return de(t).L_.size===0}function Ab(t){t.Q_=void 0}async function gF(t){t.q_.set("Online")}async function EF(t){t.N_.forEach((e,n)=>{N0(t,e)})}async function _F(t,e){Ab(t),P0(t)?(t.q_.M_(e),x0(t)):t.q_.set("Unknown")}async function TF(t,e,n){if(t.q_.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gc(t,r)}else if(e instanceof Jl?t.Q_.Ke(e):e instanceof ub?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await _b(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),vb(s,u);const f=new Kr(d.target,u,c,d.sequenceNumber);N0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Gc(t,r)}}async function Gc(t,e,n){if(!Ou(e))throw e;t.L_.add(1),await Fu(t),t.q_.set("Offline"),n||(n=()=>_b(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jh(t)})}function bb(t,e){return e().catch(n=>Gc(t,n,e))}async function zh(t){const e=de(t),n=Ei(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yF(e);)try{const i=await rF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,IF(e,i)}catch(i){await Gc(e,i)}Cb(e)&&wb(e)}function yF(t){return cs(t)&&t.O_.length<10}function IF(t,e){t.O_.push(e);const n=Ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Cb(t){return cs(t)&&!Ei(t).n_()&&t.O_.length>0}function wb(t){Ei(t).start()}async function vF(t){Ei(t).p_()}async function AF(t){const e=Ei(t);for(const n of t.O_)e.m_(n.mutations)}async function bF(t,e,n){const r=t.O_.shift(),i=A0.from(r,e,n);await bb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zh(t)}async function CF(t,e){e&&Ei(t).V_&&await async function(r,i){if(function(o){return f5(o)&&o!==K.ABORTED}(i.code)){const s=r.O_.shift();Ei(r).s_(),await bb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await zh(r)}}(t,e),Cb(t)&&wb(t)}async function sT(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=cs(n);n.L_.add(3),await Fu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jh(n)}async function wF(t,e){const n=de(t);e?(n.L_.delete(2),await jh(n)):e||(n.L_.add(2),await Fu(n),n.q_.set("Unknown"))}function So(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new hF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gF.bind(null,t),Ro:EF.bind(null,t),mo:_F.bind(null,t),d_:TF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),P0(t)?x0(t):t.q_.set("Unknown")):(await t.K_.stop(),Ab(t))})),t.K_}function Ei(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new dF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vF.bind(null,t),mo:CF.bind(null,t),f_:AF.bind(null,t),g_:bF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zh(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new L0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O0(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Ou(t))return new se(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.W_=new Ye(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ho{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ho(e,n,$s.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kF{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=aT(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new se(K.ABORTED,"Firestore shutting down"))}}function aT(){return new wo(t=>K2(t),Mh)}async function RF(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new SF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=O0(o,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&D0(n)}async function NF(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xF(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&D0(n)}function PF(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function D0(t){t.Y_.forEach(e=>{e.next()})}var Vp,uT;(uT=Vp||(Vp={})).ea="default",uT.Cache="cache";class LF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.key=e}}class kb{constructor(e){this.key=e}}class OF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=Q2(e),this.Ra=new $s(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new oT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),g=Fh(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),k=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;m&&g?m.data.isEqual(g.data)?_!==k&&(r.track({type:3,doc:g}),P=!0):this.ga(m,g)||(r.track({type:2,doc:g}),P=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),P=!0):m&&!g&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(a=!0)),P&&(g?(o=o.add(g),s=k?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(g,_){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return k(g)-k(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new ho(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Sb(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MF{constructor(e){this.key=e,this.va=!1}}class FF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wo(a=>K2(a),Mh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ae.comparator),this.Na=new Map,this.La=new w0,this.Ba={},this.ka=new Map,this.qa=co.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UF(t,e,n=!0){const r=Ob(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Rb(r,e,n,!0),i}async function BF(t,e){const n=Ob(t);await Rb(n,e,!0,!1)}async function Rb(t,e,n,r){const i=await iF(t.localStore,Gn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await VF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ib(t.remoteStore,i),a}async function VF(t,e,n,r,i){t.Ka=(f,m,g)=>async function(k,P,y,I){let w=P.view.ma(y);w.ns&&(w=await nT(k.localStore,P.query,!1).then(({documents:R})=>P.view.ma(R,w)));const B=I&&I.targetChanges.get(P.targetId),W=I&&I.targetMismatches.get(P.targetId)!=null,U=P.view.applyChanges(w,k.isPrimaryClient,B,W);return cT(k,P.targetId,U.wa),U.snapshot}(t,f,m,g);const s=await nT(t.localStore,e,!0),o=new OF(e,s.Ts),a=o.ma(s.documents),u=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);cT(t,n,c.wa);const d=new DF(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function HF(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Mh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&R0(r.remoteStore,i.targetId),Hp(r,i.targetId)}).catch(Lu)):(Hp(r,i.targetId),await Bp(r.localStore,i.targetId,!0))}async function jF(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),R0(n.remoteStore,r.targetId))}async function zF(t,e,n){const r=QF(t);try{const i=await function(o,a){const u=de(o),c=ut.now(),d=a.reduce((g,_)=>g.add(_.key),ve());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ar(),k=ve();return u.cs.getEntries(g,d).next(P=>{_=P,_.forEach((y,I)=>{I.isValidDocument()||(k=k.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(P=>{f=P;const y=[];for(const I of a){const w=u5(I,f.get(I.key).overlayedDocument);w!=null&&y.push(new ls(I.key,w,j2(w.value.mapValue),Kn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,y,a)}).next(P=>{m=P;const y=P.applyToLocalDocumentSet(f,k);return u.documentOverlayCache.saveOverlays(g,P.batchId,y)})}).then(()=>({batchId:m.batchId,changes:J2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ye(ke)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Uu(r,i.changes),await zh(r.remoteStore)}catch(i){const s=O0(i,"Failed to persist write");n.reject(s)}}async function Nb(t,e){const n=de(t);try{const r=await tF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),await Uu(n,r,e)}catch(r){await Lu(r)}}function lT(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=de(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&D0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $F(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ye(ae.comparator);o=o.insert(s,Nt.newNoDocument(s,he.min()));const a=ve().add(s),u=new Vh(he.min(),new Map,new Ye(ke),o,a);await Nb(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),M0(r)}else await Bp(r.localStore,e,!1).then(()=>Hp(r,e,n)).catch(Lu)}async function WF(t,e){const n=de(t),r=e.batch.batchId;try{const i=await eF(n.localStore,e);Pb(n,r,null),xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,i)}catch(i){await Lu(i)}}async function qF(t,e,n){const r=de(t);try{const i=await function(o,a){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(De(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);Pb(r,e,n),xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,i)}catch(i){await Lu(i)}}function xb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Pb(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Lb(t,r)})}function Lb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(R0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M0(t))}function cT(t,e,n){for(const r of n)r instanceof Sb?(t.La.addReference(r.key,e),YF(t,r)):r instanceof kb?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Lb(t,r.key)):ce()}function YF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),M0(t))}function M0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new MF(n)),t.Oa=t.Oa.insert(n,r),Ib(t.remoteStore,new Kr(Gn(y0(n.path)),r,"TargetPurposeLimboResolution",p0.oe))}}async function Uu(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=k0.Wi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=de(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(c,m=>Y.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>Y.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ou(f))throw f;re("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=d.os.get(m),_=g.snapshotVersion,k=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,k)}}}(r.localStore,s))}async function GF(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await Eb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new se(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.hs)}}function KF(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Ob(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$F.bind(null,e),e.Ca.d_=xF.bind(null,e.eventManager),e.Ca.$a=PF.bind(null,e.eventManager),e}function QF(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qF.bind(null,e),e}class hT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Z5(this.persistence,new X5,e.initialUser,this.serializer)}createPersistence(e){return new G5(S0.Zr,this.serializer)}createSharedClientState(e){return new oF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GF.bind(null,this.syncEngine),await wF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kF}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(s){return new cF(s)}(e.databaseInfo);return function(s,o,a,u){return new fF(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return iT.D()?new iT:new aF}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new FF(i,s,o,a,u,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function df(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Eb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tU(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sT(e.remoteStore,i)),t._onlineComponents=e}function eU(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eU(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await df(t,new hT)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await df(t,new hT);return t._offlineComponents}async function Db(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await dT(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await dT(t,new XF))),t._onlineComponents}function nU(t){return Db(t).then(e=>e.syncEngine)}async function fT(t){const e=await Db(t),n=e.eventManager;return n.onListen=UF.bind(null,e.syncEngine),n.onUnlisten=HF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){if(!n)throw new se(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rU(t,e,n,r){if(e===!0&&r===!0)throw new se(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mT(t){if(!ae.isDocumentKey(t))throw new se(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gT(t){if(ae.isDocumentKey(t))throw new se(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=F0(t);throw new se(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g8;switch(r.type){case"firstParty":return new y8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pT.get(n);r&&(re("ComponentProvider","Removing Datastore"),pT.delete(n),r.terminate())}(this),Promise.resolve()}}function iU(t,e,n,r={}){var i;const s=(t=$i(t,$h))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=kt.MOCK_USER;else{a=$M(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new E8(new U2(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wh(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ui extends Wh{constructor(e,n,r){super(e,n,y0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ae(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function sU(t,e,...n){if(t=vn(t),Fb("collection","path",e),t instanceof $h){const r=ze.fromString(e,...n);return gT(r),new ui(t,null,r)}{if(!(t instanceof an||t instanceof ui))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return gT(r),new ui(t.firestore,null,r)}}function _T(t,e,...n){if(t=vn(t),arguments.length===1&&(e=B2.newId()),Fb("doc","path",e),t instanceof $h){const r=ze.fromString(e,...n);return mT(r),new an(t,null,new ae(r))}{if(!(t instanceof an||t instanceof ui))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return mT(r),new an(t.firestore,t instanceof ui?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Tb(this,"async_queue_retry"),this.Eu=()=>{const n=hf();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=hf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new zi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ou(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=L0.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function TT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Eu extends $h{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new oU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bb(this),this._firestoreClient.terminate()}}function aU(t,e){const n=typeof t=="object"?t:h0(),r=typeof t=="string"?t:"(default)",i=Pu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jM("firestore");s&&iU(i,...s)}return i}function Ub(t){return t._firestoreClient||Bb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Bb(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new L8(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Mb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ZF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(vt.fromBase64String(e))}catch(n){throw new se(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=/^__.*__$/;class lU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}function Hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class H0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new H0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Kc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Hb(this.wu)&&uU.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class cU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}Nu(e,n,r,i=!1){return new H0({wu:e,methodName:n,Ou:r,path:_t.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hU(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new cU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dU(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Wb("Data must be an object, but it was:",o,r);const a=zb(r,o);let u,c;if(s.merge)u=new xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=fU(e,f,n);if(!o.contains(m))throw new se(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mU(d,m)||d.push(m)}u=new xn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new lU(new mn(a),u,c)}function jb(t,e){if($b(t=vn(t)))return Wb("Unsupported field value:",e,t),zb(t,e);if(t instanceof Vb)return function(r,i){if(!Hb(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=jb(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof B0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fo)return{bytesValue:cb(i.serializer,r._byteString)};if(r instanceof an){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof V0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return I0(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${F0(r)}`)}(t,e)}function zb(t,e){const n={};return V2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const s=jb(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $b(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof B0||t instanceof fo||t instanceof an||t instanceof Vb||t instanceof V0)}function Wb(t,e,n){if(!$b(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=F0(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function fU(t,e,n){if((e=vn(e))instanceof U0)return e._internalPath;if(typeof e=="string")return qb(t,e);throw Kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const pU=new RegExp("[~\\*/\\[\\]]");function qb(t,e,n){if(e.search(pU)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new U0(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new se(K.INVALID_ARGUMENT,a+t+u)}function mU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gU extends Yb{data(){return super.data()}}function Gb(t,e){return typeof e=="string"?qb(t,e):e instanceof U0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _U{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Je(o.doubleValue));return new V0(s)}convertGeoPoint(e){return new B0(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=g0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=gi(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(gb(r));const i=new fu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kb extends Yb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zl extends Kb{data(e={}){return super.data(e)}}class yU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zl(this._firestore,this._userDataWriter,r.key,r,new _a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Zl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:IU(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function IU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class Qb extends _U{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function vU(t,e,n){t=$i(t,an);const r=$i(t.firestore,Eu),i=TU(t.converter,e);return Xb(r,[dU(hU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function AU(t){return Xb($i(t.firestore,Eu),[new v0(t._key,Kn.none())])}function bU(t,...e){var n,r,i;t=vn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||TT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(TT(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,d;if(t instanceof an)c=$i(t.firestore,Eu),d=y0(t._key.path),u={next:f=>{e[o]&&e[o](CU(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=$i(t,Wh);c=$i(f.firestore,Eu),d=f._query;const m=new Qb(c);u={next:g=>{e[o]&&e[o](new yU(c,m,f,g))},error:e[o+1],complete:e[o+2]},EU(t._query)}return function(m,g,_,k){const P=new JF(k),y=new LF(g,P,_);return m.asyncQueue.enqueueAndForget(async()=>RF(await fT(m),y)),()=>{P.za(),m.asyncQueue.enqueueAndForget(async()=>NF(await fT(m),y))}}(Ub(c),d,a,u)}function Xb(t,e){return function(r,i){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>zF(await nU(r),i,s)),s.promise}(Ub(t),e)}function CU(t,e,n){const r=n.docs.get(e._key),i=new Qb(t);return new Kb(t,i,e._key,r,new _a(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bo=i})(Ai),pi(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Eu(new _8(r.getProvider("auth-internal")),new v8(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dn(D_,"4.7.1",e),Dn(D_,"4.7.1","esm2017")})();function j0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wU=Jb,Zb=new us("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Lh("@firebase/auth");function SU(t,...e){Qc.logLevel<=Ie.WARN&&Qc.warn(`Auth (${Ai}): ${t}`,...e)}function ec(t,...e){Qc.logLevel<=Ie.ERROR&&Qc.error(`Auth (${Ai}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw $0(t,...e)}function Mn(t,...e){return $0(t,...e)}function z0(t,e,n){const r=Object.assign(Object.assign({},wU()),{[e]:n});return new us("auth","Firebase",r).create(e,{appName:t.name})}function Wi(t){return z0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(t,"argument-error"),z0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zb.create(t,...e)}function le(t,e,...n){if(!t)throw $0(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ec(e),new Error(e)}function br(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RU(){return yT()==="http:"||yT()==="https:"}function yT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RU()||GM()||"connection"in navigator)?navigator.onLine:!0}function xU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=WM()||KM()}get(){return NU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new Bu(3e4,6e4);function q0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ko(t,e,n,r,i={}){return tC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eC.fetch()(nC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function tC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PU),e);try{const i=new DU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Pl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Pl(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw z0(t,d,c);er(t,d)}}catch(i){if(i instanceof rr)throw i;er(t,"network-request-failed",{message:String(i)})}}async function OU(t,e,n,r,i={}){const s=await ko(t,e,n,r,i);return"mfaPendingCredential"in s&&er(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?W0(t.config,i):`${t.config.apiScheme}://${i}`}class DU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),LU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(t,e){return ko(t,"POST","/v1/accounts:delete",e)}async function rC(t,e){return ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FU(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=Y0(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Va(ff(i.auth_time)),issuedAtTime:Va(ff(i.iat)),expirationTime:Va(ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function Y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=f2(n);return i?JSON.parse(i):(ec("Failed to decode base64 JWT payload"),null)}catch(i){return ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IT(t){const e=Y0(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&UU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _u(t,rC(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iC(s.providerUserInfo):[],a=HU(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function VU(t){const e=vn(t);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iC(t){return t.map(e=>{var{providerId:n}=e,r=j0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){const n=await tC(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zU(t,e){return ko(t,"POST","/v2/accounts:revokeToken",q0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=IT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await jU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ws;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=j0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FU(this,e)}reload(){return VU(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await _u(this,MU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,I=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:B,isAnonymous:W,providerData:U,stsTokenManager:R}=n;le(w&&R,e,"internal-error");const C=Ws.fromJSON(this.name,R);le(typeof w=="string",e,"internal-error"),Dr(f,e.name),Dr(m,e.name),le(typeof B=="boolean",e,"internal-error"),le(typeof W=="boolean",e,"internal-error"),Dr(g,e.name),Dr(_,e.name),Dr(k,e.name),Dr(P,e.name),Dr(y,e.name),Dr(I,e.name);const N=new pr({uid:w,auth:e,email:m,emailVerified:B,displayName:f,isAnonymous:W,photoURL:_,phoneNumber:g,tenantId:k,stsTokenManager:C,createdAt:y,lastLoginAt:I});return U&&Array.isArray(U)&&(N.providerData=U.map(T=>Object.assign({},T))),P&&(N._redirectEventId=P),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ws;i.updateFromServerResponse(n);const s=new pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?iC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ws;a.updateFromIdToken(r);const u=new pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function mr(t){br(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sC.type="NONE";const AT=sC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tc(this.userKey,i.apiKey,s),this.fullPersistenceKey=tc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(mr(AT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||mr(AT);const o=tc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=pr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(dC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oC(t=Lt()){return/firefox\//i.test(t)}function aC(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=Lt()){return/crios\//i.test(t)}function lC(t=Lt()){return/iemobile/i.test(t)}function cC(t=Lt()){return/android/i.test(t)}function hC(t=Lt()){return/blackberry/i.test(t)}function dC(t=Lt()){return/webos/i.test(t)}function G0(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $U(t=Lt()){var e;return G0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WU(){return QM()&&document.documentMode===10}function fC(t=Lt()){return G0(t)||cC(t)||dC(t)||hC(t)||/windows phone/i.test(t)||lC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e=[]){let n;switch(t){case"Browser":n=bT(Lt());break;case"Worker":n=`${bT(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ai}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e={}){return ko(t,"GET","/v2/passwordPolicy",q0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=6;class KU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:GU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new qU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rC(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Wi(this));const n=e?vn(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YU(this),n=new KU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new us("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qh(t){return vn(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XU(t){K0=t}function JU(t){return K0.loadJS(t)}function ZU(){return K0.gapiScript}function eB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){const n=Pu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vc(s,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function nB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rB(t,e,n){const r=qh(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mC(e),{host:o,port:a}=iB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),sB()}function mC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iB(t){const e=mC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wT(o)}}}function wT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t,e){return OU(t,"POST","/v1/accounts:signInWithIdp",q0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="http://localhost";class ts extends gC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=j0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ts(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ys(e,n)}buildRequest(){const e={requestUri:oB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Vu{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Vu{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Vu{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pr._fromIdTokenResponse(e,r,i),o=ST(r);return new po({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ST(r);return new po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jc(e,n,r,i)}}function EC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(t,s,e,r):s})}async function aB(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(Wi(r));const i="reauthenticate";try{const s=await _u(t,EC(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=Y0(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),po._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&er(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e,n=!1){if(Wn(t.app))return Promise.reject(Wi(t));const r="signIn",i=await EC(t,r,e),s=await po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function cB(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function hB(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=1e3,fB=10;class TC extends _C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);WU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const pB=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends _C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yC.type="SESSION";const IC=yC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await mB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=X0("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function EB(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function _B(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebaseLocalStorageDb",IB=1,eh="firebaseLocalStorage",bC="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function vB(){const t=indexedDB.deleteDatabase(AC);return new Hu(t).toPromise()}function $p(){const t=indexedDB.open(AC,IB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eh,{keyPath:bC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await vB(),e(await $p()))})})}async function kT(t,e,n){const r=Gh(t,!0).put({[bC]:e,value:n});return new Hu(r).toPromise()}async function AB(t,e){const n=Gh(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function RT(t,e){const n=Gh(t,!0).delete(e);return new Hu(n).toPromise()}const bB=800,CB=3;class CC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _B(),!this.activeServiceWorker)return;this.sender=new gB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await kT(e,Zc,"1"),await RT(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gh(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CC.type="LOCAL";const wB=CC;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e){return e?mr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends gC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SB(t){return lB(t.auth,new J0(t),t.bypassAuthState)}function kB(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),uB(n,new J0(t),t.bypassAuthState)}async function RB(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),aB(n,new J0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SB;case"linkViaPopup":case"linkViaRedirect":return RB;case"reauthViaPopup":case"reauthViaRedirect":return kB;default:er(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new Bu(2e3,1e4);async function xB(t,e,n){if(Wn(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const r=qh(t);kU(t,e,Q0);const i=wC(r,n);return new Bi(r,"signInViaPopup",e,i).executeNotNull()}class Bi extends SC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bi.currentPopupAction&&Bi.currentPopupAction.cancel(),Bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NB.get())};e()}}Bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="pendingRedirect",nc=new Map;class LB extends SC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const r=await OB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OB(t,e){const n=FB(e),r=MB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DB(t,e){nc.set(t._key(),e)}function MB(t){return mr(t._redirectPersistence)}function FB(t){return tc(PB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){if(Wn(t.app))return Promise.reject(Wi(t));const r=qh(t),i=wC(r,e),o=await new LB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=10*60*1e3;class VB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BB&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jB(t,e={}){return ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$B=/^https?/;async function WB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jB(t);for(const n of e)try{if(qB(n))return}catch{}er(t,"unauthorized-domain")}function qB(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$B.test(n))return!1;if(zB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Bu(3e4,6e4);function xT(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GB(t){return new Promise((e,n)=>{var r,i,s;function o(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),n(Mn(t,"network-request-failed"))},timeout:YB.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)o();else{const a=eB("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},JU(`${ZU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw rc=null,e})}let rc=null;function KB(t){return rc=rc||GB(t),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new Bu(5e3,15e3),XB="__/auth/iframe",JB="emulator/auth/iframe",ZB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t7(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W0(e,JB):`https://${t.config.authDomain}/${XB}`,r={apiKey:e.apiKey,appName:t.name,v:Ai},i=e7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xu(r).slice(1)}`}async function n7(t){const e=await KB(t),n=Xn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:t7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Xn().setTimeout(()=>{s(o)},QB.get());function u(){Xn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i7=500,s7=600,o7="_blank",a7="http://localhost";class PT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u7(t,e,n,r=i7,i=s7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},r7),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=uC(c)?o7:n),oC(c)&&(e=e||a7,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[g,_])=>`${m}${g}=${_},`,"");if($U(c)&&a!=="_self")return l7(e||"",a),new PT(null);const f=window.open(e||"",a,d);le(f,t,"popup-blocked");try{f.focus()}catch{}return new PT(f)}function l7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="__/auth/handler",h7="emulator/auth/handler",d7=encodeURIComponent("fac");async function LT(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ai,eventId:i};if(e instanceof Q0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Vu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${d7}=${encodeURIComponent(u)}`:"";return`${f7(t)}?${xu(a).slice(1)}${c}`}function f7({config:t}){return t.emulator?W0(t,h7):`https://${t.authDomain}/${c7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class p7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=UB,this._overrideRedirectResult=DB}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LT(e,n,r,jp(),i);return u7(e,o,X0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LT(e,n,r,jp(),i);return EB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n7(e),r=new VB(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pf];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fC()||aC()||G0()}}const m7=p7;var OT="@firebase/auth",DT="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _7(t){pi(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},c=new QU(r,i,s,u);return nB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new hi("auth-internal",e=>{const n=qh(e.getProvider("auth").getImmediate());return(r=>new g7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(OT,DT,E7(t)),Dn(OT,DT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=5*60,y7=E2("authIdTokenMaxAge")||T7;let MT=null;const I7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y7)return;const i=n==null?void 0:n.token;MT!==i&&(MT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v7(t=h0()){const e=Pu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tB(t,{popupRedirectResolver:m7,persistence:[wB,pB,IC]}),r=E2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=I7(s.toString());hB(n,o,()=>o(n.currentUser)),cB(n,a=>o(a))}}const i=m2("auth");return i&&rB(n,`http://${i}`),n}function A7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",A7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_7("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this._delegate=e,this.firebase=n,lu(e,new hi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),d0(this._delegate)))}_getService(e,n=di){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=di){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){lu(this._delegate,e)}_addOrOverwriteComponent(e){b2(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},FT=new us("app-compat","Firebase",C7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Dn,setLogLevel:k2,onLog:S2,apps:null,SDK_VERSION:Ai,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:m8}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||di,!w_(e,c))throw FT.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const f=c0(c,d);if(w_(e,f.name))return e[f.name];const m=new t(f,n);return e[f.name]=m,m}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,f=d.replace("-compat","");if(pi(c)&&c.type==="PUBLIC"){const m=(g=i())=>{if(typeof g[f]!="function")throw FT.create("invalid-app-argument",{appName:d});return g[f]()};c.serviceProps!==void 0&&Bc(m,c.serviceProps),n[f]=m,t.prototype[f]=function(...g){return this._getService.bind(this,d).apply(this,c.multipleInstances?g:[])}}return c.type==="PUBLIC"?n[f]:null}function u(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){const t=w7(b7);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:RC,extendNamespace:e,createSubscribe:T2,ErrorFactory:us,deepExtend:Bc});function e(n){Bc(t,n)}return t}const S7=RC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Lh("@firebase/app-compat"),k7="@firebase/app-compat",R7="0.2.40";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){Dn(k7,R7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=p2();if(t.firebase!==void 0){UT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&UT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const NC=S7;N7();var x7="firebase",P7="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */NC.registerVersion(x7,P7,"app-compat");const xC=NC.initializeApp({apiKey:"AIzaSyDuY4wlWQJtfV93_scQPetZxs3_BbBS5Jc",authDomain:"pchagas-sh.firebaseapp.com",projectId:"pchagas-sh",storageBucket:"pchagas-sh.appspot.com",messagingSenderId:"1083235124608",appId:"1:1083235124608:web:44a505a1781880d9492d65",measurementId:"G-Z5DNY9XK72"}),mf=aU(xC),L7=v7(xC);function O7(){const[t,e]=te.useState([]);te.useEffect(()=>bU(sU(mf,"notes"),f=>e(f.docs.map(m=>m.data()))),[]),te.useEffect(()=>{window.scrollTo(0,0)},[]);function n(f,m){vU(_T(mf,"notes",f),{Name:f,Content:m})}function r(f){u?u=="pedrochagas.sh@gmail.com"?AU(_T(mf,"notes",f)):alert("Parece que voc no tem permisso para deletar notas!"):alert("Faa login primeiro.")}const[i,s]=te.useState(`# Type your markdown code

## How to use this tool:

- Write your markdown in the left text area
- Save it by clicking in the "save" button below
- Old files will appear just below the save button

Be aware that this is the first version of this tool!

## Enjoy!`),[o,a]=te.useState(""),[u,c]=te.useState(""),d=()=>{const f=new cr;xB(L7,f).then(m=>c(m.user.email))};return v.jsxs(v.Fragment,{children:[v.jsx(ro,{content:OM}),v.jsxs("div",{className:"noteTakingApp",children:[v.jsxs("div",{className:"markdownEditor",children:[v.jsx("textarea",{value:i,onChange:f=>s(f.target.value)}),v.jsx("div",{className:"outputSection",children:v.jsx(Jv,{remarkPlugins:[l2],rehypePlugins:[VA],children:i})})]}),v.jsxs("div",{className:"sendToFirebaseDiv",children:[v.jsx("p",{children:" Note title: "}),v.jsx("textarea",{className:"titleText",value:o,onChange:f=>a(f.target.value)}),u=="pedrochagas.sh@gmail.com"?v.jsx("button",{onClick:()=>n(o,i),children:"Save on database"}):u?v.jsx("p",{children:"Looks like you don't have permission to upload items to the database..."}):v.jsx("button",{onClick:d,children:"Sign in to save on database"})]}),v.jsx("h2",{className:"titleH2",children:" Old notes "}),v.jsx("ul",{className:"oldNotes",children:t.map(f=>v.jsxs("li",{children:[v.jsx("a",{onClick:()=>{s(f.Content),a(f.title)},className:"prettyLink",children:f.Name}),u?v.jsx("a",{className:"prettyLink",onClick:()=>r(f.Name),children:" - Delete"}):v.jsx("a",{})]}))})]})]})}const D7="/assets/team-Y73mdNXR.png",M7="/assets/team_now-DMAVMUO5.png";function F7(){return te.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:"Past experiences until now"}),v.jsxs("div",{className:"background_entry",children:[v.jsx("h2",{className:"resume_title",children:"Military School, where I first begin to pursue my dreams"}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Robotics club - From student to teacher"}),v.jsx("p",{children:"At the military school I excelled a lot in robotics, winning medals and recognition for the school, which the institution I studied never had."}),v.jsx("p",{children:"  But of course I wasn't alone, my team was made up of three members and a teacher. I was both the team captain and responsible for programming the robots, and we even won two medals and two mentions in national competitions!"}),v.jsx("img",{src:D7}),v.jsx("h2",{children:" But what now? "}),v.jsx("p",{children:" Now I'm the new teacher for the robotics club! I give lessons and help the new members so the school keeps on doing great in robotics. The pleasure of travelling to do what you love is something I want the new generations of students do have."}),v.jsx("img",{src:M7})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Theater and acting. On the stages of the marvelous city"}),v.jsx("p",{children:" For much of my early life, I was a shy and introverted child. Growing up in a small family with few friends, I found socializing to be a challenge. "}),v.jsx("p",{children:' However, everything changed when I discovered the world of theater. I had the incredible opportunity to study acting at one of the most renowned institutions in Recife, PE, which played a pivotal role in boosting my social confidence and interpersonal skills. This journey even led to a milestone moment: performing a theater production at the prestigious "Cidade das Artes" in Rio de Janeiroan iconic venue where many of my idols, like Roger Waters, have graced the stage.'}),v.jsx("h2",{children:" What I learned with these experiences: "}),v.jsx("p",{children:' I used to be so focused on technology and all things "nerdy" that I never fully realized my natural gift for the arts. However, diving into the world of performance and acting revealed something surprising: I discovered a deep, expressive side of myself with so much to share with the world. Along the way, I developed strong public speaking skills and learned to manage my nerves, gaining newfound confidence in the process. '})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"First research program, convolutional machine learning"}),v.jsx("p",{children:" In 2019, I was given one of the greatest opportunities of my life: the chance to join a machine learning research project at the Federal University of Pernambuco."}),v.jsx("p",{children:"As a 15-year-old student, I was introduced to complex topics in mathematics and computing, such as linear algebra, calculus and AI modelling and programming. The research was a success, and my teacher and teammates were impressed by how quickly I grasped these advanced concepts."}),v.jsx("p",{children:"I dedicated myself to the programming and computing aspects, and the results spoke for themselvesI won the award for Best Young Researcher in the 2019-2021 program!"}),v.jsx("p",{children:"This recognition opened the door to an even more exciting opportunity: joining a cutting-edge research project in the field of quantum machine learning."}),v.jsx("h2",{children:" What I learned with this research? "}),v.jsx("p",{children:"This experience taught me the true meaning of effective learning. With limited time to grasp such advanced topics while maintaining good grades in school, I had to develop my most valuable skill: the ability to learn quickly and efficiently, on-demand."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Second research program, quantum machine learning"}),v.jsx("p",{children:"During my second research program, I faced significant challenges at the start. This time, I had to dive into the complexities of quantum mechanics and learn how to apply it to develop quantum machine learning models."}),v.jsx("p",{children:"The research aimed to implement an Italian quantum machine learning model created by Stefano Mangini, a prominent researcher in the field. This was no easy task."}),v.jsx("p",{children:"With just two years to understand and master these advanced concepts, I pushed myself to my limits. It became the most intense period of studying in my life, and through sheer determination, I exceeded my own expectations and became the best version of myself."}),v.jsx("p",{children:"The research was a major successwe successfully implemented the ML model and even secured third place in the prestigious IBM Quantum Challenge!"}),v.jsx("h2",{children:" The results: "}),v.jsx("p",{children:"Although there was no official money prize this time due to the large 2023 education sector strike, I was honored to receive first place for the best high school research program for the second time in a row, in collaboration with the Federal University of Pernambuco. From what I know, I was the only one to achieve this distinction!"})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"End of my high school studies"}),v.jsx("p",{children:" In 2024, I completed my studies! My journey through this educational chapter was filled with remarkable achievementseverything from performing on Brazil's most prestigious stage to winning national robotics competitions, and even leading successful, complex research projects. "}),v.jsx("p",{children:" As I neared the end of high school, I applied to the three universities I admired most: the Pernambuco Conservatory of Music, the Catholic University of Pernambuco, and the Federal University of Pernambuco. To my delight, I was accepted into all of them!"}),v.jsx("p",{children:" Now, Im pursuing Electronics Engineering at UFPE, which is known as the most challenging engineering program at the institution. Its also the only one that sends students directly to PhD programs at prestigious universities like Harvard and MIT. "}),v.jsx("p",{children:" In addition, Im a classical guitarist at the Pernambuco Conservatory of Music. In my first semester, I was honored to be named the top student in my class, and I even had the privilege of performing my first concert."}),v.jsx("p",{children:" And to top it all off, Im also studying Internet Systems at the Catholic University of Pernambuco! "})]})})]}),v.jsxs("div",{className:"background_entry",children:[v.jsx("h2",{className:"resume_title",children:"First semester of college"}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"NASA Space Apps"}),v.jsx("p",{children:"In my first semester of college, I applied for the prestigious NASA Space Apps Hackathon, an international event that attracts top talent from around the world."}),v.jsx("p",{children:"I wasnt expecting to be accepted, so you can imagine my surprise when I was!"}),v.jsx("p",{children:"The experience was truly transformative. I worked overnight with a team of people I had never met before, collaborating with brilliant individuals. I had the chance to connect with some key figures in the tech industry and even appeared on national TV for the first time!"}),v.jsx("p",{children:"While I didnt win any prizes, the experience itself was invaluable. It taught me that I thrive under pressure, and Im excited to return in 2025, stronger and more prepared than ever!"})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Rec'n Play, and winning my first Hackathon!"}),v.jsx("p",{children:"The Rec'n Play event was an incredibly fun and educational experience held in my hometown, focusing on technology and networking."}),v.jsx("p",{children:`The highlight for me was participating in "Desafio Globo," a hackathon hosted by Globo, Brazil's largest TV networkone I grew up watching!`}),v.jsx("p",{children:"This event was one of the most heartwarming experiences of my life. I was working on something Im truly passionate about, in a place that brought back cherished memories."}),v.jsx("p",{children:"The challenge itself was to create a system to analyze and predict reports submitted to the news department of the channel. I leveraged all my skills to develop an AI tool that earned me the honor of securing first place!"}),v.jsx("p",{children:"It was my second hackathon ever and the first one I won. This experience was truly life-changing, and Im excited about the possibility of further developing my skills within Globos organization."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Robotics judge"}),v.jsx("p",{children:"During high school, I had the honor of winning multiple robotics competitions. Now, I am privileged to give back to the community as a judge at the Braslia Robotics Olympiad!"}),v.jsx("p",{children:"I first served as a judge in the 2024 competition and plan to continue in 2025 and beyond. It was an incredibly rewarding experience that challenged me to refine my assertiveness and decision-making skills. For instance, handling situations like awarding zero points to a disappointed team coach was not easy, but I approached it with professionalism and fairness."})]})})]}),v.jsxs("div",{className:"background_entry",children:[v.jsx("h2",{className:"resume_title",children:"UFPE - Engineering College (Now!)"}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Research Opportunities"}),v.jsx("p",{children:"After tackling my first exams (which presented some challenges), Im thrilled to explore new research opportunities on the horizon!"}),v.jsx("p",{children:"Here are a few I was offered and am still considering:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Advancing my research in quantum machine learning: Diving deeper into this cutting-edge field and exploring its potential applications. "}),v.jsx("li",{children:"Combining music and engineering: Pursuing a project that bridges my two passions by creating high-quality, affordable musical instruments."})]}),v.jsx("p",{children:"Im taking some time to carefully evaluate these opportunities, and Ill update this list soon with the path I decide to follow."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Guitar Lessons"}),v.jsx("p",{children:"After my first concert, some people recognized me and reached out for guitar lessons! Now, every Sunday morning, I have the pleasure of teaching guitar to both teachers and students from the UFPE Engineering Department."})]})})]})]})}function U7(){return te.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:"Resume"}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Profile"}),v.jsxs("section",{children:[v.jsx("p",{children:"Passionate about technology, music, and innovation, Im currently pursuing Electronic Engineering at UFPE while expanding my expertise in AI, software development, and classical music. I thrive in challenging environments and am eager to contribute to impactful projects."}),v.jsx("p",{children:"I'm a strong team worker, with a gift for leadership and always working for the best of my team and project. I'm also a natural born innovator! I'll always search for the best new ways to develop, interact and produce."}),v.jsxs("p",{children:[" I want to ",v.jsx("a",{className:"prettyLink",children:"make a real difference"})," on ",v.jsx("a",{className:"prettyLink",children:" in real people's lives."})]})]})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Skills"}),v.jsxs("section",{children:[v.jsx("h2",{className:"section_title",children:"Soft skills"}),v.jsxs("ul",{children:[v.jsx("li",{children:" Great team worker "}),v.jsx("li",{children:" Agile learner, Scrum Master "}),v.jsx("li",{children:" Leader with passion for diffcult projects "}),v.jsx("li",{children:" Learning on-demand "}),v.jsx("li",{children:" Public speaker with assertive dialogue courses "}),v.jsx("li",{children:" Passionate teacher "}),v.jsx("li",{children:" Researcher and innovator "}),v.jsx("li",{children:" Delegate on MUN simulations "})]}),v.jsx("h2",{className:"section_title",children:"Programming languages"}),v.jsxs("ul",{children:[v.jsx("li",{children:" Systems Programming with C/C++ and Rust "}),v.jsx("li",{children:" AI developer, PyTorch, TensorFlow and low-level development"}),v.jsx("li",{children:" Scripting with Go, Python and Lua "}),v.jsx("li",{children:" Web development with JS/TS"}),v.jsx("li",{children:" Linux distro maintainer, and linux server admin "}),v.jsx("li",{children:" Game and physics engine programming "})]}),v.jsx("h2",{className:"section_title",children:"Frameworks"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Web development with React and Django "}),v.jsx("li",{children:"Internal servers with ngrok and Linux internal networks"})]})]})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Experience"}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Robotics Teacher - Military School of Recife / nonprofit organizations"}),v.jsx("p",{children:"I'm a robotics coach and teacher for the Military School of Recife. I thrive for the success of my team."}),v.jsx("p",{children:"I also give online lessons for free for the new teams under the national system of military schools."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Robotics Judge - Brazil National Robotics Olympiad"}),v.jsx("p",{children:"Judged national robotics competitions, refining assertiveness and technical evaluation skills while inspiring young innovators."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Hackathon Winner - Rec'n Play / Globo Challange"}),v.jsx("p",{children:"Developed an AI tool to automate news validation for Globo, securing 1st place in the challenge. Leveraged natural language processing and TensorFlow to streamline workflows."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Guitar Teacher - Online english lessons / Recife-PE"}),v.jsx("p",{children:"I provide guitar lessons in both English and Portuguese for berginners."}),v.jsx("p",{children:"Starting in 2024, I gave guitar lessons for free to young people in my neighborhood, aiming to increase the transforming power of music. Now I'm looking for a church or nonprofit organization to start a new project."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Young Entrepeneur"}),v.jsx("p",{children:"I run a side business in which me and a group of friends develop websites and help college students with programming subjects and projects."})]})}),v.jsx("section",{children:v.jsxs("div",{children:[v.jsx("h2",{className:"section_title",children:"Delegate in MUN simulation / PEMUN/CRIJN"}),v.jsx("p",{children:"I take part in MUN simulations as speech advisor, and tech lead."})]})})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Education"}),v.jsx("section",{children:v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Federal University of Pernambuco (UFPE):"})," Electronic Engineering (2024 - Present)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Catholic University of Pernambuco (UNICAP):"})," Internet Systems (2024 - Present)"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Pernambuco Conservatory of Music:"})," Classical Guitar (2024 - Present)"]})]})})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Achievements"}),v.jsx("section",{children:v.jsxs("ul",{children:[v.jsx("li",{children:"Best High School Researcher (Twice) - Federal University of Pernambuco (2019-2023)"}),v.jsx("li",{children:"3rd place - IBM Quantum Challenge (2023)"}),v.jsx("li",{children:"1st place - Globo Hackathon Challenge, Rec'n Play (2024)"}),v.jsx("li",{children:"Total of three gold medals in national robotics competitions as student and as teacher"}),v.jsx("li",{children:"Best Innovator Prize at the National Robotics Olympiad"}),v.jsx("li",{children:"Best programmer and robotics club president of the military school system of Brazil"}),v.jsx("li",{children:"First place at FEBRACE 2021"}),v.jsx("li",{children:"Second place at MOSTRATEC 2022"})]})})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"What am I currently doing:"}),v.jsx("section",{children:v.jsxs("ul",{children:[v.jsx("li",{children:" Studying for CCNA and Amazon certifications. "}),v.jsx("li",{children:" Searching for my first internship. "}),v.jsx("li",{children:" Looking for a nonprofit organization or church to give guitar or robotics lessons. "})]})})]}),v.jsxs("div",{className:"resume_entry",children:[v.jsx("h2",{className:"resume_title",children:"Contact"}),v.jsx("section",{children:v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Email: "}),v.jsx("a",{className:"prettyLink",children:"pedro.pcsilva@ufpe.br"})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Linkedin: "})," ",v.jsx("a",{href:"https://www.linkedin.com/in/pedro-chagas-44a4112aa",className:"prettyLink",children:"Pedro Chagas"})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"GitHub: "})," ",v.jsx("a",{href:"https://github.com/pchagas72",className:"prettyLink",children:"pchagas72"})]})]})})]})]})}function B7(){const t=(i,s)=>{document.documentElement.style.setProperty("--cursorX",i+"px"),document.documentElement.style.setProperty("--cursorY",s+"px")},e=i=>{t(i.clientX,i.clientY)},n=i=>{t(i.touches[0].clientX,i.touches[0].clientY)};return(()=>{document.addEventListener("mousemove",e),document.addEventListener("touchmove",n)})(),v.jsxs(ER,{children:[v.jsx(Mr,{path:"/",element:v.jsx(jR,{})}),v.jsx(Mr,{path:"/blog",element:v.jsx(kM,{})}),v.jsx(Mr,{path:"/bookshelf",element:v.jsx(xM,{})}),v.jsx(Mr,{path:"/repertoir",element:v.jsx(LM,{})}),v.jsx(Mr,{path:"/notebook",element:v.jsx(O7,{})}),v.jsx(Mr,{path:"/background",element:v.jsx(F7,{})}),v.jsx(Mr,{path:"/resume",element:v.jsx(U7,{})})]})}const V7="/assets/mandelbrot-Ddl196E9.png",H7="/assets/old_man-C_ZCUUhs.png",j7="/assets/bear-9bVSqtts.png";function z7(t,e){return t!=e-1?t+1:0}function $7(){const t=[V7,H7,j7],[e,n]=te.useState(0),[r,i]=te.useState(0);if(r<3)var s="";else var s="Curious about the images?";return v.jsxs("div",{className:"Header_div",children:[v.jsx(fa,{to:"/",children:v.jsx("h1",{className:"h1_header",children:"Pedro Chagas"})}),v.jsx("img",{onClick:()=>{n(z7(e,t.length)),i(r+1)},src:t[e]}),v.jsx("p",{className:"mandelbrot_text",children:v.jsx("a",{href:"https://pt.wikipedia.org/wiki/Conjunto_de_Mandelbrot#:~:text=Mandelbrot%2C%20um%20matem%C3%A1tico%20do%20IBM,em%20escalas%20cada%20vez%20menores.",children:s})})]})}JI(document.getElementById("root")).render(v.jsx(bR,{children:v.jsx(te.StrictMode,{children:v.jsxs("div",{className:"website_border",children:[v.jsx($7,{}),v.jsx(B7,{})]})})}));
